"use strict";(self.webpackChunkkho_mvg_client=self.webpackChunkkho_mvg_client||[]).push([[451],{6451:(e,s,n)=>{n.r(s),n.d(s,{default:()=>F});var a=n(9379),t=n(5043),l=n(4063),i=n(3519),c=n(1719),r=n(4282),d=n(1072),o=n(8602),h=n(8628),m=n(5328),x=n(326),j=n(4196),u=n(2557),g=n(3216),v=n(5016),p=(n(6471),n(2550)),f=n(9942),b=n(579);const N={width:"100%",height:"600px"},y={lat:10.762622,lng:106.660172},A={disableDefaultUI:!1,zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!0,clickableIcons:!1,mapTypeId:"satellite",tilt:0};const _=function(e){let{center:s,zoom:n=16,children:a,onMapLoad:l}=e;const{isLoaded:i,loadError:c}=(0,f.KD)({googleMapsApiKey:"",libraries:["drawing","geometry"]}),[,r]=t.useState(null),d=t.useCallback(e=>{r(e),l&&l(e)},[l]),o=t.useCallback(()=>{r(null)},[]);return c?(0,b.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"red"},children:[(0,b.jsx)("h4",{children:"\u274c L\u1ed7i t\u1ea3i Google Maps"}),(0,b.jsx)("p",{children:c.message}),(0,b.jsx)("p",{children:"Vui l\xf2ng ki\u1ec3m tra:"}),(0,b.jsxs)("ul",{style:{textAlign:"left",display:"inline-block"},children:[(0,b.jsx)("li",{children:"REACT_APP_GOOGLE_MAPS_API_KEY trong file .env"}),(0,b.jsx)("li",{children:"API key \u0111\xe3 \u0111\u01b0\u1ee3c enable Maps JavaScript API"}),(0,b.jsx)("li",{children:"Billing \u0111\xe3 \u0111\u01b0\u1ee3c setup (n\u1ebfu c\u1ea7n)"})]})]}):i?(0,b.jsx)(f.u6,{mapContainerStyle:N,center:s||y,zoom:n,onLoad:d,onUnmount:o,options:A,children:a}):(0,b.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden",children:"\u0110ang t\u1ea3i b\u1ea3n \u0111\u1ed3..."})}),(0,b.jsx)("p",{className:"mt-2",children:"\u0110ang t\u1ea3i Google Maps..."})]})},k={available:{fillColor:"#dc3545",strokeColor:"#721c24",label:"C\xf2n tr\u1ed1ng"},rented:{fillColor:"#28a745",strokeColor:"#155724",label:"\u0110\xe3 thu\xea"},deposited:{fillColor:"#fd7e14",strokeColor:"#dc3545",label:"\u0110\xe3 c\u1ecdc"},fixed_service:{fillColor:"#ffffff",strokeColor:"#6c757d",label:"D\u1ecbch v\u1ee5 c\u1ed1 \u0111\u1ecbnh"},maintenance:{fillColor:"#ffc107",strokeColor:"#856404",label:"B\u1ea3o tr\xec"}};const C=function(e){let{zone:s,onClick:n,isSelected:a}=e;const[l,i]=t.useState(!1),[c,r]=t.useState(null),d=t.useMemo(()=>{if(!s.coordinates)return[];try{const e="string"===typeof s.coordinates?JSON.parse(s.coordinates):s.coordinates;return Array.isArray(e)?e.map(e=>({lat:parseFloat(e.lat||e.latitude),lng:parseFloat(e.lng||e.longitude)})):[]}catch(e){return console.error("Error parsing coordinates:",e),[]}},[s.coordinates]),o=t.useCallback(()=>{if(0===d.length)return null;return{lat:d.reduce((e,s)=>e+s.lat,0)/d.length,lng:d.reduce((e,s)=>e+s.lng,0)/d.length}},[d]),h=k[s.status]||k.available,m={fillColor:h.fillColor,fillOpacity:a?.6:.4,strokeColor:a?"#000000":h.strokeColor,strokeOpacity:a?1:.8,strokeWeight:a?3:2,clickable:!0,draggable:!1,editable:!1,geodesic:!1,zIndex:a?100:1};return 0===d.length?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.tS,{paths:d,options:m,onClick:()=>{const e=o();e&&(r(e),i(!0)),n&&n(s)},onMouseOver:()=>{if(!a){i(!0);const e=o();e&&r(e)}},onMouseOut:()=>{a||i(!1)}}),l&&c&&(0,b.jsx)(f.Fu,{position:c,onCloseClick:()=>i(!1),children:(0,b.jsxs)("div",{style:{maxWidth:"250px"},children:[(0,b.jsxs)("h6",{className:"mb-2",children:[(0,b.jsx)("strong",{children:s.zone_code}),s.zone_name&&" - ".concat(s.zone_name)]}),(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)("span",{className:"badge",style:{backgroundColor:h.fillColor,color:"fixed_service"===s.status?"#000":"#fff"},children:h.label})}),(0,b.jsxs)("div",{style:{fontSize:"13px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Di\u1ec7n t\xedch:"})," ",s.area," m\xb2"]}),s.zone_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Lo\u1ea1i:"})," ","rental"===s.zone_type?"Cho thu\xea":"fixed_service"===s.zone_type?"D\u1ecbch v\u1ee5 c\u1ed1 \u0111\u1ecbnh":"Khu v\u1ef1c chung"]}),s.rental_price&&"fixed_service"!==s.status&&(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Gi\xe1 thu\xea:"})," ",s.rental_price.toLocaleString("vi-VN")," VN\u0110/m\xb2"]}),s.customer_info&&"rented"===s.status&&(0,b.jsxs)("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid #ddd"},children:[(0,b.jsx)("strong",{children:"Kh\xe1ch thu\xea:"}),(0,b.jsx)("div",{children:s.customer_info.name}),s.customer_info.phone&&(0,b.jsxs)("div",{children:["\ud83d\udcde ",s.customer_info.phone]}),s.customer_info.contract_end&&(0,b.jsx)("div",{children:(0,b.jsxs)("small",{children:["H\u1ebft h\u1ea1n: ",new Date(s.customer_info.contract_end).toLocaleDateString("vi-VN")]})})]}),s.facilities&&Object.keys(s.facilities).length>0&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("strong",{children:"Ti\u1ec7n \xedch:"}),(0,b.jsx)("div",{style:{fontSize:"12px"},children:Object.entries(s.facilities).map(e=>{let[s,n]=e;return n&&(0,b.jsx)("span",{className:"badge bg-secondary me-1",children:s},s)})})]})]}),n&&(0,b.jsx)("button",{className:"btn btn-sm btn-primary mt-2 w-100",onClick:()=>n(s),children:"Xem chi ti\u1ebft"})]})})]})},w=[{status:"rented",color:"#28a745",label:"\u0110\xe3 cho thu\xea",icon:"\u25a0"},{status:"available",color:"#dc3545",label:"C\xf2n tr\u1ed1ng",icon:"\u25a0"},{status:"deposited",color:"#fd7e14",label:"\u0110\xe3 nh\u1eadn c\u1ecdc",icon:"\u25a0"},{status:"fixed_service",color:"#ffffff",label:"D\u1ecbch v\u1ee5 c\u1ed1 \u0111\u1ecbnh",icon:"\u25a1",textColor:"#000"}];const T=function(e){let{stats:s}=e;return(0,b.jsxs)("div",{className:"map-legend",children:[(0,b.jsx)("div",{className:"legend-header",children:(0,b.jsx)("strong",{children:"Ch\xfa th\xedch"})}),(0,b.jsx)("div",{className:"legend-items",children:w.map(e=>(0,b.jsxs)("div",{className:"legend-item",children:[(0,b.jsx)("span",{className:"legend-color",style:{color:e.color,textShadow:"fixed_service"===e.status?"0 0 2px #000":"none"},children:e.icon}),(0,b.jsx)("span",{className:"legend-label",children:e.label}),s&&(0,b.jsxs)("span",{className:"legend-count",children:["(",s[e.status]||0,")"]})]},e.status))}),(0,b.jsx)("div",{className:"legend-footer",children:(0,b.jsxs)("small",{className:"text-muted",children:[(0,b.jsx)("i",{className:"bi bi-info-circle"})," Click v\xe0o zone \u0111\u1ec3 xem chi ti\u1ebft"]})})]})};const S=function(e){var s,n;let{project:a,zones:l,onZoneClick:i,showLegend:c=!0}=e;const[r,d]=(0,t.useState)(null),[o,h]=(0,t.useState)(null),[m,x]=(0,t.useState)(l||[]),[j,u]=(0,t.useState)("all");(0,t.useEffect)(()=>{null!==a&&void 0!==a&&a.latitude&&null!==a&&void 0!==a&&a.longitude&&h({lat:parseFloat(a.latitude),lng:parseFloat(a.longitude)})},[a]),(0,t.useEffect)(()=>{x("all"===j?l||[]:(l||[]).filter(e=>e.status===j))},[l,j]);const g=e=>{d(e),i&&i(e)},v=t.useMemo(()=>{if(!l||0===l.length)return null;const e=l.reduce((e,s)=>e+(parseFloat(s.area)||0),0),s=l.filter(e=>"available"===e.status),n=l.filter(e=>"rented"===e.status),a=l.filter(e=>"deposited"===e.status),t=l.filter(e=>"fixed_service"===e.status),i=s.reduce((e,s)=>e+(parseFloat(s.area)||0),0),c=n.reduce((e,s)=>e+(parseFloat(s.area)||0),0);return{total:l.length,totalArea:e,available:s.length,rented:n.length,deposited:a.length,fixedService:t.length,availableArea:i,rentedArea:c,occupancyRate:e>0?(c/e*100).toFixed(1):0}},[l]);return o?(0,b.jsxs)("div",{className:"project-map-view",children:[(0,b.jsx)("div",{className:"map-header mb-3",children:(0,b.jsxs)("div",{className:"row align-items-center",children:[(0,b.jsxs)("div",{className:"col-md-6",children:[(0,b.jsxs)("h5",{className:"mb-0",children:[(0,b.jsx)("i",{className:"bi bi-map"})," B\u1ea3n \u0111\u1ed3 d\u1ef1 \xe1n"]}),(null===a||void 0===a?void 0:a.address)&&(0,b.jsxs)("small",{className:"text-muted",children:["\ud83d\udccd ",a.address]})]}),(0,b.jsx)("div",{className:"col-md-6 text-end",children:(0,b.jsxs)("select",{className:"form-select form-select-sm d-inline-block w-auto",value:j,onChange:e=>u(e.target.value),children:[(0,b.jsxs)("option",{value:"all",children:["T\u1ea5t c\u1ea3 zones (",(null===l||void 0===l?void 0:l.length)||0,")"]}),(0,b.jsxs)("option",{value:"available",children:["C\xf2n tr\u1ed1ng (",(null===v||void 0===v?void 0:v.available)||0,")"]}),(0,b.jsxs)("option",{value:"rented",children:["\u0110\xe3 thu\xea (",(null===v||void 0===v?void 0:v.rented)||0,")"]}),(0,b.jsxs)("option",{value:"deposited",children:["\u0110\xe3 c\u1ecdc (",(null===v||void 0===v?void 0:v.deposited)||0,")"]}),(0,b.jsxs)("option",{value:"fixed_service",children:["D\u1ecbch v\u1ee5 c\u1ed1 \u0111\u1ecbnh (",(null===v||void 0===v?void 0:v.fixedService)||0,")"]})]})})]})}),v&&(0,b.jsx)("div",{className:"map-stats mb-3",children:(0,b.jsxs)("div",{className:"row g-2",children:[(0,b.jsx)("div",{className:"col-md-3",children:(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-label",children:"T\u1ed5ng zones"}),(0,b.jsx)("div",{className:"stat-value",children:v.total})]})}),(0,b.jsx)("div",{className:"col-md-3",children:(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-label",children:"T\u1ed5ng di\u1ec7n t\xedch"}),(0,b.jsxs)("div",{className:"stat-value",children:[v.totalArea.toLocaleString("vi-VN")," m\xb2"]})]})}),(0,b.jsx)("div",{className:"col-md-3",children:(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-label",children:"\u0110\xe3 cho thu\xea"}),(0,b.jsxs)("div",{className:"stat-value text-success",children:[v.rentedArea.toLocaleString("vi-VN")," m\xb2"]})]})}),(0,b.jsx)("div",{className:"col-md-3",children:(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-label",children:"T\u1ef7 l\u1ec7 l\u1ea5p \u0111\u1ea7y"}),(0,b.jsxs)("div",{className:"stat-value text-primary",children:[v.occupancyRate,"%"]})]})})]})}),(0,b.jsxs)("div",{className:"map-container-wrapper",children:[(0,b.jsxs)(_,{center:o,zoom:(null===a||void 0===a?void 0:a.map_zoom)||18,children:[(0,b.jsx)(f.pH,{position:o,title:null===a||void 0===a?void 0:a.name,icon:{url:"https://maps.google.com/mapfiles/ms/icons/blue-dot.png",scaledSize:null!==(s=window.google)&&void 0!==s&&null!==(n=s.maps)&&void 0!==n&&n.Size?new window.google.maps.Size(40,40):void 0}}),m.map(e=>(0,b.jsx)(C,{zone:e,onClick:g,isSelected:(null===r||void 0===r?void 0:r.id)===e.id},e.id))]}),c&&(0,b.jsx)("div",{className:"map-legend-overlay",children:(0,b.jsx)(T,{stats:v})})]}),r&&(0,b.jsx)("div",{className:"selected-zone-info mt-3",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h6",{className:"card-title mb-1",children:[r.zone_code,r.zone_name&&" - ".concat(r.zone_name)]}),(0,b.jsx)("p",{className:"text-muted mb-2",children:(0,b.jsxs)("small",{children:["Zone ID: #",r.id]})})]}),(0,b.jsx)("button",{className:"btn-close",onClick:()=>d(null),"aria-label":"Close"})]}),(0,b.jsxs)("div",{className:"row g-3",children:[(0,b.jsxs)("div",{className:"col-md-4",children:[(0,b.jsx)("strong",{children:"Tr\u1ea1ng th\xe1i:"}),(0,b.jsx)("div",{children:(0,b.jsx)("span",{className:"badge bg-".concat("rented"===r.status?"success":"deposited"===r.status?"warning":"available"===r.status?"danger":"secondary"),children:"rented"===r.status?"\u0110\xe3 thu\xea":"deposited"===r.status?"\u0110\xe3 c\u1ecdc":"available"===r.status?"C\xf2n tr\u1ed1ng":"D\u1ecbch v\u1ee5 c\u1ed1 \u0111\u1ecbnh"})})]}),(0,b.jsxs)("div",{className:"col-md-4",children:[(0,b.jsx)("strong",{children:"Di\u1ec7n t\xedch:"}),(0,b.jsxs)("div",{children:[r.area," m\xb2"]})]}),r.rental_price&&(0,b.jsxs)("div",{className:"col-md-4",children:[(0,b.jsx)("strong",{children:"Gi\xe1 thu\xea:"}),(0,b.jsxs)("div",{children:[r.rental_price.toLocaleString("vi-VN")," VN\u0110/m\xb2"]})]})]}),r.customer_info&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-top",children:[(0,b.jsx)("strong",{children:"Th\xf4ng tin kh\xe1ch thu\xea:"}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"T\xean:"})," ",r.customer_info.name]}),r.customer_info.phone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"S\u0110T:"})," ",r.customer_info.phone]}),r.customer_info.email&&(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Email:"})," ",r.customer_info.email]})]})]})]})})})]}):(0,b.jsxs)("div",{className:"alert alert-warning",children:[(0,b.jsx)("strong",{children:"\u26a0\ufe0f Ch\u01b0a c\xf3 t\u1ecda \u0111\u1ed9"}),(0,b.jsx)("p",{className:"mb-0",children:"Vui l\xf2ng c\u1eadp nh\u1eadt t\u1ecda \u0111\u1ed9 (latitude, longitude) cho d\u1ef1 \xe1n \u0111\u1ec3 hi\u1ec3n th\u1ecb b\u1ea3n \u0111\u1ed3."})]})};var z=n(3722);const D=[{value:"fire_safety",label:"\ud83d\udd25 Ph\xf2ng ch\xe1y ch\u1eefa ch\xe1y"},{value:"security",label:"\ud83d\udd12 An ninh"},{value:"maintenance",label:"\ud83d\udd27 B\u1ea3o tr\xec"},{value:"inspection",label:"\ud83d\udd0d Ki\u1ec3m tra"},{value:"cleaning",label:"\ud83e\uddf9 V\u1ec7 sinh"},{value:"equipment_check",label:"\u2699\ufe0f Ki\u1ec3m tra thi\u1ebft b\u1ecb"},{value:"other",label:"\ud83d\udccb Kh\xe1c"}],B=[{value:"daily",label:"H\xe0ng ng\xe0y"},{value:"weekly",label:"H\xe0ng tu\u1ea7n"},{value:"biweekly",label:"2 tu\u1ea7n/l\u1ea7n"},{value:"monthly",label:"H\xe0ng th\xe1ng"},{value:"quarterly",label:"H\xe0ng qu\xfd"},{value:"semiannual",label:"6 th\xe1ng/l\u1ea7n"},{value:"yearly",label:"H\xe0ng n\u0103m"},{value:"one_time",label:"M\u1ed9t l\u1ea7n"}],K=[{value:"low",label:"Th\u1ea5p"},{value:"medium",label:"Trung b\xecnh"},{value:"high",label:"Cao"},{value:"critical",label:"Kh\u1ea9n c\u1ea5p"}];const L=function(e){let{show:s,onHide:n,projectId:l,task:i,onSave:h}=e;const[m,x]=(0,t.useState)({title:"",description:"",task_type:"maintenance",frequency:"monthly",start_date:(new Date).toISOString().split("T")[0],due_date:"",assigned_to:"",priority:"medium",is_recurring:!1,notify_before_days:3}),[j,g]=(0,t.useState)([]),[v,p]=(0,t.useState)(!1),[f,N]=(0,t.useState)("");(0,t.useEffect)(()=>{s&&(y(),x(i?{title:i.title||"",description:i.description||"",task_type:i.task_type||"maintenance",frequency:i.frequency||"monthly",start_date:i.start_date?i.start_date.split("T")[0]:(new Date).toISOString().split("T")[0],due_date:i.due_date?i.due_date.split("T")[0]:"",assigned_to:i.assigned_to||"",priority:i.priority||"medium",is_recurring:i.is_recurring||!1,notify_before_days:i.notify_before_days||3}:{title:"",description:"",task_type:"maintenance",frequency:"monthly",start_date:(new Date).toISOString().split("T")[0],due_date:"",assigned_to:"",priority:"medium",is_recurring:!1,notify_before_days:3}))},[s,i]);const y=async()=>{try{const e=localStorage.getItem("token"),s=await fetch("/api/users?limit=100",{headers:{Authorization:"Bearer ".concat(e)}}),n=await s.json();n.success&&g(n.data.users||[])}catch(f){console.error("Error loading users:",f)}},A=(e,s)=>{x(n=>(0,a.A)((0,a.A)({},n),{},{[e]:s}))};return(0,b.jsx)(u.A,{show:s,onHide:n,size:"lg",backdrop:"static",children:(0,b.jsxs)(z.A,{onSubmit:async e=>{e.preventDefault(),p(!0),N("");try{const e=localStorage.getItem("token"),s=i?"/api/projects/".concat(l,"/tasks/").concat(i.id):"/api/projects/".concat(l,"/tasks"),n=i?"PUT":"POST",a=await fetch(s,{method:n,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(m)}),t=await a.json();t.success?h():N(t.message||"C\xf3 l\u1ed7i x\u1ea3y ra")}catch(f){console.error("Error saving task:",f),N("Kh\xf4ng th\u1ec3 l\u01b0u c\xf4ng vi\u1ec7c. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{p(!1)}},children:[(0,b.jsx)(u.A.Header,{closeButton:!0,children:(0,b.jsx)(u.A.Title,{children:i?"\u270f\ufe0f S\u1eeda c\xf4ng vi\u1ec7c":"\u2795 Th\xeam c\xf4ng vi\u1ec7c m\u1edbi"})}),(0,b.jsxs)(u.A.Body,{children:[f&&(0,b.jsx)(c.A,{variant:"danger",dismissible:!0,onClose:()=>N(""),children:f}),(0,b.jsx)(d.A,{children:(0,b.jsx)(o.A,{md:12,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsxs)(z.A.Label,{children:["Ti\xeau \u0111\u1ec1 ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(z.A.Control,{type:"text",placeholder:"Nh\u1eadp ti\xeau \u0111\u1ec1 c\xf4ng vi\u1ec7c",value:m.title,onChange:e=>A("title",e.target.value),required:!0})]})})}),(0,b.jsx)(d.A,{children:(0,b.jsx)(o.A,{md:12,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsx)(z.A.Label,{children:"M\xf4 t\u1ea3"}),(0,b.jsx)(z.A.Control,{as:"textarea",rows:3,placeholder:"Nh\u1eadp m\xf4 t\u1ea3 chi ti\u1ebft c\xf4ng vi\u1ec7c",value:m.description,onChange:e=>A("description",e.target.value)})]})})}),(0,b.jsxs)(d.A,{children:[(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsxs)(z.A.Label,{children:["Lo\u1ea1i c\xf4ng vi\u1ec7c ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(z.A.Select,{value:m.task_type,onChange:e=>A("task_type",e.target.value),required:!0,children:D.map(e=>(0,b.jsx)("option",{value:e.value,children:e.label},e.value))})]})}),(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsxs)(z.A.Label,{children:["\u01afu ti\xean ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(z.A.Select,{value:m.priority,onChange:e=>A("priority",e.target.value),required:!0,children:K.map(e=>(0,b.jsx)("option",{value:e.value,children:e.label},e.value))})]})})]}),(0,b.jsxs)(d.A,{children:[(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsxs)(z.A.Label,{children:["Ng\xe0y b\u1eaft \u0111\u1ea7u ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(z.A.Control,{type:"date",value:m.start_date,onChange:e=>A("start_date",e.target.value),required:!0})]})}),(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsxs)(z.A.Label,{children:["H\u1ea1n ch\xf3t ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(z.A.Control,{type:"date",value:m.due_date,onChange:e=>A("due_date",e.target.value),min:m.start_date,required:!0})]})})]}),(0,b.jsxs)(d.A,{children:[(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsxs)(z.A.Label,{children:["T\u1ea7n su\u1ea5t ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(z.A.Select,{value:m.frequency,onChange:e=>A("frequency",e.target.value),required:!0,children:B.map(e=>(0,b.jsx)("option",{value:e.value,children:e.label},e.value))})]})}),(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsx)(z.A.Label,{children:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"}),(0,b.jsxs)(z.A.Select,{value:m.assigned_to,onChange:e=>A("assigned_to",e.target.value),children:[(0,b.jsx)("option",{value:"",children:"-- Ch\u01b0a g\xe1n --"}),j.map(e=>(0,b.jsxs)("option",{value:e.id,children:[e.full_name," (",e.role,")"]},e.id))]})]})})]}),(0,b.jsxs)(d.A,{children:[(0,b.jsx)(o.A,{md:6,children:(0,b.jsx)(z.A.Group,{className:"mb-3",children:(0,b.jsx)(z.A.Check,{type:"checkbox",label:"C\xf4ng vi\u1ec7c l\u1eb7p l\u1ea1i",checked:m.is_recurring,onChange:e=>A("is_recurring",e.target.checked)})})}),(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)(z.A.Group,{className:"mb-3",children:[(0,b.jsx)(z.A.Label,{children:"Nh\u1eafc tr\u01b0\u1edbc (ng\xe0y)"}),(0,b.jsx)(z.A.Control,{type:"number",min:"0",max:"30",value:m.notify_before_days,onChange:e=>A("notify_before_days",parseInt(e.target.value))}),(0,b.jsx)(z.A.Text,{className:"text-muted",children:"G\u1eedi th\xf4ng b\xe1o tr\u01b0\u1edbc h\u1ea1n ch\xf3t bao nhi\xeau ng\xe0y"})]})})]}),"one_time"!==m.frequency&&(0,b.jsxs)(c.A,{variant:"info",children:[(0,b.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,b.jsx)("strong",{children:"L\u01b0u \xfd:"}),' C\xf4ng vi\u1ec7c n\xe0y s\u1ebd t\u1ef1 \u0111\u1ed9ng t\u1ea1o l\u1ecbch k\u1ebf ti\u1ebfp sau khi ho\xe0n th\xe0nh (n\u1ebfu ch\u1ecdn "C\xf4ng vi\u1ec7c l\u1eb7p l\u1ea1i").']})]}),(0,b.jsxs)(u.A.Footer,{children:[(0,b.jsx)(r.A,{variant:"secondary",onClick:n,disabled:v,children:"H\u1ee7y"}),(0,b.jsx)(r.A,{variant:"primary",type:"submit",disabled:v,children:v?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"\u0110ang l\u01b0u..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-save me-2"}),i?"C\u1eadp nh\u1eadt":"T\u1ea1o m\u1edbi"]})})]})]})})},I={fire_safety:{icon:"\ud83d\udd25",color:"danger"},security:{icon:"\ud83d\udd12",color:"warning"},maintenance:{icon:"\ud83d\udd27",color:"info"},inspection:{icon:"\ud83d\udd0d",color:"primary"},cleaning:{icon:"\ud83e\uddf9",color:"success"},equipment_check:{icon:"\u2699\ufe0f",color:"secondary"},other:{icon:"\ud83d\udccb",color:"dark"}};const H=function(e){let{tasks:s,onTaskClick:n}=e;const[a,i]=(0,t.useState)(new Date),c=e=>{const n=e.toISOString().split("T")[0];return s.filter(e=>new Date(e.due_date).toISOString().split("T")[0]===n)},{daysInMonth:r,startingDayOfWeek:d,year:o,month:m}=(e=>{const s=e.getFullYear(),n=e.getMonth(),a=new Date(s,n,1);return{daysInMonth:new Date(s,n+1,0).getDate(),startingDayOfWeek:a.getDay(),year:s,month:n}})(a),x=new Date,j=e=>x.getDate()===e&&x.getMonth()===m&&x.getFullYear()===o,u=[],g=7*Math.ceil((r+d)/7);for(let t=0;t<g;t++){const e=t-d+1;if(e>0&&e<=r){const s=new Date(o,m,e),n=c(s);u.push({day:e,date:s,tasks:n,isToday:j(e),isCurrentMonth:!0})}else u.push({day:null,date:null,tasks:[],isToday:!1,isCurrentMonth:!1})}return(0,b.jsxs)("div",{className:"task-calendar",children:[(0,b.jsxs)("div",{className:"calendar-header d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>{i(new Date(o,m-1,1))},children:[(0,b.jsx)("i",{className:"fas fa-chevron-left"})," Th\xe1ng tr\u01b0\u1edbc"]}),(0,b.jsxs)("h5",{className:"mb-0",children:[["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"][m]," ",o]}),(0,b.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>{i(new Date(o,m+1,1))},children:["Th\xe1ng sau ",(0,b.jsx)("i",{className:"fas fa-chevron-right"})]})]}),(0,b.jsxs)("div",{className:"calendar-grid",children:[["CN","T2","T3","T4","T5","T6","T7"].map(e=>(0,b.jsx)("div",{className:"calendar-day-header",children:e},e)),u.map((e,s)=>(0,b.jsx)("div",{className:"calendar-day ".concat(e.isCurrentMonth?"":"other-month"," ").concat(e.isToday?"today":""),children:e.day&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"day-number",children:e.day}),(0,b.jsxs)("div",{className:"day-tasks",children:[e.tasks.slice(0,3).map(e=>{const s=I[e.task_type]||I.other;return(0,b.jsxs)("div",{className:"task-item task-".concat(e.status),onClick:()=>n&&n(e.id),title:e.title,children:[(0,b.jsx)("span",{className:"task-icon",children:s.icon}),(0,b.jsx)("span",{className:"task-title",children:e.title})]},e.id)}),e.tasks.length>3&&(0,b.jsxs)("div",{className:"more-tasks",children:["+",e.tasks.length-3," kh\xe1c"]})]})]})},s))]}),(0,b.jsx)(h.A,{className:"mt-3",children:(0,b.jsxs)(h.A.Body,{children:[(0,b.jsx)("h6",{className:"mb-2",children:"Ch\xfa th\xedch:"}),(0,b.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,b.jsx)(l.A,{bg:"secondary",children:"\u26aa Ch\u1edd x\u1eed l\xfd"}),(0,b.jsx)(l.A,{bg:"primary",children:"\ud83d\udd35 \u0110ang l\xe0m"}),(0,b.jsx)(l.A,{bg:"success",children:"\u2705 Ho\xe0n th\xe0nh"}),(0,b.jsx)(l.A,{bg:"danger",children:"\ud83d\udd34 Qu\xe1 h\u1ea1n"})]})]})})]})},M={fire_safety:{label:"Ph\xf2ng ch\xe1y",icon:"\ud83d\udd25",color:"danger"},security:{label:"An ninh",icon:"\ud83d\udd12",color:"warning"},maintenance:{label:"B\u1ea3o tr\xec",icon:"\ud83d\udd27",color:"info"},inspection:{label:"Ki\u1ec3m tra",icon:"\ud83d\udd0d",color:"primary"},cleaning:{label:"V\u1ec7 sinh",icon:"\ud83e\uddf9",color:"success"},equipment_check:{label:"Thi\u1ebft b\u1ecb",icon:"\u2699\ufe0f",color:"secondary"},other:{label:"Kh\xe1c",icon:"\ud83d\udccb",color:"dark"}},P={pending:{label:"Ch\u1edd x\u1eed l\xfd",variant:"secondary"},in_progress:{label:"\u0110ang l\xe0m",variant:"primary"},completed:{label:"Ho\xe0n th\xe0nh",variant:"success"},overdue:{label:"Qu\xe1 h\u1ea1n",variant:"danger"},cancelled:{label:"\u0110\xe3 h\u1ee7y",variant:"dark"}},G={low:{label:"Th\u1ea5p",variant:"secondary"},medium:{label:"Trung b\xecnh",variant:"info"},high:{label:"Cao",variant:"warning"},critical:{label:"Kh\u1ea9n c\u1ea5p",variant:"danger"}};const E=function(e){var s,n,i,c;let{projectId:g,projectName:v}=e;const[p,f]=(0,t.useState)([]),[N,y]=(0,t.useState)(!0),[A,_]=(0,t.useState)(!1),[k,C]=(0,t.useState)(null),[w,T]=(0,t.useState)(null),[S,D]=(0,t.useState)(!1),[B,K]=(0,t.useState)("list"),[I,E]=(0,t.useState)({status:"",task_type:"",assigned_to:""}),[F,O]=(0,t.useState)({total:0,pending:0,in_progress:0,completed:0,overdue:0});(0,t.useEffect)(()=>{g&&q()},[g,I]);const q=async()=>{y(!0);try{const e=localStorage.getItem("token"),s=new URLSearchParams(I),n=await fetch("/api/projects/".concat(g,"/tasks?").concat(s),{headers:{Authorization:"Bearer ".concat(e)}}),a=await n.json();a.success&&(f(a.data.tasks||[]),V(a.data.tasks||[]))}catch(e){console.error("Error loading tasks:",e)}finally{y(!1)}},V=e=>{const s={total:e.length,pending:e.filter(e=>"pending"===e.status).length,in_progress:e.filter(e=>"in_progress"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,overdue:e.filter(e=>"overdue"===e.status).length};O(s)},R=async e=>{try{const s=localStorage.getItem("token"),n=await fetch("/api/projects/".concat(g,"/tasks/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}}),a=await n.json();a.success&&(T(a.data),D(!0))}catch(s){console.error("Error loading task detail:",s)}},X=e=>e?new Date(e).toLocaleDateString("vi-VN"):"N/A",Q=e=>M[e]||M.other;return(0,b.jsxs)("div",{className:"task-manager",children:[(0,b.jsx)("div",{className:"task-header mb-4",children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"mb-1",children:"\ud83d\udccb Qu\u1ea3n l\xfd c\xf4ng vi\u1ec7c"}),(0,b.jsx)("p",{className:"text-muted mb-0",children:v})]}),(0,b.jsxs)(r.A,{variant:"primary",onClick:()=>{C(null),_(!0)},children:[(0,b.jsx)("i",{className:"fas fa-plus me-2"}),"Th\xeam c\xf4ng vi\u1ec7c"]})]})}),(0,b.jsxs)(d.A,{className:"mb-4",children:[(0,b.jsx)(o.A,{md:2,children:(0,b.jsx)(h.A,{className:"stat-card",children:(0,b.jsxs)(h.A.Body,{className:"text-center",children:[(0,b.jsx)("h3",{className:"mb-1",children:F.total}),(0,b.jsx)("small",{className:"text-muted",children:"T\u1ed5ng s\u1ed1"})]})})}),(0,b.jsx)(o.A,{md:2,children:(0,b.jsx)(h.A,{className:"stat-card border-secondary",children:(0,b.jsxs)(h.A.Body,{className:"text-center",children:[(0,b.jsx)("h3",{className:"mb-1 text-secondary",children:F.pending}),(0,b.jsx)("small",{className:"text-muted",children:"Ch\u1edd x\u1eed l\xfd"})]})})}),(0,b.jsx)(o.A,{md:2,children:(0,b.jsx)(h.A,{className:"stat-card border-primary",children:(0,b.jsxs)(h.A.Body,{className:"text-center",children:[(0,b.jsx)("h3",{className:"mb-1 text-primary",children:F.in_progress}),(0,b.jsx)("small",{className:"text-muted",children:"\u0110ang l\xe0m"})]})})}),(0,b.jsx)(o.A,{md:2,children:(0,b.jsx)(h.A,{className:"stat-card border-success",children:(0,b.jsxs)(h.A.Body,{className:"text-center",children:[(0,b.jsx)("h3",{className:"mb-1 text-success",children:F.completed}),(0,b.jsx)("small",{className:"text-muted",children:"Ho\xe0n th\xe0nh"})]})})}),(0,b.jsx)(o.A,{md:2,children:(0,b.jsx)(h.A,{className:"stat-card border-danger",children:(0,b.jsxs)(h.A.Body,{className:"text-center",children:[(0,b.jsx)("h3",{className:"mb-1 text-danger",children:F.overdue}),(0,b.jsx)("small",{className:"text-muted",children:"Qu\xe1 h\u1ea1n"})]})})})]}),(0,b.jsx)(m.A.Container,{activeKey:B,onSelect:K,children:(0,b.jsxs)(h.A,{className:"border-0 shadow-sm",children:[(0,b.jsx)(h.A.Header,{className:"bg-white",children:(0,b.jsxs)(x.A,{variant:"tabs",className:"border-0",children:[(0,b.jsx)(x.A.Item,{children:(0,b.jsxs)(x.A.Link,{eventKey:"list",children:[(0,b.jsx)("i",{className:"fas fa-list me-2"}),"Danh s\xe1ch"]})}),(0,b.jsx)(x.A.Item,{children:(0,b.jsxs)(x.A.Link,{eventKey:"calendar",children:[(0,b.jsx)("i",{className:"fas fa-calendar me-2"}),"L\u1ecbch"]})})]})}),(0,b.jsxs)(h.A.Body,{children:[(0,b.jsxs)(d.A,{className:"mb-3",children:[(0,b.jsx)(o.A,{md:3,children:(0,b.jsxs)(z.A.Select,{size:"sm",value:I.status,onChange:e=>E((0,a.A)((0,a.A)({},I),{},{status:e.target.value})),children:[(0,b.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 tr\u1ea1ng th\xe1i"}),Object.entries(P).map(e=>{let[s,n]=e;return(0,b.jsx)("option",{value:s,children:n.label},s)})]})}),(0,b.jsx)(o.A,{md:3,children:(0,b.jsxs)(z.A.Select,{size:"sm",value:I.task_type,onChange:e=>E((0,a.A)((0,a.A)({},I),{},{task_type:e.target.value})),children:[(0,b.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 lo\u1ea1i c\xf4ng vi\u1ec7c"}),Object.entries(M).map(e=>{let[s,n]=e;return(0,b.jsxs)("option",{value:s,children:[n.icon," ",n.label]},s)})]})}),(0,b.jsx)(o.A,{md:3,children:(0,b.jsxs)(r.A,{variant:"outline-secondary",size:"sm",onClick:()=>E({status:"",task_type:"",assigned_to:""}),children:[(0,b.jsx)("i",{className:"fas fa-times me-1"}),"X\xf3a b\u1ed9 l\u1ecdc"]})})]}),(0,b.jsxs)(m.A.Content,{children:[(0,b.jsx)(m.A.Pane,{eventKey:"list",children:N?(0,b.jsxs)("div",{className:"text-center py-5",children:[(0,b.jsx)("div",{className:"spinner-border text-primary"}),(0,b.jsx)("p",{className:"mt-2 text-muted",children:"\u0110ang t\u1ea3i..."})]}):0===p.length?(0,b.jsxs)("div",{className:"text-center py-5",children:[(0,b.jsx)("i",{className:"fas fa-inbox fa-3x text-muted mb-3"}),(0,b.jsx)("p",{className:"text-muted",children:"Ch\u01b0a c\xf3 c\xf4ng vi\u1ec7c n\xe0o."})]}):(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)(j.A,{hover:!0,children:[(0,b.jsx)("thead",{className:"bg-light",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{width:"50px"},children:"\u01afu ti\xean"}),(0,b.jsx)("th",{children:"C\xf4ng vi\u1ec7c"}),(0,b.jsx)("th",{style:{width:"120px"},children:"Lo\u1ea1i"}),(0,b.jsx)("th",{style:{width:"120px"},children:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"}),(0,b.jsx)("th",{style:{width:"100px"},children:"H\u1ea1n"}),(0,b.jsx)("th",{style:{width:"100px"},children:"Tr\u1ea1ng th\xe1i"}),(0,b.jsx)("th",{style:{width:"150px"},children:"Thao t\xe1c"})]})}),(0,b.jsx)("tbody",{children:p.map(e=>{var s,n,a;const t=(e=>{const s=new Date,n=new Date(e)-s;return Math.ceil(n/864e5)})(e.due_date),i=Q(e.task_type);return(0,b.jsxs)("tr",{className:"overdue"===e.status?"table-danger":"",children:[(0,b.jsx)("td",{children:(0,b.jsx)(l.A,{bg:(null===(s=G[e.priority])||void 0===s?void 0:s.variant)||"secondary",children:"critical"===e.priority?"\ud83d\udd34":"high"===e.priority?"\ud83d\udfe0":"medium"===e.priority?"\ud83d\udfe1":"\u26aa"})}),(0,b.jsxs)("td",{children:[(0,b.jsx)("div",{className:"fw-bold",children:e.title}),e.description&&(0,b.jsxs)("small",{className:"text-muted",children:[e.description.substring(0,50),"..."]})]}),(0,b.jsx)("td",{children:(0,b.jsxs)(l.A,{bg:i.color,children:[i.icon," ",i.label]})}),(0,b.jsx)("td",{children:(0,b.jsx)("small",{children:e.assigned_to_name||"Ch\u01b0a g\xe1n"})}),(0,b.jsxs)("td",{children:[(0,b.jsx)("div",{children:X(e.due_date)}),t>=0&&t<=7&&"completed"!==e.status&&(0,b.jsxs)("small",{className:"text-warning",children:["C\xf2n ",t," ng\xe0y"]}),t<0&&"completed"!==e.status&&(0,b.jsxs)("small",{className:"text-danger",children:["Tr\u1ec5 ",Math.abs(t)," ng\xe0y"]})]}),(0,b.jsx)("td",{children:(0,b.jsx)(l.A,{bg:(null===(n=P[e.status])||void 0===n?void 0:n.variant)||"secondary",children:(null===(a=P[e.status])||void 0===a?void 0:a.label)||e.status})}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,b.jsx)(r.A,{variant:"outline-info",size:"sm",onClick:()=>R(e.id),title:"Xem chi ti\u1ebft",children:(0,b.jsx)("i",{className:"fas fa-eye"})}),"completed"!==e.status&&(0,b.jsx)(r.A,{variant:"outline-success",size:"sm",onClick:()=>(async e=>{const s=prompt("Ghi ch\xfa ho\xe0n th\xe0nh (t\xf9y ch\u1ecdn):");try{const n=localStorage.getItem("token");(await fetch("/api/projects/".concat(g,"/tasks/").concat(e,"/complete"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({completion_notes:s})})).ok&&q()}catch(n){console.error("Error completing task:",n)}})(e.id),title:"Ho\xe0n th\xe0nh",children:(0,b.jsx)("i",{className:"fas fa-check"})}),(0,b.jsx)(r.A,{variant:"outline-primary",size:"sm",onClick:()=>(e=>{C(e),_(!0)})(e),title:"S\u1eeda",children:(0,b.jsx)("i",{className:"fas fa-edit"})}),(0,b.jsx)(r.A,{variant:"outline-danger",size:"sm",onClick:()=>(async e=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a c\xf4ng vi\u1ec7c n\xe0y?"))try{const s=localStorage.getItem("token");(await fetch("/api/projects/".concat(g,"/tasks/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}})).ok&&q()}catch(s){console.error("Error deleting task:",s)}})(e.id),title:"X\xf3a",children:(0,b.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)})})]})})}),(0,b.jsx)(m.A.Pane,{eventKey:"calendar",children:(0,b.jsx)(H,{tasks:p,onTaskClick:R})})]})]})]})}),(0,b.jsx)(L,{show:A,onHide:()=>_(!1),projectId:g,task:k,onSave:()=>{_(!1),q()}}),w&&(0,b.jsxs)(u.A,{show:S,onHide:()=>D(!1),size:"lg",children:[(0,b.jsx)(u.A.Header,{closeButton:!0,children:(0,b.jsx)(u.A.Title,{children:"Chi ti\u1ebft c\xf4ng vi\u1ec7c"})}),(0,b.jsxs)(u.A.Body,{children:[(0,b.jsxs)(d.A,{children:[(0,b.jsxs)(o.A,{md:6,children:[(0,b.jsx)("h6",{children:"Th\xf4ng tin chung"}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Ti\xeau \u0111\u1ec1:"})," ",w.task.title]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"M\xf4 t\u1ea3:"})," ",w.task.description||"N/A"]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Lo\u1ea1i:"})," ",(0,b.jsx)(l.A,{bg:Q(w.task.task_type).color,children:Q(w.task.task_type).label})]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"\u01afu ti\xean:"})," ",(0,b.jsx)(l.A,{bg:null===(s=G[w.task.priority])||void 0===s?void 0:s.variant,children:null===(n=G[w.task.priority])||void 0===n?void 0:n.label})]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Tr\u1ea1ng th\xe1i:"})," ",(0,b.jsx)(l.A,{bg:null===(i=P[w.task.status])||void 0===i?void 0:i.variant,children:null===(c=P[w.task.status])||void 0===c?void 0:c.label})]})]}),(0,b.jsxs)(o.A,{md:6,children:[(0,b.jsx)("h6",{children:"L\u1ecbch tr\xecnh"}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Ng\xe0y b\u1eaft \u0111\u1ea7u:"})," ",X(w.task.start_date)]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"H\u1ea1n ch\xf3t:"})," ",X(w.task.due_date)]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"T\u1ea7n su\u1ea5t:"})," ",w.task.frequency]}),w.task.is_recurring&&(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"L\u1ea7n k\u1ebf ti\u1ebfp:"})," ",X(w.task.next_due_date)]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n:"})," ",w.task.assigned_to_name||"Ch\u01b0a g\xe1n"]})]})]}),w.task.completed_at&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-top",children:[(0,b.jsx)("h6",{children:"Th\xf4ng tin ho\xe0n th\xe0nh"}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Ho\xe0n th\xe0nh l\xfac:"})," ",X(w.task.completed_at)]}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Ng\u01b0\u1eddi ho\xe0n th\xe0nh:"})," ",w.task.completed_by_name]}),w.task.completion_notes&&(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Ghi ch\xfa:"})," ",w.task.completion_notes]})]}),w.comments&&w.comments.length>0&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-top",children:[(0,b.jsxs)("h6",{children:["B\xecnh lu\u1eadn (",w.comments.length,")"]}),w.comments.map(e=>(0,b.jsxs)("div",{className:"mb-2 p-2 bg-light rounded",children:[(0,b.jsxs)("small",{className:"text-muted",children:[e.user_name," - ",X(e.created_at)]}),(0,b.jsx)("div",{children:e.comment})]},e.id))]})]}),(0,b.jsx)(u.A.Footer,{children:(0,b.jsx)(r.A,{variant:"secondary",onClick:()=>D(!1),children:"\u0110\xf3ng"})})]})]})};const F=function(){var e,s,n,f,N,y;const{id:A}=(0,g.g)(),_=(0,g.Zp)(),{hasPermission:k}=(0,v.As)(),[C,w]=(0,t.useState)(!0),[T,z]=(0,t.useState)(null),[D,B]=(0,t.useState)([]),[K,L]=(0,t.useState)("overview"),[I,H]=(0,t.useState)(!1),[M,P]=(0,t.useState)(null),G={id:parseInt(A),name:"Kho x\u01b0\u1edfng B\xecnh D\u01b0\u01a1ng",code:"KX-BD-001",description:"Khu kho x\u01b0\u1edfng hi\u1ec7n \u0111\u1ea1i v\u1edbi \u0111\u1ea7y \u0111\u1ee7 ti\u1ec7n \xedch v\xe0 h\u1ea1 t\u1ea7ng logistics.",address:"123 \u0110\u01b0\u1eddng ABC, Thu\u1eadn An, B\xecnh D\u01b0\u01a1ng",province:"B\xecnh D\u01b0\u01a1ng",district:"Thu\u1eadn An",ward:"Ph\u01b0\u1eddng An Th\u1ea1nh",latitude:10.9045,longitude:106.7213,status:"operational",total_area:15e3,used_area:12e3,available_area:3e3,fixed_area:500,owner_info:{name:"C\xf4ng ty TNHH ABC",phone:"0123456789",email:"contact@abc.com"},legal_documents:{business_license:"GP-123456789",construction_permit:"XD-987654321",fire_safety_cert:"PCCC-111222333"},created_at:"2024-01-15",created_by_username:"admin"},F=[{id:1,zone_code:"A1",zone_name:"Khu v\u1ef1c A1",area:500,status:"rented",rental_price:15e4,tenant_info:{customer_code:"KH001",company_name:"C\xf4ng ty XYZ",contact_person:"Nguy\u1ec5n V\u0103n A",contract_number:"HD240001",end_date:"2024-12-31"}},{id:2,zone_code:"A2",zone_name:"Khu v\u1ef1c A2",area:750,status:"available",rental_price:14e4,tenant_info:null},{id:3,zone_code:"B1",zone_name:"Khu v\u1ef1c B1",area:600,status:"deposited",rental_price:16e4,tenant_info:{customer_code:"KH002",company_name:"C\xf4ng ty DEF",contact_person:"Tr\u1ea7n Th\u1ecb B",contract_number:"HD240002",end_date:"2024-06-30"}},{id:4,zone_code:"C1",zone_name:"Khu v\u1ef1c C1 - V\u0103n ph\xf2ng",area:200,status:"maintenance",rental_price:0,tenant_info:null}];(0,t.useEffect)(()=>{setTimeout(()=>{z(G),B(F),w(!1)},1e3)},[A,G,F]);const O=e=>{const s={operational:{variant:"success",label:"Ho\u1ea1t \u0111\u1ed9ng"},construction:{variant:"warning",label:"X\xe2y d\u1ef1ng"},planning:{variant:"info",label:"L\xean k\u1ebf ho\u1ea1ch"},maintenance:{variant:"secondary",label:"B\u1ea3o tr\xec"}}[e]||{variant:"secondary",label:e};return(0,b.jsx)(l.A,{bg:s.variant,children:s.label})},q=e=>{const s={available:{variant:"danger",label:"Ch\u01b0a cho thu\xea",color:"#dc3545"},rented:{variant:"success",label:"\u0110\xe3 cho thu\xea",color:"#28a745"},deposited:{variant:"warning",label:"\u0110\xe3 c\u1ecdc",color:"#ffc107"},maintenance:{variant:"secondary",label:"B\u1ea3o tr\xec",color:"#6c757d"}}[e]||{variant:"secondary",label:e,color:"#6c757d"};return(0,b.jsx)(l.A,{bg:s.variant,style:{color:"deposited"===e?"#000":"#fff"},children:s.label})},V=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e).replace("\u20ab","\u0111"),R=e=>new Intl.NumberFormat("vi-VN").format(e)+" m\xb2",X=e=>{P(e),H(!0)},Q=(()=>{const e={total:D.length,available:D.filter(e=>"available"===e.status).length,rented:D.filter(e=>"rented"===e.status).length,deposited:D.filter(e=>"deposited"===e.status).length,maintenance:D.filter(e=>"maintenance"===e.status).length},s=D.reduce((e,s)=>e+s.area,0),n=D.filter(e=>"rented"===e.status).reduce((e,s)=>e+s.area,0),t=s>0?Math.round(n/s*100):0;return(0,a.A)((0,a.A)({},e),{},{occupancyRate:t,totalArea:s,rentedArea:n})})();return C?(0,b.jsx)(p.A,{text:"\u0110ang t\u1ea3i th\xf4ng tin d\u1ef1 \xe1n..."}):T?(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)(d.A,{className:"mb-4",children:(0,b.jsx)(o.A,{children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,b.jsx)(r.A,{variant:"outline-secondary",size:"sm",className:"me-3",onClick:()=>_("/projects"),children:(0,b.jsx)("i",{className:"fas fa-arrow-left"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-0",children:T.name}),(0,b.jsxs)("div",{className:"d-flex align-items-center mt-1",children:[(0,b.jsxs)("span",{className:"text-muted me-3",children:["M\xe3: ",T.code]}),O(T.status)]})]})]}),(0,b.jsx)("p",{className:"text-muted mb-0",children:T.address})]}),(0,b.jsxs)("div",{className:"d-flex gap-2",children:[k("project_update")&&(0,b.jsxs)(r.A,{variant:"outline-primary",children:[(0,b.jsx)("i",{className:"fas fa-edit me-2"}),"Ch\u1ec9nh s\u1eeda"]}),(0,b.jsxs)(r.A,{variant:"outline-secondary",children:[(0,b.jsx)("i",{className:"fas fa-download me-2"}),"Xu\u1ea5t b\xe1o c\xe1o"]})]})]})})}),(0,b.jsxs)(d.A,{className:"mb-4",children:[(0,b.jsx)(o.A,{md:3,children:(0,b.jsx)(h.A,{className:"border-0 shadow-sm",children:(0,b.jsx)(h.A.Body,{children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h6",{className:"text-muted mb-1",children:"T\u1ed5ng di\u1ec7n t\xedch"}),(0,b.jsx)("h4",{className:"mb-0 text-primary",children:R(T.total_area)})]}),(0,b.jsx)("i",{className:"fas fa-expand-arrows-alt fa-2x text-primary opacity-25"})]})})})}),(0,b.jsx)(o.A,{md:3,children:(0,b.jsx)(h.A,{className:"border-0 shadow-sm",children:(0,b.jsx)(h.A.Body,{children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h6",{className:"text-muted mb-1",children:"T\u1ef7 l\u1ec7 thu\xea"}),(0,b.jsxs)("h4",{className:"mb-0 text-success",children:[Q.occupancyRate,"%"]})]}),(0,b.jsx)("i",{className:"fas fa-percentage fa-2x text-success opacity-25"})]})})})}),(0,b.jsx)(o.A,{md:3,children:(0,b.jsx)(h.A,{className:"border-0 shadow-sm",children:(0,b.jsx)(h.A.Body,{children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h6",{className:"text-muted mb-1",children:"S\u1ed1 kho"}),(0,b.jsx)("h4",{className:"mb-0 text-info",children:Q.total}),(0,b.jsxs)("small",{className:"text-muted",children:[Q.rented," \u0111\xe3 thu\xea"]})]}),(0,b.jsx)("i",{className:"fas fa-th-large fa-2x text-info opacity-25"})]})})})}),(0,b.jsx)(o.A,{md:3,children:(0,b.jsx)(h.A,{className:"border-0 shadow-sm",children:(0,b.jsx)(h.A.Body,{children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h6",{className:"text-muted mb-1",children:"Doanh thu/th\xe1ng"}),(0,b.jsx)("h4",{className:"mb-0 text-warning",children:V(D.filter(e=>"rented"===e.status).reduce((e,s)=>e+s.rental_price*s.area,0))})]}),(0,b.jsx)("i",{className:"fas fa-chart-line fa-2x text-warning opacity-25"})]})})})})]}),(0,b.jsxs)(h.A,{className:"border-0 shadow-sm",children:[(0,b.jsx)(h.A.Header,{className:"bg-white border-0",children:(0,b.jsx)(m.A.Container,{activeKey:K,onSelect:L,children:(0,b.jsxs)(x.A,{variant:"tabs",className:"border-0",children:[(0,b.jsx)(x.A.Item,{children:(0,b.jsxs)(x.A.Link,{eventKey:"overview",children:[(0,b.jsx)("i",{className:"fas fa-info-circle me-2"}),"Th\xf4ng tin chung"]})}),(0,b.jsx)(x.A.Item,{children:(0,b.jsxs)(x.A.Link,{eventKey:"zones",children:[(0,b.jsx)("i",{className:"fas fa-th-large me-2"}),"Qu\u1ea3n l\xfd kho (",D.length,")"]})}),(0,b.jsx)(x.A.Item,{children:(0,b.jsxs)(x.A.Link,{eventKey:"map",children:[(0,b.jsx)("i",{className:"fas fa-map me-2"}),"B\u1ea3n \u0111\u1ed3"]})}),(0,b.jsx)(x.A.Item,{children:(0,b.jsxs)(x.A.Link,{eventKey:"tasks",children:[(0,b.jsx)("i",{className:"fas fa-tasks me-2"}),"C\xf4ng vi\u1ec7c"]})}),(0,b.jsx)(x.A.Item,{children:(0,b.jsxs)(x.A.Link,{eventKey:"documents",children:[(0,b.jsx)("i",{className:"fas fa-folder me-2"}),"H\u1ed3 s\u01a1 ph\xe1p l\xfd"]})})]})})}),(0,b.jsx)(h.A.Body,{children:(0,b.jsx)(m.A.Container,{activeKey:K,children:(0,b.jsxs)(m.A.Content,{children:[(0,b.jsx)(m.A.Pane,{eventKey:"overview",children:(0,b.jsxs)(d.A,{children:[(0,b.jsxs)(o.A,{md:6,children:[(0,b.jsx)("h5",{className:"mb-3",children:"Th\xf4ng tin d\u1ef1 \xe1n"}),(0,b.jsxs)("div",{className:"info-group",children:[(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"T\xean d\u1ef1 \xe1n:"})," ",T.name]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"M\xe3 d\u1ef1 \xe1n:"})," ",T.code]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"M\xf4 t\u1ea3:"})," ",T.description]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"\u0110\u1ecba ch\u1ec9:"})," ",T.address]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"T\u1ec9nh/Th\xe0nh:"})," ",T.province]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Tr\u1ea1ng th\xe1i:"})," ",O(T.status)]})]})]}),(0,b.jsxs)(o.A,{md:6,children:[(0,b.jsx)("h5",{className:"mb-3",children:"Th\xf4ng tin ch\u1ee7 s\u1edf h\u1eefu"}),(0,b.jsxs)("div",{className:"info-group",children:[(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"T\xean:"})," ",null===(e=T.owner_info)||void 0===e?void 0:e.name]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"\u0110i\u1ec7n tho\u1ea1i:"})," ",null===(s=T.owner_info)||void 0===s?void 0:s.phone]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Email:"})," ",null===(n=T.owner_info)||void 0===n?void 0:n.email]})]}),(0,b.jsx)("h5",{className:"mb-3 mt-4",children:"Th\u1ed1ng k\xea di\u1ec7n t\xedch"}),(0,b.jsxs)("div",{className:"info-group",children:[(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"T\u1ed5ng di\u1ec7n t\xedch:"})," ",R(T.total_area)]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"\u0110\xe3 s\u1eed d\u1ee5ng:"})," ",R(T.used_area)]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"C\xf2n tr\u1ed1ng:"})," ",R(T.available_area)]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"C\u1ed1 \u0111\u1ecbnh:"})," ",R(T.fixed_area)]})]})]})]})}),(0,b.jsxs)(m.A.Pane,{eventKey:"zones",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,b.jsx)("h5",{className:"mb-0",children:"Danh s\xe1ch kho"}),(0,b.jsxs)("div",{className:"d-flex gap-2",children:[(0,b.jsxs)(r.A,{variant:"outline-success",size:"sm",children:[(0,b.jsx)("i",{className:"fas fa-file-import me-2"}),"Import b\u1ea3n v\u1ebd"]}),(0,b.jsxs)(r.A,{variant:"primary",size:"sm",children:[(0,b.jsx)("i",{className:"fas fa-plus me-2"}),"Th\xeam kho"]})]})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsxs)("div",{className:"d-flex gap-3 flex-wrap",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"me-2",style:{width:"16px",height:"16px",backgroundColor:"#dc3545",borderRadius:"2px"}}),(0,b.jsxs)("span",{className:"small",children:["Ch\u01b0a cho thu\xea (",Q.available,")"]})]}),(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"me-2",style:{width:"16px",height:"16px",backgroundColor:"#28a745",borderRadius:"2px"}}),(0,b.jsxs)("span",{className:"small",children:["\u0110\xe3 cho thu\xea (",Q.rented,")"]})]}),(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"me-2",style:{width:"16px",height:"16px",backgroundColor:"#ffc107",borderRadius:"2px"}}),(0,b.jsxs)("span",{className:"small",children:["\u0110\xe3 c\u1ecdc (",Q.deposited,")"]})]}),(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"me-2",style:{width:"16px",height:"16px",backgroundColor:"#6c757d",borderRadius:"2px"}}),(0,b.jsxs)("span",{className:"small",children:["B\u1ea3o tr\xec (",Q.maintenance,")"]})]})]})}),(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)(j.A,{hover:!0,children:[(0,b.jsx)("thead",{className:"bg-light",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"M\xe3 kho"}),(0,b.jsx)("th",{children:"Di\u1ec7n t\xedch"}),(0,b.jsx)("th",{children:"Tr\u1ea1ng th\xe1i"}),(0,b.jsx)("th",{children:"Gi\xe1 thu\xea"}),(0,b.jsx)("th",{children:"Kh\xe1ch thu\xea"}),(0,b.jsx)("th",{children:"Thao t\xe1c"})]})}),(0,b.jsx)("tbody",{children:D.map(e=>(0,b.jsxs)("tr",{style:{cursor:"pointer"},onClick:()=>X(e),children:[(0,b.jsx)("td",{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"fw-bold",children:e.zone_code}),(0,b.jsx)("small",{className:"text-muted",children:e.zone_name})]})}),(0,b.jsx)("td",{children:R(e.area)}),(0,b.jsx)("td",{children:q(e.status)}),(0,b.jsx)("td",{children:e.rental_price>0?V(e.rental_price)+"/m\xb2/th\xe1ng":"-"}),(0,b.jsx)("td",{children:e.tenant_info?(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"fw-medium",children:e.tenant_info.company_name}),(0,b.jsx)("small",{className:"text-muted",children:e.tenant_info.contact_person})]}):(0,b.jsx)("span",{className:"text-muted",children:"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)(r.A,{variant:"outline-primary",size:"sm",onClick:s=>{s.stopPropagation(),X(e)},children:(0,b.jsx)("i",{className:"fas fa-eye"})})})]},e.id))})]})})]}),(0,b.jsx)(m.A.Pane,{eventKey:"map",children:(0,b.jsx)(S,{project:T,zones:D,onZoneClick:e=>{P(e),H(!0)},showLegend:!0})}),(0,b.jsx)(m.A.Pane,{eventKey:"tasks",children:(0,b.jsx)(E,{projectId:A,projectName:null===T||void 0===T?void 0:T.name})}),(0,b.jsxs)(m.A.Pane,{eventKey:"documents",children:[(0,b.jsx)("h5",{className:"mb-3",children:"H\u1ed3 s\u01a1 ph\xe1p l\xfd"}),(0,b.jsxs)(d.A,{children:[(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)("div",{className:"info-group",children:[(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Gi\u1ea5y ph\xe9p kinh doanh:"})," ",(null===(f=T.legal_documents)||void 0===f?void 0:f.business_license)||"Ch\u01b0a c\xf3"]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Gi\u1ea5y ph\xe9p x\xe2y d\u1ef1ng:"})," ",(null===(N=T.legal_documents)||void 0===N?void 0:N.construction_permit)||"Ch\u01b0a c\xf3"]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Ch\u1ee9ng nh\u1eadn PCCC:"})," ",(null===(y=T.legal_documents)||void 0===y?void 0:y.fire_safety_cert)||"Ch\u01b0a c\xf3"]})]})}),(0,b.jsx)(o.A,{md:6,children:(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("i",{className:"fas fa-folder-open fa-3x text-muted mb-3"}),(0,b.jsx)("p",{className:"text-muted",children:"H\u1ec7 th\u1ed1ng qu\u1ea3n l\xfd t\xe0i li\u1ec7u s\u1ebd \u0111\u01b0\u1ee3c t\xedch h\u1ee3p \u1edf \u0111\xe2y"}),(0,b.jsxs)(r.A,{variant:"outline-primary",children:[(0,b.jsx)("i",{className:"fas fa-upload me-2"}),"Upload t\xe0i li\u1ec7u"]})]})})]})]})]})})})]}),(0,b.jsxs)(u.A,{show:I,onHide:()=>H(!1),size:"lg",children:[(0,b.jsx)(u.A.Header,{closeButton:!0,children:(0,b.jsxs)(u.A.Title,{children:["Chi ti\u1ebft Kho ",null===M||void 0===M?void 0:M.zone_code]})}),(0,b.jsx)(u.A.Body,{children:M&&(0,b.jsxs)(d.A,{children:[(0,b.jsxs)(o.A,{md:6,children:[(0,b.jsx)("h6",{children:"Th\xf4ng tin kho"}),(0,b.jsxs)("div",{className:"info-group",children:[(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"M\xe3 kho:"})," ",M.zone_code]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"T\xean:"})," ",M.zone_name]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Di\u1ec7n t\xedch:"})," ",R(M.area)]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Tr\u1ea1ng th\xe1i:"})," ",q(M.status)]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Gi\xe1 thu\xea:"})," ",M.rental_price>0?V(M.rental_price)+"/m\xb2/th\xe1ng":"-"]})]})]}),(0,b.jsxs)(o.A,{md:6,children:[(0,b.jsx)("h6",{children:"Th\xf4ng tin kh\xe1ch thu\xea"}),M.tenant_info?(0,b.jsxs)("div",{className:"info-group",children:[(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"C\xf4ng ty:"})," ",M.tenant_info.company_name]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Ng\u01b0\u1eddi li\xean h\u1ec7:"})," ",M.tenant_info.contact_person]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng:"})," ",M.tenant_info.contract_number]}),(0,b.jsxs)("div",{className:"info-item",children:[(0,b.jsx)("strong",{children:"Ng\xe0y h\u1ebft h\u1ea1n:"})," ",new Date(M.tenant_info.end_date).toLocaleDateString("vi-VN")]})]}):(0,b.jsx)("p",{className:"text-muted",children:"Ch\u01b0a c\xf3 kh\xe1ch thu\xea"})]})]})}),(0,b.jsxs)(u.A.Footer,{children:[(0,b.jsx)(r.A,{variant:"secondary",onClick:()=>H(!1),children:"\u0110\xf3ng"}),k("zone_update")&&(0,b.jsx)(r.A,{variant:"primary",children:"Ch\u1ec9nh s\u1eeda kho"})]})]}),(0,b.jsx)("style",{jsx:!0,children:"\n        .info-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n\n        .info-item {\n          padding: 8px 0;\n          border-bottom: 1px solid #f0f0f0;\n        }\n\n        .info-item:last-child {\n          border-bottom: none;\n        }\n\n        .info-item strong {\n          color: #495057;\n          display: inline-block;\n          min-width: 120px;\n        }\n      "})]}):(0,b.jsx)(i.A,{className:"mt-5",children:(0,b.jsxs)(c.A,{variant:"danger",className:"text-center",children:[(0,b.jsx)("h4",{children:"Kh\xf4ng t\xecm th\u1ea5y d\u1ef1 \xe1n"}),(0,b.jsxs)("p",{children:["D\u1ef1 \xe1n v\u1edbi ID ",A," kh\xf4ng t\u1ed3n t\u1ea1i ho\u1eb7c \u0111\xe3 b\u1ecb x\xf3a."]}),(0,b.jsx)(r.A,{variant:"primary",onClick:()=>_("/projects"),children:"Quay l\u1ea1i danh s\xe1ch d\u1ef1 \xe1n"})]})})}}}]);
//# sourceMappingURL=451.e2a0a354.chunk.js.map