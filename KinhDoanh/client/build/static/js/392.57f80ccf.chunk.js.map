{"version":3,"file":"static/js/392.57f80ccf.chunk.js","mappings":"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","sources":["components/Contracts/ContractManager.js"],"sourcesContent":["/**\r\n * Contract Manager - Quản lý hợp đồng chính\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { \r\n  Container, Row, Col, Card, Button, Table, Badge, Form, \r\n  Modal, Tabs, Tab, Dropdown, OverlayTrigger, Tooltip \r\n} from 'react-bootstrap';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport LoadingSpinner from '../Common/LoadingSpinner';\r\nimport ContractCreator from './ContractCreator';\r\nimport contractService from '../../services/contractService';\r\n\r\nconst ContractManager = ({ initialOpenCreate = false, initialCustomerId = '' }) => {\r\n  const { hasPermission } = useAuth();\r\n  const { showSuccess, showError } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [contracts, setContracts] = useState([]);\r\n  const [filteredContracts, setFilteredContracts] = useState([]);\r\n  const [showCreateModal, setShowCreateModal] = useState(!!initialOpenCreate);\r\n  const [selectedContract, setSelectedContract] = useState(null);\r\n  const [selectedRowCustomerId, setSelectedRowCustomerId] = useState('');\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [renderError, setRenderError] = useState(null);\r\n\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    status: '',\r\n    workflow_stage: '',\r\n    start_date_from: '',\r\n    start_date_to: ''\r\n  });\r\n\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n\r\n  // Contract statuses with colors\r\n  const contractStatuses = {\r\n    draft: { label: 'Bản nháp', variant: 'secondary' },\r\n    review: { label: 'Đang xem xét', variant: 'info' },\r\n    approved: { label: 'Đã duyệt', variant: 'success' },\r\n    signed: { label: 'Đã ký', variant: 'primary' },\r\n    active: { label: 'Đang hiệu lực', variant: 'success' },\r\n    expired: { label: 'Hết hạn', variant: 'warning' },\r\n    terminated: { label: 'Chấm dứt', variant: 'danger' },\r\n    cancelled: { label: 'Hủy bỏ', variant: 'dark' }\r\n  };\r\n\r\n  const workflowStages = {\r\n    preparation: { label: 'Chuẩn bị', icon: 'fas fa-edit' },\r\n    legal_review: { label: 'Xem xét pháp lý', icon: 'fas fa-balance-scale' },\r\n    approval: { label: 'Phê duyệt', icon: 'fas fa-check-circle' },\r\n    signing: { label: 'Ký kết', icon: 'fas fa-signature' },\r\n    execution: { label: 'Thực thi', icon: 'fas fa-play-circle' }\r\n  };\r\n\r\n  // Load contracts\r\n  const loadContracts = useCallback(async (page = 1) => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        page: page.toString(),\r\n        limit: pagination.limit.toString(),\r\n        ...filters\r\n      };\r\n\r\n      // Remove empty filters\r\n      Object.keys(params).forEach(key => {\r\n        if (!params[key]) delete params[key];\r\n      });\r\n\r\n      const response = await contractService.getContracts(params);\r\n      \r\n      if (response && response.success) {\r\n        const contractsData = Array.isArray(response.data.contracts) ? response.data.contracts : [];\r\n        const paginationData = response.data.pagination || { page: 1, limit: 20, total: contractsData.length, pages: 1 };\r\n\r\n        setContracts(contractsData);\r\n        setFilteredContracts(contractsData);\r\n        setPagination(paginationData);\r\n      } else {\r\n        showError(response.message || 'Không thể tải danh sách hợp đồng');\r\n      }\r\n    } catch (error) {\r\n      console.warn('Contract loading error:', error?.message || error);\r\n      // showError('Lỗi kết nối: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, pagination.limit, showError]);\r\n\r\n  useEffect(() => {\r\n    if (hasPermission('contract_read')) {\r\n      loadContracts();\r\n    }\r\n  }, [hasPermission, loadContracts, pagination.page]);\r\n\r\n  // Handle filter changes\r\n  useEffect(() => {\r\n    // Debounce search to avoid too many API calls\r\n    const timeoutId = setTimeout(() => {\r\n      if (pagination.page === 1) {\r\n        loadContracts(1);\r\n      } else {\r\n        setPagination(prev => ({ ...prev, page: 1 }));\r\n        loadContracts(1);\r\n      }\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [filters]);\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount);\r\n  };\r\n\r\n  // Calculate contract value\r\n  // const calculateContractValue = (contract) => {\r\n  //   const startDate = new Date(contract.start_date);\r\n  //   const endDate = new Date(contract.end_date);\r\n  //   const months = (endDate.getFullYear() - startDate.getFullYear()) * 12 + \r\n  //                  (endDate.getMonth() - startDate.getMonth());\r\n  //   return contract.rental_price * months;\r\n  // };\r\n\r\n  // Handle contract status change\r\n  const handleStatusChange = async (contractId, newStatus, newStage) => {\r\n    try {\r\n      const statusData = { \r\n        status: newStatus, \r\n        workflow_stage: newStage,\r\n        comment: `Chuyển trạng thái sang ${contractStatuses[newStatus]?.label}` \r\n      };\r\n\r\n      const response = await contractService.updateContractStatus(contractId, statusData);\r\n      \r\n      if (response.success) {\r\n        showSuccess('Cập nhật trạng thái thành công');\r\n        loadContracts(pagination.page);\r\n      } else {\r\n        showError(response.message || 'Không thể cập nhật trạng thái');\r\n      }\r\n    } catch (error) {\r\n      showError('Lỗi kết nối: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // View contract details\r\n  const viewContractDetails = async (contractId) => {\r\n    try {\r\n      const response = await contractService.getContract(contractId);\r\n      \r\n      if (response.success) {\r\n        setSelectedContract(response.data);\r\n        setShowDetailModal(true);\r\n      } else {\r\n        showError(response.message || 'Không thể tải chi tiết hợp đồng');\r\n      }\r\n    } catch (error) {\r\n      showError('Lỗi kết nối: ' + error.message);\r\n    }\r\n  };\r\n\r\n  if (!hasPermission('contract_read')) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <div className=\"alert alert-warning\">\r\n          Bạn không có quyền truy cập quản lý hợp đồng.\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-4\">\r\n      <Row>\r\n        <Col>\r\n          {/* Header */}\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h2>\r\n              <i className=\"fas fa-file-contract me-2\"></i>\r\n              Quản lý hợp đồng\r\n            </h2>\r\n            \r\n            {hasPermission('contract_create') && (\r\n              <Button \r\n                variant=\"primary\" \r\n                onClick={() => {\r\n                  try {\r\n                    const params = new URLSearchParams(window.location.search);\r\n                    params.set('open', 'create');\r\n                    if (selectedRowCustomerId) params.set('customer', selectedRowCustomerId);\r\n                    const newUrl = `${window.location.pathname}?${params.toString()}`;\r\n                    window.history.replaceState({}, '', newUrl);\r\n                  } catch (e) {}\r\n                  setShowCreateModal(true);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-plus me-2\"></i>\r\n                Tạo hợp đồng mới\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <Card className=\"mb-4\">\r\n            <Card.Header>\r\n              <h5 className=\"mb-0\">\r\n                <i className=\"fas fa-filter me-2\"></i>\r\n                Bộ lọc\r\n              </h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Row>\r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Tìm kiếm</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Số HĐ, tên khách hàng...\"\r\n                      value={filters.search}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        search: e.target.value \r\n                      }))}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Trạng thái</Form.Label>\r\n                    <Form.Select\r\n                      value={filters.status}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        status: e.target.value \r\n                      }))}\r\n                    >\r\n                      <option value=\"\">Tất cả</option>\r\n                      {Object.entries(contractStatuses).map(([key, status]) => (\r\n                        <option key={key} value={key}>{status.label}</option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Giai đoạn</Form.Label>\r\n                    <Form.Select\r\n                      value={filters.workflow_stage}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        workflow_stage: e.target.value \r\n                      }))}\r\n                    >\r\n                      <option value=\"\">Tất cả</option>\r\n                      {Object.entries(workflowStages).map(([key, stage]) => (\r\n                        <option key={key} value={key}>{stage.label}</option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Từ ngày</Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      value={filters.start_date_from}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        start_date_from: e.target.value \r\n                      }))}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Đến ngày</Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      value={filters.start_date_to}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        start_date_to: e.target.value \r\n                      }))}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={1} className=\"d-flex align-items-end\">\r\n                  <Button \r\n                    variant=\"outline-secondary\" \r\n                    onClick={() => setFilters({\r\n                      search: '',\r\n                      status: '',\r\n                      workflow_stage: '',\r\n                      start_date_from: '',\r\n                      start_date_to: ''\r\n                    })}\r\n                  >\r\n                    <i className=\"fas fa-undo\"></i>\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          {/* Contracts Table */}\r\n          <Card>\r\n            <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">\r\n                Danh sách hợp đồng ({pagination.total})\r\n              </h5>\r\n              \r\n              <div className=\"d-flex gap-2\">\r\n                <Button variant=\"outline-primary\" size=\"sm\">\r\n                  <i className=\"fas fa-download me-2\"></i>\r\n                  Xuất Excel\r\n                </Button>\r\n                <Button variant=\"outline-secondary\" size=\"sm\" onClick={() => loadContracts(pagination.page)}>\r\n                  <i className=\"fas fa-sync-alt\"></i>\r\n                </Button>\r\n              </div>\r\n            </Card.Header>\r\n            \r\n            <Card.Body className=\"p-0\">\r\n              {loading ? (\r\n                <div className=\"text-center p-4\">\r\n                  <LoadingSpinner />\r\n                </div>\r\n              ) : (\r\n                renderError ? (\r\n                  <div className=\"p-4\">\r\n                    <div className=\"alert alert-danger\">\r\n                      <strong>Lỗi hiển thị danh sách hợp đồng:</strong>\r\n                      <div>{String(renderError)}</div>\r\n                    </div>\r\n                    <div className=\"text-muted\">Vui lòng tải lại trang hoặc liên hệ admin.</div>\r\n                  </div>\r\n                ) : (\r\n                <Table responsive hover className=\"mb-0\">\r\n                  <thead className=\"table-light\">\r\n                    <tr>\r\n                      <th>Số hợp đồng</th>\r\n                      <th>Khách hàng</th>\r\n                      <th>Dự án</th>\r\n                      <th>Diện tích</th>\r\n                      <th>Giá thuê/tháng</th>\r\n                      <th>Thời hạn</th>\r\n                      <th>Trạng thái</th>\r\n                      <th>Giai đoạn</th>\r\n                      <th>Người phụ trách</th>\r\n                      <th>Thao tác</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {(() => {\r\n                      try {\r\n                        return (filteredContracts || []).map(contract => (\r\n                          <tr key={contract.id}\r\n                              className={String(selectedRowCustomerId) === String(contract.customer_id) ? 'table-active' : ''}\r\n                              onClick={() => setSelectedRowCustomerId(contract.customer_id)}\r\n                          >\r\n                            <td>\r\n                              <strong>{contract.contract_number}</strong>\r\n                              <br/>\r\n                              <small className=\"text-muted\">\r\n                                {contract.created_at ? new Date(contract.created_at).toLocaleDateString('vi-VN') : ''}\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <strong>{contract.customer_company_name || contract.company_name}</strong>\r\n                                <br/>\r\n                                <small className=\"text-muted\">{contract.customer_name}</small>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <strong>{contract.project_name || 'Chưa phân bổ'}</strong>\r\n                                <br/>\r\n                                <small className=\"text-muted\">{contract.warehouse_location}</small>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              {contract.warehouse_area ?? 'N/A'} m²\r\n                            </td>\r\n                            <td>\r\n                              {formatCurrency(contract.rental_price ?? 0)}\r\n                              <br/>\r\n                              <small className=\"text-muted\">\r\n                                {contract.warehouse_area ? formatCurrency((contract.rental_price ?? 0) / contract.warehouse_area) + '/m²' : 'N/A'}\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              {contract.start_date ? new Date(contract.start_date).toLocaleDateString('vi-VN') : ''}\r\n                              <br/>\r\n                              <small className=\"text-muted\">\r\n                                → {contract.end_date ? new Date(contract.end_date).toLocaleDateString('vi-VN') : ''}\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              <Badge bg={contractStatuses[contract.status]?.variant || 'secondary'}>\r\n                                {contractStatuses[contract.status]?.label || contract.status}\r\n                              </Badge>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center\">\r\n                                <i className={`${workflowStages[contract.workflow_stage]?.icon} me-2`}></i>\r\n                                <small>{workflowStages[contract.workflow_stage]?.label}</small>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              {contract.assigned_to_name ? (\r\n                                <Badge bg=\"info\">{contract.assigned_to_name}</Badge>\r\n                              ) : (\r\n                                <span className=\"text-muted\">Chưa giao</span>\r\n                              )}\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex gap-1\">\r\n                                <OverlayTrigger \r\n                                  overlay={<Tooltip>Xem chi tiết</Tooltip>}\r\n                                >\r\n                                  <Button \r\n                                    variant=\"outline-primary\" \r\n                                    size=\"sm\"\r\n                                    onClick={() => viewContractDetails(contract.id)}\r\n                                  >\r\n                                    <i className=\"fas fa-eye\"></i>\r\n                                  </Button>\r\n                                </OverlayTrigger>\r\n                                \r\n                                {hasPermission('contract_update') && (\r\n                                  <Dropdown>\r\n                                    <Dropdown.Toggle \r\n                                      variant=\"outline-secondary\" \r\n                                      size=\"sm\"\r\n                                      id={`dropdown-${contract.id}`}\r\n                                    >\r\n                                      <i className=\"fas fa-cog\"></i>\r\n                                    </Dropdown.Toggle>\r\n                                    <Dropdown.Menu>\r\n                                      <Dropdown.Item \r\n                                        onClick={() => handleStatusChange(contract.id, 'review', 'legal_review')}\r\n                                      >\r\n                                        <i className=\"fas fa-eye me-2\"></i>\r\n                                        Gửi xem xét\r\n                                      </Dropdown.Item>\r\n                                      <Dropdown.Item \r\n                                        onClick={() => handleStatusChange(contract.id, 'approved', 'signing')}\r\n                                      >\r\n                                        <i className=\"fas fa-check me-2\"></i>\r\n                                        Phê duyệt\r\n                                      </Dropdown.Item>\r\n                                      <Dropdown.Item \r\n                                        onClick={() => handleStatusChange(contract.id, 'signed', 'execution')}\r\n                                      >\r\n                                        <i className=\"fas fa-signature me-2\"></i>\r\n                                        Đã ký\r\n                                      </Dropdown.Item>\r\n                                      <Dropdown.Divider />\r\n                                      <Dropdown.Item className=\"text-danger\">\r\n                                        <i className=\"fas fa-trash me-2\"></i>\r\n                                        Hủy bỏ\r\n                                      </Dropdown.Item>\r\n                                    </Dropdown.Menu>\r\n                                  </Dropdown>\r\n                                )}\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ));\r\n                      } catch (err) {\r\n                        console.error('Render error in ContractManager:', err);\r\n                        setRenderError(err?.message || String(err));\r\n                        return null;\r\n                      }\r\n                    })()}\r\n                  </tbody>\r\n                </Table>\r\n               )\r\n             )}\r\n            </Card.Body>\r\n            \r\n            {/* Pagination */}\r\n            {pagination.pages > 1 && (\r\n              <Card.Footer>\r\n                <div className=\"d-flex justify-content-between align-items-center\">\r\n                  <small className=\"text-muted\">\r\n                    Hiển thị {((pagination.page - 1) * pagination.limit) + 1} - {Math.min(pagination.page * pagination.limit, pagination.total)} \r\n                    trong tổng số {pagination.total} hợp đồng\r\n                  </small>\r\n                  \r\n                  <div className=\"d-flex gap-2\">\r\n                    <Button \r\n                      variant=\"outline-secondary\" \r\n                      size=\"sm\"\r\n                      disabled={pagination.page === 1}\r\n                      onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\r\n                    >\r\n                      <i className=\"fas fa-chevron-left\"></i>\r\n                    </Button>\r\n                    \r\n                    <span className=\"d-flex align-items-center px-3\">\r\n                      Trang {pagination.page} / {pagination.pages}\r\n                    </span>\r\n                    \r\n                    <Button \r\n                      variant=\"outline-secondary\" \r\n                      size=\"sm\"\r\n                      disabled={pagination.page === pagination.pages}\r\n                      onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\r\n                    >\r\n                      <i className=\"fas fa-chevron-right\"></i>\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </Card.Footer>\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Create Contract Modal */}\r\n      <ContractCreator\r\n        show={showCreateModal}\r\n        initialCustomerId={selectedRowCustomerId || initialCustomerId}\r\n        onHide={() => setShowCreateModal(false)}\r\n        onSuccess={() => {\r\n          setShowCreateModal(false);\r\n          loadContracts(pagination.page);\r\n        }}\r\n      />\r\n\r\n      {/* Contract Detail Modal */}\r\n      {selectedContract && (\r\n        <Modal \r\n          show={showDetailModal} \r\n          onHide={() => setShowDetailModal(false)} \r\n          size=\"xl\"\r\n          scrollable\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              Chi tiết hợp đồng {selectedContract.contract.contract_number}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <ContractDetailView contract={selectedContract} />\r\n          </Modal.Body>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Contract Detail Component  \r\nconst ContractDetailView = ({ contract }) => {\r\n  return (\r\n    <Tabs defaultActiveKey=\"overview\" id=\"contract-detail-tabs\">\r\n      <Tab eventKey=\"overview\" title=\"Tổng quan\">\r\n        <div className=\"pt-3\">\r\n          <Row>\r\n            <Col md={6}>\r\n              <h5>Thông tin hợp đồng</h5>\r\n              <Table size=\"sm\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td><strong>Số hợp đồng:</strong></td>\r\n                    <td>{contract.contract.contract_number}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Tiêu đề:</strong></td>\r\n                    <td>{contract.contract.contract_title}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Dự án:</strong></td>\r\n                    <td>{contract.contract.project_name || 'Chưa phân bổ'}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Kho:</strong></td>\r\n                    <td>{contract.contract.warehouse_location}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Diện tích:</strong></td>\r\n                    <td>{contract.contract.warehouse_area} m²</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Giá thuê:</strong></td>\r\n                    <td>{new Intl.NumberFormat('vi-VN').format(contract.contract.rental_price)} VNĐ/tháng</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n            <Col md={6}>\r\n              <h5>Thông tin khách hàng</h5>\r\n              <Table size=\"sm\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td><strong>Công ty:</strong></td>\r\n                    <td>{contract.contract.customer_company_name}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Người liên hệ:</strong></td>\r\n                    <td>{contract.contract.customer_name}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Điện thoại:</strong></td>\r\n                    <td>{contract.contract.customer_phone}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Email:</strong></td>\r\n                    <td>{contract.contract.customer_email}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Mã số thuế:</strong></td>\r\n                    <td>{contract.contract.tax_code}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Tab>\r\n      \r\n      <Tab eventKey=\"documents\" title={`Tài liệu (${contract.documents?.length || 0})`}>\r\n        <div className=\"pt-3\">\r\n          {contract.documents?.length > 0 ? (\r\n            <Table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Tên tài liệu</th>\r\n                  <th>Loại</th>\r\n                  <th>Phiên bản</th>\r\n                  <th>Trạng thái</th>\r\n                  <th>Ngày tạo</th>\r\n                  <th>Thao tác</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {contract.documents.map(doc => (\r\n                  <tr key={doc.id}>\r\n                    <td>{doc.document_name}</td>\r\n                    <td>\r\n                      <Badge bg=\"info\">{doc.category_name}</Badge>\r\n                    </td>\r\n                    <td>v{doc.version}</td>\r\n                    <td>\r\n                      <Badge \r\n                        bg={doc.status === 'final' ? 'success' : \r\n                            doc.status === 'draft' ? 'secondary' : 'warning'}\r\n                      >\r\n                        {doc.status}\r\n                      </Badge>\r\n                    </td>\r\n                    <td>{new Date(doc.created_at).toLocaleDateString('vi-VN')}</td>\r\n                    <td>\r\n                      <Button variant=\"outline-primary\" size=\"sm\">\r\n                        <i className=\"fas fa-eye\"></i>\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          ) : (\r\n            <div className=\"text-center text-muted py-4\">\r\n              Chưa có tài liệu nào\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Tab>\r\n      \r\n      <Tab eventKey=\"history\" title=\"Lịch sử\">\r\n        <div className=\"pt-3\">\r\n          {contract.workflow_history?.length > 0 ? (\r\n            <div className=\"timeline\">\r\n              {contract.workflow_history.map(history => (\r\n                <div key={history.id} className=\"timeline-item mb-3\">\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      <div className=\"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center\" style={{width: '40px', height: '40px'}}>\r\n                        <i className=\"fas fa-user fa-sm\"></i>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-grow-1 ms-3\">\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <h6 className=\"mb-1\">{history.action}</h6>\r\n                        <small className=\"text-muted\">{new Date(history.performed_at).toLocaleString('vi-VN')}</small>\r\n                      </div>\r\n                      <p className=\"mb-1\">{history.comment}</p>\r\n                      <small className=\"text-muted\">Bởi: {history.performed_by_name}</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center text-muted py-4\">\r\n              Chưa có lịch sử nào\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Tab>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ContractManager;"],"names":["ContractDetailView","_ref4","_contract$documents","_contract$documents2","_contract$workflow_hi","contract","_jsxs","Tabs","defaultActiveKey","id","children","_jsx","Tab","eventKey","title","className","Row","Col","md","Table","size","contract_number","contract_title","project_name","warehouse_location","warehouse_area","Intl","NumberFormat","format","rental_price","customer_company_name","customer_name","customer_phone","customer_email","tax_code","concat","documents","length","map","doc","document_name","Badge","bg","category_name","version","status","Date","created_at","toLocaleDateString","Button","variant","workflow_history","history","style","width","height","action","performed_at","toLocaleString","comment","performed_by_name","_ref","initialOpenCreate","initialCustomerId","hasPermission","useAuth","showSuccess","showError","useNotification","loading","setLoading","useState","contracts","setContracts","filteredContracts","setFilteredContracts","showCreateModal","setShowCreateModal","selectedContract","setSelectedContract","selectedRowCustomerId","setSelectedRowCustomerId","showDetailModal","setShowDetailModal","renderError","setRenderError","filters","setFilters","search","workflow_stage","start_date_from","start_date_to","pagination","setPagination","page","limit","total","pages","contractStatuses","draft","label","review","approved","signed","active","expired","terminated","cancelled","workflowStages","preparation","icon","legal_review","approval","signing","execution","loadContracts","useCallback","async","arguments","undefined","params","_objectSpread","toString","Object","keys","forEach","key","response","contractService","getContracts","success","contractsData","Array","isArray","data","paginationData","message","error","console","warn","useEffect","timeoutId","setTimeout","prev","clearTimeout","formatCurrency","amount","currency","handleStatusChange","contractId","newStatus","newStage","_contractStatuses$new","statusData","updateContractStatus","onClick","URLSearchParams","window","location","set","newUrl","pathname","replaceState","e","Card","Header","Body","Form","Group","Label","Control","type","placeholder","value","onChange","target","Select","entries","_ref2","_ref3","stage","LoadingSpinner","String","responsive","hover","_contract$warehouse_a","_contract$rental_pric","_contract$rental_pric2","_contractStatuses$con","_contractStatuses$con2","_workflowStages$contr","_workflowStages$contr2","customer_id","company_name","start_date","end_date","assigned_to_name","OverlayTrigger","overlay","Tooltip","getContract","viewContractDetails","Dropdown","Toggle","Menu","Item","Divider","err","Footer","Math","min","disabled","ContractCreator","show","onHide","onSuccess","Modal","scrollable","closeButton","Title","Container"],"ignoreList":[],"sourceRoot":""}