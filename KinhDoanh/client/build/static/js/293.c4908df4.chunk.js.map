{"version":3,"file":"static/js/293.c4908df4.chunk.js","mappings":"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","sources":["components/Contracts/ContractTemplateManager.js","pages/Contracts.js"],"sourcesContent":["/**\r\n * Contract Template Manager - Quản lý mẫu hợp đồng\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { \r\n  Container, Row, Col, Card, Button, Table, Badge, Form, \r\n  Modal, Alert, Tabs, Tab \r\n} from 'react-bootstrap';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport contractService from '../../services/contractService';\r\nimport LoadingSpinner from '../Common/LoadingSpinner';\r\n\r\nconst ContractTemplateManager = () => {\r\n  const { hasPermission } = useAuth();\r\n  const { showSuccess, showError } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [templates, setTemplates] = useState([]);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\r\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\r\n\r\n  // Template form data\r\n  const [formData, setFormData] = useState({\r\n    template_name: '',\r\n    template_code: '',\r\n    template_type: 'warehouse_rental',\r\n    template_content: '',\r\n    variables: [],\r\n    version: '1.0',\r\n    is_active: true,\r\n    is_default: false\r\n  });\r\n\r\n  // Variable management\r\n  const [newVariable, setNewVariable] = useState({\r\n    name: '',\r\n    type: 'text',\r\n    required: true,\r\n    description: ''\r\n  });\r\n\r\n  // Load templates\r\n  const loadTemplates = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await contractService.getContractTemplates();\r\n      setTemplates(response.data);\r\n    } catch (error) {\r\n      showError('Không thể tải danh sách mẫu hợp đồng: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [showError]);\r\n\r\n  useEffect(() => {\r\n    if (hasPermission('contract_template_read')) {\r\n      loadTemplates();\r\n    }\r\n  }, [hasPermission, loadTemplates]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      if (selectedTemplate) {\r\n        await contractService.updateContractTemplate(selectedTemplate.id, formData);\r\n        showSuccess('Cập nhật mẫu hợp đồng thành công');\r\n        setShowEditModal(false);\r\n      } else {\r\n        await contractService.createContractTemplate(formData);\r\n        showSuccess('Tạo mẫu hợp đồng thành công');\r\n        setShowCreateModal(false);\r\n      }\r\n      \r\n      loadTemplates();\r\n      resetForm();\r\n    } catch (error) {\r\n      showError('Lỗi: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Reset form\r\n  const resetForm = () => {\r\n    setFormData({\r\n      template_name: '',\r\n      template_code: '',\r\n      template_type: 'warehouse_rental',\r\n      template_content: '',\r\n      variables: [],\r\n      version: '1.0',\r\n      is_active: true,\r\n      is_default: false\r\n    });\r\n    setSelectedTemplate(null);\r\n  };\r\n\r\n  // Add variable\r\n  const addVariable = () => {\r\n    if (!newVariable.name.trim()) return;\r\n    \r\n    const variable = {\r\n      name: newVariable.name,\r\n      type: newVariable.type,\r\n      required: newVariable.required,\r\n      description: newVariable.description\r\n    };\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      variables: [...prev.variables, variable]\r\n    }));\r\n    \r\n    setNewVariable({ name: '', type: 'text', required: true, description: '' });\r\n  };\r\n\r\n  // Remove variable\r\n  const removeVariable = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      variables: prev.variables.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  // Edit template\r\n  const editTemplate = (template) => {\r\n    setFormData({\r\n      template_name: template.template_name,\r\n      template_code: template.template_code,\r\n      template_type: template.template_type,\r\n      template_content: template.template_content,\r\n      variables: template.variables || [],\r\n      version: template.version,\r\n      is_active: template.is_active,\r\n      is_default: template.is_default\r\n    });\r\n    setSelectedTemplate(template);\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  // Preview template\r\n  const previewTemplate = async (template) => {\r\n    try {\r\n      const response = await contractService.getContractTemplate(template.id);\r\n      setSelectedTemplate(response.data);\r\n      setShowPreviewModal(true);\r\n    } catch (error) {\r\n      showError('Không thể tải chi tiết mẫu: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Default contract template content\r\n  const defaultTemplateContent = `\r\n<div class=\"contract-header\">\r\n  <h1 style=\"text-align: center;\">HỢP ĐỒNG THUÊ KHO</h1>\r\n  <p style=\"text-align: center;\">Số: {{contract_number}}</p>\r\n</div>\r\n\r\n<div class=\"contract-parties\">\r\n  <h3>CÁC BÊN THAM GIA HỢP ĐỒNG</h3>\r\n  \r\n  <h4>BÊN CHO THUÊ (Bên A):</h4>\r\n  <p><strong>Tên:</strong> {{party_a_name}}</p>\r\n  <p><strong>Địa chỉ:</strong> {{party_a_address}}</p>\r\n  <p><strong>Người đại diện:</strong> {{party_a_representative}} - {{party_a_position}}</p>\r\n  <p><strong>CMND/CCCD:</strong> {{party_a_id_number}}</p>\r\n  \r\n  <h4>BÊN THUÊ (Bên B):</h4>\r\n  <p><strong>Tên công ty:</strong> {{party_b_name}}</p>\r\n  <p><strong>Địa chỉ:</strong> {{party_b_address}}</p>\r\n  <p><strong>Mã số thuế:</strong> {{party_b_tax_code}}</p>\r\n  <p><strong>Người đại diện:</strong> {{party_b_representative}} - {{party_b_position}}</p>\r\n</div>\r\n\r\n<div class=\"contract-terms\">\r\n  <h3>ĐIỀU KHOẢN HỢP ĐỒNG</h3>\r\n  \r\n  <h4>Điều 1: Đối tượng thuê</h4>\r\n  <p>Bên A đồng ý cho Bên B thuê kho tại vị trí: <strong>{{warehouse_location}}</strong></p>\r\n  <p>Diện tích: <strong>{{warehouse_area}} m²</strong></p>\r\n  \r\n  <h4>Điều 2: Thời hạn thuê</h4>\r\n  <p>Từ ngày: <strong>{{start_date}}</strong> đến ngày: <strong>{{end_date}}</strong></p>\r\n  \r\n  <h4>Điều 3: Giá thuê và thanh toán</h4>\r\n  <p>Giá thuê: <strong>{{rental_price}} VNĐ/tháng</strong></p>\r\n  <p>Tiền cọc: <strong>{{deposit_amount}} VNĐ</strong></p>\r\n  <p>Chu kỳ thanh toán: <strong>{{payment_cycle}}</strong></p>\r\n  <p>Hạn thanh toán: Trước ngày <strong>{{payment_due_date}}</strong> hàng tháng</p>\r\n  \r\n  <h4>Điều 4: Mục đích sử dụng</h4>\r\n  <p>{{warehouse_purpose}}</p>\r\n  \r\n  <h4>Điều 5: Điều khoản đặc biệt</h4>\r\n  <p>{{special_terms}}</p>\r\n</div>\r\n\r\n<div class=\"contract-signature\">\r\n  <div style=\"display: flex; justify-content: space-between; margin-top: 50px;\">\r\n    <div style=\"text-align: center;\">\r\n      <p><strong>BÊN A</strong></p>\r\n      <p>(Ký tên và đóng dấu)</p>\r\n      <br><br><br>\r\n      <p>{{party_a_representative}}</p>\r\n    </div>\r\n    <div style=\"text-align: center;\">\r\n      <p><strong>BÊN B</strong></p>\r\n      <p>(Ký tên và đóng dấu)</p>\r\n      <br><br><br>\r\n      <p>{{party_b_representative}}</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n  `;\r\n\r\n  if (!hasPermission('contract_template_read')) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Alert variant=\"warning\">\r\n          Bạn không có quyền truy cập quản lý mẫu hợp đồng.\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"mt-4\">\r\n      <Row>\r\n        <Col>\r\n          {/* Header */}\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h2>\r\n              <i className=\"fas fa-file-alt me-2\"></i>\r\n              Quản lý mẫu hợp đồng\r\n            </h2>\r\n            \r\n            {hasPermission('contract_template_create') && (\r\n              <Button \r\n                variant=\"primary\" \r\n                onClick={() => {\r\n                  resetForm();\r\n                  setFormData(prev => ({ ...prev, template_content: defaultTemplateContent }));\r\n                  setShowCreateModal(true);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-plus me-2\"></i>\r\n                Tạo mẫu mới\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Templates Table */}\r\n          <Card>\r\n            <Card.Header>\r\n              <h5 className=\"mb-0\">\r\n                Danh sách mẫu hợp đồng ({templates.length})\r\n              </h5>\r\n            </Card.Header>\r\n            \r\n            <Card.Body className=\"p-0\">\r\n              {loading ? (\r\n                <div className=\"text-center p-4\">\r\n                  <LoadingSpinner />\r\n                </div>\r\n              ) : (\r\n                <Table responsive hover className=\"mb-0\">\r\n                  <thead className=\"table-light\">\r\n                    <tr>\r\n                      <th>Tên mẫu</th>\r\n                      <th>Mã mẫu</th>\r\n                      <th>Loại</th>\r\n                      <th>Phiên bản</th>\r\n                      <th>Trạng thái</th>\r\n                      <th>Sử dụng</th>\r\n                      <th>Người tạo</th>\r\n                      <th>Ngày tạo</th>\r\n                      <th>Thao tác</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {templates.map(template => (\r\n                      <tr key={template.id}>\r\n                        <td>\r\n                          <div>\r\n                            <strong>{template.template_name}</strong>\r\n                            {template.is_default && (\r\n                              <Badge bg=\"primary\" className=\"ms-2\">Mặc định</Badge>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <code>{template.template_code}</code>\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg=\"info\">\r\n                            {template.template_type === 'warehouse_rental' ? 'Thuê kho' : \r\n                             template.template_type === 'service_agreement' ? 'Dịch vụ' : \r\n                             'Phụ lục'}\r\n                          </Badge>\r\n                        </td>\r\n                        <td>v{template.version}</td>\r\n                        <td>\r\n                          <Badge bg={template.is_active ? 'success' : 'secondary'}>\r\n                            {template.is_active ? 'Hoạt động' : 'Ngưng'}\r\n                          </Badge>\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg=\"secondary\">\r\n                            {template.usage_count || 0} lần\r\n                          </Badge>\r\n                        </td>\r\n                        <td>{template.created_by_name}</td>\r\n                        <td>\r\n                          {new Date(template.created_at).toLocaleDateString('vi-VN')}\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex gap-1\">\r\n                            <Button \r\n                              variant=\"outline-info\" \r\n                              size=\"sm\"\r\n                              onClick={() => previewTemplate(template)}\r\n                              title=\"Xem trước\"\r\n                            >\r\n                              <i className=\"fas fa-eye\"></i>\r\n                            </Button>\r\n                            \r\n                            {hasPermission('contract_template_update') && (\r\n                              <Button \r\n                                variant=\"outline-primary\" \r\n                                size=\"sm\"\r\n                                onClick={() => editTemplate(template)}\r\n                                title=\"Chỉnh sửa\"\r\n                              >\r\n                                <i className=\"fas fa-edit\"></i>\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Create/Edit Template Modal */}\r\n      <Modal \r\n        show={showCreateModal || showEditModal} \r\n        onHide={() => {\r\n          setShowCreateModal(false);\r\n          setShowEditModal(false);\r\n          resetForm();\r\n        }}\r\n        size=\"xl\"\r\n        scrollable\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {selectedTemplate ? 'Chỉnh sửa mẫu hợp đồng' : 'Tạo mẫu hợp đồng mới'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Tabs defaultActiveKey=\"basic\" className=\"mb-3\">\r\n              <Tab eventKey=\"basic\" title=\"Thông tin cơ bản\">\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Tên mẫu *</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={formData.template_name}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          template_name: e.target.value\r\n                        }))}\r\n                        placeholder=\"VD: Hợp đồng thuê kho tiêu chuẩn\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  \r\n                  <Col md={6}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Mã mẫu *</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={formData.template_code}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          template_code: e.target.value.toUpperCase()\r\n                        }))}\r\n                        placeholder=\"VD: STANDARD_WAREHOUSE_RENTAL\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <Col md={4}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Loại mẫu</Form.Label>\r\n                      <Form.Select\r\n                        value={formData.template_type}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          template_type: e.target.value\r\n                        }))}\r\n                      >\r\n                        <option value=\"warehouse_rental\">Hợp đồng thuê kho</option>\r\n                        <option value=\"service_agreement\">Hợp đồng dịch vụ</option>\r\n                        <option value=\"amendment\">Phụ lục hợp đồng</option>\r\n                      </Form.Select>\r\n                    </Form.Group>\r\n                  </Col>\r\n                  \r\n                  <Col md={4}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Phiên bản</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={formData.version}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          version: e.target.value\r\n                        }))}\r\n                        placeholder=\"1.0\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  \r\n                  <Col md={4}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Tùy chọn</Form.Label>\r\n                      <div>\r\n                        <Form.Check\r\n                          type=\"checkbox\"\r\n                          id=\"is_active\"\r\n                          label=\"Hoạt động\"\r\n                          checked={formData.is_active}\r\n                          onChange={(e) => setFormData(prev => ({\r\n                            ...prev,\r\n                            is_active: e.target.checked\r\n                          }))}\r\n                        />\r\n                        <Form.Check\r\n                          type=\"checkbox\"\r\n                          id=\"is_default\"\r\n                          label=\"Mặc định\"\r\n                          checked={formData.is_default}\r\n                          onChange={(e) => setFormData(prev => ({\r\n                            ...prev,\r\n                            is_default: e.target.checked\r\n                          }))}\r\n                        />\r\n                      </div>\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"variables\" title={`Biến (${formData.variables.length})`}>\r\n                <div className=\"mb-3\">\r\n                  <h5>Thêm biến mới</h5>\r\n                  <Row>\r\n                    <Col md={3}>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Tên biến (VD: contract_number)\"\r\n                        value={newVariable.name}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          name: e.target.value\r\n                        }))}\r\n                      />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Form.Select\r\n                        value={newVariable.type}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          type: e.target.value\r\n                        }))}\r\n                      >\r\n                        <option value=\"text\">Text</option>\r\n                        <option value=\"number\">Number</option>\r\n                        <option value=\"date\">Date</option>\r\n                        <option value=\"currency\">Currency</option>\r\n                        <option value=\"boolean\">Boolean</option>\r\n                      </Form.Select>\r\n                    </Col>\r\n                    <Col md={4}>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Mô tả\"\r\n                        value={newVariable.description}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          description: e.target.value\r\n                        }))}\r\n                      />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Form.Check\r\n                        type=\"checkbox\"\r\n                        label=\"Bắt buộc\"\r\n                        checked={newVariable.required}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          required: e.target.checked\r\n                        }))}\r\n                      />\r\n                    </Col>\r\n                    <Col md={1}>\r\n                      <Button variant=\"success\" onClick={addVariable}>\r\n                        <i className=\"fas fa-plus\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n\r\n                {formData.variables.length > 0 && (\r\n                  <Table size=\"sm\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Tên biến</th>\r\n                        <th>Loại</th>\r\n                        <th>Mô tả</th>\r\n                        <th>Bắt buộc</th>\r\n                        <th>Thao tác</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {formData.variables.map((variable, index) => (\r\n                        <tr key={index}>\r\n                          <td><code>{`{{${variable.name}}}`}</code></td>\r\n                          <td><Badge bg=\"info\">{variable.type}</Badge></td>\r\n                          <td>{variable.description}</td>\r\n                          <td>\r\n                            {variable.required && (\r\n                              <Badge bg=\"warning\">Bắt buộc</Badge>\r\n                            )}\r\n                          </td>\r\n                          <td>\r\n                            <Button \r\n                              variant=\"outline-danger\" \r\n                              size=\"sm\"\r\n                              onClick={() => removeVariable(index)}\r\n                            >\r\n                              <i className=\"fas fa-trash\"></i>\r\n                            </Button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                )}\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"content\" title=\"Nội dung mẫu\">\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Nội dung HTML</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={20}\r\n                    value={formData.template_content}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      template_content: e.target.value\r\n                    }))}\r\n                    placeholder=\"Nhập nội dung HTML cho mẫu hợp đồng...\"\r\n                    style={{ fontFamily: 'monospace', fontSize: '14px' }}\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Sử dụng cú pháp {`{{variable_name}}`} để chèn biến vào nội dung\r\n                  </Form.Text>\r\n                </Form.Group>\r\n              </Tab>\r\n            </Tabs>\r\n\r\n            <div className=\"d-flex justify-content-end gap-2\">\r\n              <Button \r\n                variant=\"secondary\"\r\n                onClick={() => {\r\n                  setShowCreateModal(false);\r\n                  setShowEditModal(false);\r\n                  resetForm();\r\n                }}\r\n              >\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\" variant=\"primary\">\r\n                <i className=\"fas fa-save me-2\"></i>\r\n                {selectedTemplate ? 'Cập nhật' : 'Tạo mới'}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* Preview Template Modal */}\r\n      <Modal \r\n        show={showPreviewModal} \r\n        onHide={() => setShowPreviewModal(false)}\r\n        size=\"xl\"\r\n        scrollable\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            Xem trước mẫu: {selectedTemplate?.template_name}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {selectedTemplate && (\r\n            <div className=\"border p-3\" \r\n                 dangerouslySetInnerHTML={{ __html: selectedTemplate.template_content }} \r\n            />\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ContractTemplateManager;","/**\r\n * Contracts Page - KHO MVG\r\n * Quản lý hợp đồng cho thuê kho xưởng\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Container, Nav, Tab } from 'react-bootstrap';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport ContractManager from '../components/Contracts/ContractManager';\r\nimport ContractTemplateManager from '../components/Contracts/ContractTemplateManager';\r\n\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction Contracts() {\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const pathname = location.pathname || '';\r\n  const initialOpenCreate = pathname.endsWith('/contracts/create') || searchParams.get('create') === '1' || searchParams.get('open') === 'create';\r\n  const initialCustomerId = searchParams.get('customer') || '';\r\n\r\n  const { hasPermission } = useAuth();\r\n  const [activeTab, setActiveTab] = useState('contracts');\r\n\r\n  if (!hasPermission('contract_read')) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <div className=\"alert alert-warning\">\r\n          <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n          Bạn không có quyền truy cập quản lý hợp đồng.\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"contracts-page\">\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        {/* Tab Navigation */}\r\n        <Container fluid className=\"bg-light border-bottom\">\r\n          <Nav variant=\"tabs\" className=\"border-0\">\r\n            <Nav.Item>\r\n              <Nav.Link eventKey=\"contracts\">\r\n                <i className=\"fas fa-file-contract me-2\"></i>\r\n                Quản lý hợp đồng\r\n              </Nav.Link>\r\n            </Nav.Item>\r\n            \r\n            {hasPermission('contract_template_read') && (\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"templates\">\r\n                  <i className=\"fas fa-file-alt me-2\"></i>\r\n                  Mẫu hợp đồng\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            )}\r\n          </Nav>\r\n        </Container>\r\n\r\n        {/* Tab Content */}\r\n        <Tab.Content>\r\n          <Tab.Pane eventKey=\"contracts\">\r\n            <ContractManager initialOpenCreate={initialOpenCreate} initialCustomerId={initialCustomerId} />\r\n          </Tab.Pane>\r\n          \r\n          <Tab.Pane eventKey=\"templates\">\r\n            <ContractTemplateManager />\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      </Tab.Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contracts;"],"names":["ContractTemplateManager","hasPermission","useAuth","showSuccess","showError","useNotification","loading","setLoading","useState","templates","setTemplates","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","selectedTemplate","setSelectedTemplate","showPreviewModal","setShowPreviewModal","formData","setFormData","template_name","template_code","template_type","template_content","variables","version","is_active","is_default","newVariable","setNewVariable","name","type","required","description","loadTemplates","useCallback","async","response","contractService","getContractTemplates","data","error","message","useEffect","resetForm","_jsxs","Container","fluid","className","children","_jsx","Row","Col","Button","variant","onClick","prev","_objectSpread","Card","Header","length","Body","LoadingSpinner","Table","responsive","hover","map","template","Badge","bg","usage_count","created_by_name","Date","created_at","toLocaleDateString","size","getContractTemplate","id","previewTemplate","title","editTemplate","Modal","show","onHide","scrollable","closeButton","Title","Form","onSubmit","e","preventDefault","updateContractTemplate","createContractTemplate","Tabs","defaultActiveKey","Tab","eventKey","md","Group","Label","Control","value","onChange","target","placeholder","toUpperCase","Select","Check","label","checked","concat","addVariable","trim","variable","index","filter","_","i","removeVariable","as","rows","style","fontFamily","fontSize","Text","dangerouslySetInnerHTML","__html","Alert","location","useLocation","searchParams","URLSearchParams","search","initialOpenCreate","pathname","endsWith","get","initialCustomerId","activeTab","setActiveTab","activeKey","onSelect","Nav","Item","Link","Content","Pane","ContractManager"],"ignoreList":[],"sourceRoot":""}