{"version":3,"file":"static/js/998.7cf5c0f4.chunk.js","mappings":"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","sources":["components/Customers/PersonalInfoTab.js","components/Customers/CompanyInfoTab.js","components/Customers/ContractInfoTab.js","components/Customers/CustomerFormTabs.js"],"sourcesContent":["/**\r\n * Personal Info Tab - Thông tin cá nhân cơ bản\r\n */\r\n\r\nimport React from 'react';\r\nimport { Form, Row, Col, Card, Button, InputGroup, Alert } from 'react-bootstrap';\r\n\r\nfunction PersonalInfoTab({ data, errors, touched, onDataChange, onGenerateCode }) {\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const newData = { ...data, [name]: value };\r\n    onDataChange(newData);\r\n  };\r\n\r\n  // const _validateField = (name, value) => {\r\n  //   switch (name) {\r\n  //     case 'customer_code':\r\n  //       if (!value.trim()) return 'Mã khách hàng là bắt buộc';\r\n  //       if (!/^(CN|DN)\\d{6}$/.test(value)) return 'Mã khách hàng phải có format: CN/DN + 6 số';\r\n  //       break;\r\n  //     case 'full_name':\r\n  //       if (!value.trim()) return 'Họ tên là bắt buộc';\r\n  //       if (value.length < 2) return 'Họ tên phải có ít nhất 2 ký tự';\r\n  //       break;\r\n  //     case 'phone':\r\n  //       if (!value.trim()) return 'Số điện thoại là bắt buộc';\r\n  //       if (!/^[0-9+\\-\\s()]{10,15}$/.test(value)) return 'Số điện thoại không hợp lệ';\r\n  //       break;\r\n  //     case 'email':\r\n  //       if (value && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\r\n  //         return 'Email không hợp lệ';\r\n  //       }\r\n  //       break;\r\n  //     case 'id_number':\r\n  //       if (value && !/^[0-9]{9,12}$/.test(value)) {\r\n  //         return 'CMND/CCCD phải có 9-12 số';\r\n  //       }\r\n  //       break;\r\n  //     default:\r\n  //       break;\r\n  //   }\r\n  //   return '';\r\n  // };\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <h5 className=\"mb-0\">\r\n          <i className=\"fas fa-user me-2\"></i>\r\n          Thông tin cá nhân cơ bản\r\n        </h5>\r\n      </Card.Header>\r\n      <Card.Body>\r\n        <Row>\r\n          <Col md={6}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Loại khách hàng *</Form.Label>\r\n              <Form.Select\r\n                name=\"customer_type\"\r\n                value={data.customer_type}\r\n                onChange={handleInputChange}\r\n              >\r\n                <option value=\"individual\">Cá nhân (CN)</option>\r\n                <option value=\"company\">Doanh nghiệp (DN)</option>\r\n              </Form.Select>\r\n              <Form.Text className=\"text-muted\">\r\n                Mã khách hàng sẽ bắt đầu bằng CN (Cá nhân) hoặc DN (Doanh nghiệp)\r\n              </Form.Text>\r\n            </Form.Group>\r\n          </Col>\r\n          \r\n          <Col md={6}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Mã khách hàng *</Form.Label>\r\n              <InputGroup>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"customer_code\"\r\n                  value={data.customer_code}\r\n                  onChange={handleInputChange}\r\n                  placeholder={`VD: ${data.customer_type === 'individual' ? 'CN' : 'DN'}123456`}\r\n                  isInvalid={touched.customer_code && errors.customer_code}\r\n                />\r\n                <Button \r\n                  variant=\"outline-secondary\" \r\n                  onClick={onGenerateCode}\r\n                  title=\"Tự động tạo mã\"\r\n                >\r\n                  <i className=\"fas fa-magic\"></i>\r\n                </Button>\r\n              </InputGroup>\r\n              {touched.customer_code && errors.customer_code && (\r\n                <div className=\"invalid-feedback d-block\">{errors.customer_code}</div>\r\n              )}\r\n              <Form.Text className=\"text-muted\">\r\n                Format: 2 ký tự phân loại + 6 ký tự số tự động\r\n              </Form.Text>\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col md={8}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Họ và tên đầy đủ *</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"full_name\"\r\n                value={data.full_name}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Nhập họ tên đầy đủ\"\r\n                isInvalid={touched.full_name && errors.full_name}\r\n              />\r\n              {touched.full_name && errors.full_name && (\r\n                <div className=\"invalid-feedback\">{errors.full_name}</div>\r\n              )}\r\n            </Form.Group>\r\n          </Col>\r\n          \r\n          <Col md={4}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Số điện thoại *</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"phone\"\r\n                value={data.phone}\r\n                onChange={handleInputChange}\r\n                placeholder=\"0123456789\"\r\n                isInvalid={touched.phone && errors.phone}\r\n              />\r\n              {touched.phone && errors.phone && (\r\n                <div className=\"invalid-feedback\">{errors.phone}</div>\r\n              )}\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col md={6}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={data.email}\r\n                onChange={handleInputChange}\r\n                placeholder=\"email@example.com\"\r\n                isInvalid={touched.email && errors.email}\r\n              />\r\n              {touched.email && errors.email && (\r\n                <div className=\"invalid-feedback\">{errors.email}</div>\r\n              )}\r\n            </Form.Group>\r\n          </Col>\r\n          \r\n          <Col md={6}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>CMND/CCCD</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"id_number\"\r\n                value={data.id_number}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Số CMND/CCCD\"\r\n                isInvalid={touched.id_number && errors.id_number}\r\n              />\r\n              {touched.id_number && errors.id_number && (\r\n                <div className=\"invalid-feedback\">{errors.id_number}</div>\r\n              )}\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Địa chỉ liên hệ</Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={2}\r\n            name=\"address\"\r\n            value={data.address}\r\n            onChange={handleInputChange}\r\n            placeholder=\"Địa chỉ đầy đủ (số nhà, đường, phường/xã, quận/huyện, tỉnh/thành)\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Ghi chú</Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={3}\r\n            name=\"notes\"\r\n            value={data.notes}\r\n            onChange={handleInputChange}\r\n            placeholder=\"Ghi chú thêm về khách hàng...\"\r\n          />\r\n        </Form.Group>\r\n\r\n        {data.customer_type === 'individual' && (\r\n          <Alert variant=\"info\">\r\n            <i className=\"fas fa-info-circle me-2\"></i>\r\n            <strong>Lưu ý cho khách hàng cá nhân:</strong> Một cá nhân có thể thuê kho thông qua nhiều công ty khác nhau. \r\n            Vui lòng điền thông tin công ty ở tab tiếp theo.\r\n          </Alert>\r\n        )}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default PersonalInfoTab;","/**\r\n * Company Info Tab - Thông tin công ty\r\n * Một cá nhân có thể thuê nhiều kho bằng nhiều công ty khác nhau\r\n */\r\n\r\nimport React from 'react';\r\nimport { Form, Row, Col, Card, Button, Alert, Badge } from 'react-bootstrap';\r\n\r\nfunction CompanyInfoTab({ companies, errors, touched, onCompaniesChange }) {\r\n  \r\n  const addCompany = () => {\r\n    const newCompany = {\r\n      id: null,\r\n      tax_code: '',\r\n      company_name: '',\r\n      invoice_address: '',\r\n      warehouse_purpose: '',\r\n      is_primary: companies.length === 0 // First company is primary\r\n    };\r\n    onCompaniesChange([...companies, newCompany]);\r\n  };\r\n\r\n  const removeCompany = (index) => {\r\n    if (companies.length <= 1) {\r\n      alert('Phải có ít nhất một công ty');\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm('Bạn có chắc chắn muốn xóa công ty này?')) {\r\n      const newCompanies = companies.filter((_, i) => i !== index);\r\n      // If removing primary company, make first one primary\r\n      if (companies[index].is_primary && newCompanies.length > 0) {\r\n        newCompanies[0].is_primary = true;\r\n      }\r\n      onCompaniesChange(newCompanies);\r\n    }\r\n  };\r\n\r\n  const updateCompany = (index, field, value) => {\r\n    const newCompanies = [...companies];\r\n    newCompanies[index] = {\r\n      ...newCompanies[index],\r\n      [field]: value\r\n    };\r\n    onCompaniesChange(newCompanies);\r\n  };\r\n\r\n  const setPrimaryCompany = (index) => {\r\n    const newCompanies = companies.map((company, i) => ({\r\n      ...company,\r\n      is_primary: i === index\r\n    }));\r\n    onCompaniesChange(newCompanies);\r\n  };\r\n\r\n  const validateTaxCode = (taxCode) => {\r\n    if (!taxCode.trim()) return 'Mã số thuế là bắt buộc';\r\n    if (!/^[0-9]{10}(-[0-9]{3})?$/.test(taxCode)) {\r\n      return 'Mã số thuế phải có 10 số hoặc 10 số + 3 số mã chi nhánh (VD: 0123456789 hoặc 0123456789-001)';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  const warehousePurposes = [\r\n    'Kho hàng hóa tổng hợp',\r\n    'Kho nguyên liệu sản xuất', \r\n    'Kho thành phẩm',\r\n    'Kho phụ tùng, linh kiện',\r\n    'Kho thiết bị, máy móc',\r\n    'Kho hàng điện tử',\r\n    'Kho hàng thời trang',\r\n    'Kho hàng thực phẩm',\r\n    'Kho hàng dược phẩm',\r\n    'Kho hàng hóa chất',\r\n    'Kho văn phòng phẩm',\r\n    'Kho tài liệu, hồ sơ',\r\n    'Khác'\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n        <h5 className=\"mb-0\">\r\n          <i className=\"fas fa-building me-2\"></i>\r\n          Thông tin công ty ({companies.length})\r\n        </h5>\r\n        <Button variant=\"outline-primary\" size=\"sm\" onClick={addCompany}>\r\n          <i className=\"fas fa-plus me-2\"></i>\r\n          Thêm công ty\r\n        </Button>\r\n      </div>\r\n\r\n      <Alert variant=\"info\" className=\"mb-3\">\r\n        <i className=\"fas fa-info-circle me-2\"></i>\r\n        <strong>Lưu ý:</strong> Một cá nhân có thể thuê nhiều kho bằng nhiều công ty khác nhau. \r\n        Mỗi công ty sẽ có thông tin riêng để xuất hóa đơn và ký hợp đồng.\r\n      </Alert>\r\n\r\n      {companies.map((company, index) => (\r\n        <Card key={index} className=\"mb-3\">\r\n          <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <strong>Công ty {index + 1}</strong>\r\n              {company.is_primary && (\r\n                <Badge bg=\"primary\" className=\"ms-2\">Công ty chính</Badge>\r\n              )}\r\n            </div>\r\n            <div>\r\n              {!company.is_primary && companies.length > 1 && (\r\n                <Button\r\n                  variant=\"outline-success\"\r\n                  size=\"sm\"\r\n                  className=\"me-2\"\r\n                  onClick={() => setPrimaryCompany(index)}\r\n                  title=\"Đặt làm công ty chính\"\r\n                >\r\n                  <i className=\"fas fa-star\"></i>\r\n                </Button>\r\n              )}\r\n              {companies.length > 1 && (\r\n                <Button\r\n                  variant=\"outline-danger\"\r\n                  size=\"sm\"\r\n                  onClick={() => removeCompany(index)}\r\n                  title=\"Xóa công ty\"\r\n                >\r\n                  <i className=\"fas fa-trash\"></i>\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Mã số thuế *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={company.tax_code}\r\n                    onChange={(e) => updateCompany(index, 'tax_code', e.target.value)}\r\n                    placeholder=\"0123456789 hoặc 0123456789-001\"\r\n                    isInvalid={validateTaxCode(company.tax_code)}\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    10 số cho trụ sở chính, thêm -001, -002... cho chi nhánh\r\n                  </Form.Text>\r\n                  {validateTaxCode(company.tax_code) && (\r\n                    <div className=\"invalid-feedback d-block\">\r\n                      {validateTaxCode(company.tax_code)}\r\n                    </div>\r\n                  )}\r\n                </Form.Group>\r\n              </Col>\r\n              \r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Tên công ty *</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={company.company_name}\r\n                    onChange={(e) => updateCompany(index, 'company_name', e.target.value)}\r\n                    placeholder=\"Tên công ty đầy đủ\"\r\n                    isInvalid={!company.company_name.trim()}\r\n                  />\r\n                  {!company.company_name.trim() && (\r\n                    <div className=\"invalid-feedback d-block\">\r\n                      Tên công ty là bắt buộc\r\n                    </div>\r\n                  )}\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Địa chỉ xuất hóa đơn *</Form.Label>\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                rows={2}\r\n                value={company.invoice_address}\r\n                onChange={(e) => updateCompany(index, 'invoice_address', e.target.value)}\r\n                placeholder=\"Địa chỉ đầy đủ để xuất hóa đơn VAT\"\r\n                isInvalid={!company.invoice_address.trim()}\r\n              />\r\n              {!company.invoice_address.trim() && (\r\n                <div className=\"invalid-feedback d-block\">\r\n                  Địa chỉ xuất hóa đơn là bắt buộc\r\n                </div>\r\n              )}\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Mục đích sử dụng kho *</Form.Label>\r\n              <Form.Select\r\n                value={company.warehouse_purpose}\r\n                onChange={(e) => updateCompany(index, 'warehouse_purpose', e.target.value)}\r\n                isInvalid={!company.warehouse_purpose}\r\n              >\r\n                <option value=\"\">-- Chọn mục đích sử dụng --</option>\r\n                {warehousePurposes.map(purpose => (\r\n                  <option key={purpose} value={purpose}>{purpose}</option>\r\n                ))}\r\n              </Form.Select>\r\n              {!company.warehouse_purpose && (\r\n                <div className=\"invalid-feedback d-block\">\r\n                  Vui lòng chọn mục đích sử dụng kho\r\n                </div>\r\n              )}\r\n              <Form.Text className=\"text-muted\">\r\n                Thông tin này sẽ được sử dụng trong hợp đồng thuê kho\r\n              </Form.Text>\r\n            </Form.Group>\r\n          </Card.Body>\r\n        </Card>\r\n      ))}\r\n\r\n      {companies.length === 0 && (\r\n        <Alert variant=\"warning\">\r\n          <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n          Chưa có thông tin công ty nào. Vui lòng thêm ít nhất một công ty để tiếp tục.\r\n        </Alert>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CompanyInfoTab;","/**\r\n * Contract Info Tab - Thông tin hợp đồng\r\n * Một công ty có thể thuê nhiều kho ở nhiều dự án, vị trí khác nhau\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Form, Row, Col, Card, Button, Alert, Badge, InputGroup } from 'react-bootstrap';\r\n\r\nfunction ContractInfoTab({ contracts, companies, personalInfo, errors, touched, onContractsChange }) {\r\n  const [projects] = useState([\r\n    { id: 1, name: 'Dự án Kho Bình Dương', code: 'BD001' },\r\n    { id: 2, name: 'Dự án Kho Đồng Nai', code: 'DN001' },\r\n    { id: 3, name: 'Dự án Kho Long An', code: 'LA001' },\r\n    { id: 4, name: 'Dự án Kho Tây Ninh', code: 'TN001' }\r\n  ]);\r\n\r\n  const addContract = () => {\r\n    if (companies.length === 0) {\r\n      alert('Vui lòng thêm thông tin công ty trước khi tạo hợp đồng');\r\n      return;\r\n    }\r\n\r\n    const newContract = {\r\n      id: null,\r\n      contract_number: generateContractNumber(),\r\n      project_id: '',\r\n      warehouse_location: '',\r\n      company_index: 0, // Default to first company\r\n      representative_name: personalInfo.full_name,\r\n      representative_position: 'Giám đốc',\r\n      area_sqm: 0,\r\n      rental_price: 0,\r\n      start_date: '',\r\n      end_date: '',\r\n      payment_terms: 'Thanh toán theo tháng, trước ngày 5 hàng tháng',\r\n      binding_terms: '',\r\n      is_active: true\r\n    };\r\n    onContractsChange([...contracts, newContract]);\r\n  };\r\n\r\n  const removeContract = (index) => {\r\n    if (window.confirm('Bạn có chắc chắn muốn xóa hợp đồng này?')) {\r\n      const newContracts = contracts.filter((_, i) => i !== index);\r\n      onContractsChange(newContracts);\r\n    }\r\n  };\r\n\r\n  const updateContract = (index, field, value) => {\r\n    const newContracts = [...contracts];\r\n    newContracts[index] = {\r\n      ...newContracts[index],\r\n      [field]: value\r\n    };\r\n\r\n    // Auto-calculate end date if start date and rental period change\r\n    if (field === 'start_date' && value && !newContracts[index].end_date) {\r\n      const startDate = new Date(value);\r\n      const endDate = new Date(startDate);\r\n      endDate.setFullYear(endDate.getFullYear() + 1); // Default 1 year contract\r\n      newContracts[index].end_date = endDate.toISOString().split('T')[0];\r\n    }\r\n\r\n    onContractsChange(newContracts);\r\n  };\r\n\r\n  const generateContractNumber = () => {\r\n    const year = new Date().getFullYear();\r\n    const month = (new Date().getMonth() + 1).toString().padStart(2, '0');\r\n    const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');\r\n    return `HD${year}${month}${random}`;\r\n  };\r\n\r\n  const calculateMonthlyRent = (totalRent, startDate, endDate) => {\r\n    if (!startDate || !endDate || totalRent <= 0) return 0;\r\n    \r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    const months = (end.getFullYear() - start.getFullYear()) * 12 + (end.getMonth() - start.getMonth());\r\n    \r\n    return months > 0 ? Math.round(totalRent / months) : 0;\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN').format(amount);\r\n  };\r\n\r\n  const validateContract = (contract) => {\r\n    const errors = [];\r\n    if (!contract.contract_number.trim()) errors.push('Số hợp đồng là bắt buộc');\r\n    if (!contract.project_id) errors.push('Vui lòng chọn dự án');\r\n    if (!contract.warehouse_location.trim()) errors.push('Vị trí kho là bắt buộc');\r\n    if (!contract.representative_name.trim()) errors.push('Người đại diện là bắt buộc');\r\n    if (contract.area_sqm <= 0) errors.push('Diện tích thuê phải lớn hơn 0');\r\n    if (contract.rental_price <= 0) errors.push('Giá thuê phải lớn hơn 0');\r\n    if (!contract.start_date) errors.push('Ngày bắt đầu là bắt buộc');\r\n    if (!contract.end_date) errors.push('Ngày kết thúc là bắt buộc');\r\n    if (contract.start_date && contract.end_date && new Date(contract.start_date) >= new Date(contract.end_date)) {\r\n      errors.push('Ngày kết thúc phải sau ngày bắt đầu');\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n        <h5 className=\"mb-0\">\r\n          <i className=\"fas fa-file-contract me-2\"></i>\r\n          Thông tin hợp đồng ({contracts.length})\r\n        </h5>\r\n        <Button \r\n          variant=\"outline-primary\" \r\n          size=\"sm\" \r\n          onClick={addContract}\r\n          disabled={companies.length === 0}\r\n        >\r\n          <i className=\"fas fa-plus me-2\"></i>\r\n          Thêm hợp đồng\r\n        </Button>\r\n      </div>\r\n\r\n      <Alert variant=\"info\" className=\"mb-3\">\r\n        <i className=\"fas fa-info-circle me-2\"></i>\r\n        <strong>Lưu ý:</strong> Một công ty có thể thuê nhiều kho ở nhiều dự án, vị trí khác nhau. \r\n        Thông tin này sẽ được sử dụng để tự động tạo hợp đồng thuê kho từ hệ thống.\r\n      </Alert>\r\n\r\n      {companies.length === 0 && (\r\n        <Alert variant=\"warning\">\r\n          <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n          Vui lòng điền thông tin công ty trước khi tạo hợp đồng.\r\n        </Alert>\r\n      )}\r\n\r\n      {contracts.map((contract, index) => {\r\n        const contractErrors = validateContract(contract);\r\n        const selectedCompany = companies[contract.company_index];\r\n        const monthlyRent = calculateMonthlyRent(contract.rental_price, contract.start_date, contract.end_date);\r\n\r\n        return (\r\n          <Card key={index} className=\"mb-3\">\r\n            <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n              <div>\r\n                <strong>Hợp đồng {index + 1}</strong>\r\n                {contract.contract_number && (\r\n                  <Badge bg=\"secondary\" className=\"ms-2\">{contract.contract_number}</Badge>\r\n                )}\r\n                {contract.is_active && (\r\n                  <Badge bg=\"success\" className=\"ms-2\">Đang hoạt động</Badge>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Button\r\n                  variant=\"outline-danger\"\r\n                  size=\"sm\"\r\n                  onClick={() => removeContract(index)}\r\n                  title=\"Xóa hợp đồng\"\r\n                >\r\n                  <i className=\"fas fa-trash\"></i>\r\n                </Button>\r\n              </div>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {/* Basic Contract Info */}\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Số hợp đồng *</Form.Label>\r\n                    <InputGroup>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={contract.contract_number}\r\n                        onChange={(e) => updateContract(index, 'contract_number', e.target.value)}\r\n                        placeholder=\"HD202400001\"\r\n                      />\r\n                      <Button \r\n                        variant=\"outline-secondary\" \r\n                        onClick={() => updateContract(index, 'contract_number', generateContractNumber())}\r\n                        title=\"Tạo số hợp đồng tự động\"\r\n                      >\r\n                        <i className=\"fas fa-magic\"></i>\r\n                      </Button>\r\n                    </InputGroup>\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={4}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Dự án *</Form.Label>\r\n                    <Form.Select\r\n                      value={contract.project_id}\r\n                      onChange={(e) => updateContract(index, 'project_id', e.target.value)}\r\n                    >\r\n                      <option value=\"\">-- Chọn dự án --</option>\r\n                      {projects.map(project => (\r\n                        <option key={project.id} value={project.id}>\r\n                          {project.name} ({project.code})\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={4}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Vị trí kho *</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      value={contract.warehouse_location}\r\n                      onChange={(e) => updateContract(index, 'warehouse_location', e.target.value)}\r\n                      placeholder=\"VD: Khu A, Lô 01, Tầng 1\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Company and Representative */}\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Công ty thuê *</Form.Label>\r\n                    <Form.Select\r\n                      value={contract.company_index}\r\n                      onChange={(e) => updateContract(index, 'company_index', parseInt(e.target.value))}\r\n                    >\r\n                      {companies.map((company, companyIndex) => (\r\n                        <option key={companyIndex} value={companyIndex}>\r\n                          {company.company_name} ({company.tax_code})\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                    {selectedCompany && (\r\n                      <Form.Text className=\"text-muted\">\r\n                        Mục đích: {selectedCompany.warehouse_purpose}\r\n                      </Form.Text>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={4}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Người đại diện công ty *</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      value={contract.representative_name}\r\n                      onChange={(e) => updateContract(index, 'representative_name', e.target.value)}\r\n                      placeholder=\"Tên người đại diện\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={4}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Chức vụ</Form.Label>\r\n                    <Form.Select\r\n                      value={contract.representative_position}\r\n                      onChange={(e) => updateContract(index, 'representative_position', e.target.value)}\r\n                    >\r\n                      <option value=\"Giám đốc\">Giám đốc</option>\r\n                      <option value=\"Phó Giám đốc\">Phó Giám đốc</option>\r\n                      <option value=\"Trưởng phòng\">Trưởng phòng</option>\r\n                      <option value=\"Quản lý\">Quản lý</option>\r\n                      <option value=\"Đại diện\">Đại diện</option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Area and Pricing */}\r\n              <Row>\r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Diện tích thuê (m²) *</Form.Label>\r\n                    <Form.Control\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      step=\"0.1\"\r\n                      value={contract.area_sqm}\r\n                      onChange={(e) => updateContract(index, 'area_sqm', parseFloat(e.target.value) || 0)}\r\n                      placeholder=\"0\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Giá thuê/tháng (VNĐ) *</Form.Label>\r\n                    <Form.Control\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={contract.rental_price}\r\n                      onChange={(e) => updateContract(index, 'rental_price', parseInt(e.target.value) || 0)}\r\n                      placeholder=\"0\"\r\n                    />\r\n                    {contract.rental_price > 0 && (\r\n                      <Form.Text className=\"text-success\">\r\n                        {formatCurrency(contract.rental_price)} VNĐ/tháng\r\n                      </Form.Text>\r\n                    )}\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Ngày bắt đầu *</Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      value={contract.start_date}\r\n                      onChange={(e) => updateContract(index, 'start_date', e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Ngày kết thúc *</Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      value={contract.end_date}\r\n                      onChange={(e) => updateContract(index, 'end_date', e.target.value)}\r\n                      min={contract.start_date}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Contract Terms */}\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Thông tin thanh toán</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      rows={3}\r\n                      value={contract.payment_terms}\r\n                      onChange={(e) => updateContract(index, 'payment_terms', e.target.value)}\r\n                      placeholder=\"Điều kiện thanh toán, chu kỳ thanh toán...\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Điều khoản ràng buộc</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      rows={3}\r\n                      value={contract.binding_terms}\r\n                      onChange={(e) => updateContract(index, 'binding_terms', e.target.value)}\r\n                      placeholder=\"Các điều khoản đặc biệt, ràng buộc...\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Contract Summary */}\r\n              {contract.start_date && contract.end_date && contract.rental_price > 0 && (\r\n                <Alert variant=\"light\" className=\"mb-0\">\r\n                  <Row>\r\n                    <Col md={3}>\r\n                      <strong>Tổng thời hạn:</strong><br/>\r\n                      {Math.ceil((new Date(contract.end_date) - new Date(contract.start_date)) / (1000 * 60 * 60 * 24))} ngày\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      <strong>Giá thuê/m²/tháng:</strong><br/>\r\n                      {contract.area_sqm > 0 ? formatCurrency(Math.round(contract.rental_price / contract.area_sqm)) : 0} VNĐ\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      <strong>Tổng giá trị hợp đồng:</strong><br/>\r\n                      <span className=\"text-success\">\r\n                        {formatCurrency(monthlyRent * Math.ceil((new Date(contract.end_date) - new Date(contract.start_date)) / (1000 * 60 * 60 * 24 * 30)))} VNĐ\r\n                      </span>\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      <strong>Trạng thái:</strong><br/>\r\n                      <Badge bg={contract.is_active ? \"success\" : \"secondary\"}>\r\n                        {contract.is_active ? \"Đang hoạt động\" : \"Không hoạt động\"}\r\n                      </Badge>\r\n                    </Col>\r\n                  </Row>\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Validation Errors */}\r\n              {contractErrors.length > 0 && (\r\n                <Alert variant=\"danger\" className=\"mt-3\">\r\n                  <strong>Vui lòng kiểm tra:</strong>\r\n                  <ul className=\"mb-0 mt-2\">\r\n                    {contractErrors.map((error, errorIndex) => (\r\n                      <li key={errorIndex}>{error}</li>\r\n                    ))}\r\n                  </ul>\r\n                </Alert>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        );\r\n      })}\r\n\r\n      {contracts.length === 0 && companies.length > 0 && (\r\n        <Alert variant=\"warning\">\r\n          <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n          Chưa có hợp đồng nào. Vui lòng thêm ít nhất một hợp đồng để hoàn tất thông tin khách hàng.\r\n        </Alert>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContractInfoTab;","/**\r\n * Customer Form with Tabs - KHO MVG\r\n * Tab 1: Thông tin cá nhân cơ bản\r\n * Tab 2: Thông tin công ty \r\n * Tab 3: Thông tin hợp đồng\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Button, Nav, Tab } from 'react-bootstrap';\r\n// import { useAuth } from '../../contexts/AuthContext';\r\nimport PersonalInfoTab from './PersonalInfoTab';\r\nimport CompanyInfoTab from './CompanyInfoTab';\r\nimport ContractInfoTab from './ContractInfoTab';\r\n\r\nfunction CustomerFormTabs({ customer = null, onSave, onCancel, isLoading = false }) {\r\n  // const { hasPermission } = useAuth();\r\n  \r\n  const [activeTab, setActiveTab] = useState('personal');\r\n  const [formData, setFormData] = useState({\r\n    // Tab 1: Thông tin cá nhân cơ bản\r\n    personal: {\r\n      customer_code: '',\r\n      customer_type: 'individual', // 'individual' hoặc 'company'\r\n      full_name: '', // Họ tên đầy đủ\r\n      phone: '',\r\n      email: '',\r\n      address: '',\r\n      id_number: '', // CMND/CCCD\r\n      notes: ''\r\n    },\r\n    // Tab 2: Thông tin công ty (một cá nhân có thể có nhiều công ty)\r\n    companies: [\r\n      {\r\n        id: null,\r\n        tax_code: '',\r\n        company_name: '',\r\n        invoice_address: '',\r\n        warehouse_purpose: '', // Mục đích sử dụng kho\r\n        is_primary: true // Công ty chính\r\n      }\r\n    ],\r\n    // Tab 3: Thông tin hợp đồng (một công ty có thể có nhiều hợp đồng)\r\n    contracts: [\r\n      {\r\n        id: null,\r\n        contract_number: '',\r\n        project_id: '',\r\n        warehouse_location: '',\r\n        company_index: 0, // Index trong mảng companies\r\n        representative_name: '', // Người đại diện công ty\r\n        representative_position: '', // Chức vụ\r\n        area_sqm: 0, // Diện tích thuê (m²)\r\n        rental_price: 0, // Giá thuê\r\n        start_date: '',\r\n        end_date: '',\r\n        payment_terms: '', // Thông tin thanh toán\r\n        binding_terms: '', // Điều khoản ràng buộc\r\n        is_active: true\r\n      }\r\n    ]\r\n  });\r\n  \r\n  const [errors] = useState({});\r\n  const [touched] = useState({});\r\n\r\n  // Generate customer code based on type\r\n  const generateCustomerCode = () => {\r\n    const prefix = formData.personal.customer_type === 'individual' ? 'CN' : 'DN';\r\n    const timestamp = Date.now().toString();\r\n    const randomNum = Math.floor(Math.random() * 10000).toString().padStart(4, '0');\r\n    const sequence = (timestamp.slice(-2) + randomNum).slice(0, 6);\r\n    const newCode = `${prefix}${sequence}`;\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      personal: {\r\n        ...prev.personal,\r\n        customer_code: newCode\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Helper function to safely format dates\r\n  const formatDateForInput = (dateString) => {\r\n    if (!dateString) return '';\r\n    try {\r\n      // Handle both ISO format and already formatted dates\r\n      if (dateString.includes('T')) {\r\n        return dateString.split('T')[0];\r\n      }\r\n      if (dateString.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\r\n        return dateString; // Already in correct format\r\n      }\r\n      // Try to parse and format\r\n      const date = new Date(dateString);\r\n      if (!isNaN(date.getTime())) {\r\n        return date.toISOString().split('T')[0];\r\n      }\r\n      return '';\r\n    } catch (error) {\r\n      console.warn('Date formatting error:', error, 'for date:', dateString);\r\n      return '';\r\n    }\r\n  };\r\n\r\n  // Load customer data nếu đang edit\r\n  useEffect(() => {\r\n    if (customer) {\r\n      console.log('🔍 Loading customer data for edit:', customer);\r\n      \r\n      // Map database customer object to form tabs structure\r\n      setFormData({\r\n        personal: {\r\n          customer_code: customer.customer_code || '',\r\n          customer_type: customer.customer_type || 'individual',\r\n          // Map from database fields - ensure correct mapping\r\n          full_name: customer.representative_name || customer.name || '',\r\n          phone: customer.phone || '',\r\n          email: customer.email || '',\r\n          address: customer.address || '',\r\n          id_number: customer.id_number || '',\r\n          notes: customer.notes || ''\r\n        },\r\n        companies: [\r\n          {\r\n            id: null,\r\n            // Map from database fields - prioritize name for company\r\n            tax_code: customer.tax_code || '',\r\n            company_name: customer.name || '',  // Always use customer.name as company name\r\n            invoice_address: customer.address || '',\r\n            warehouse_purpose: '',\r\n            is_primary: true\r\n          }\r\n        ],\r\n        contracts: Array.isArray(customer.contracts) ? customer.contracts.map(contract => ({\r\n          id: contract.id || null,\r\n          contract_number: contract.contract_number || '',\r\n          project_id: contract.project_id || '',\r\n          warehouse_location: `${contract.project_name || ''} - ${contract.zone_code || ''}`.trim(),\r\n          company_index: 0,\r\n          representative_name: customer.representative_name || customer.name || '',\r\n          representative_position: '',\r\n          area_sqm: contract.zone_area || 0,\r\n          rental_price: contract.rental_price || contract.total_value || 0,\r\n          start_date: formatDateForInput(contract.start_date),\r\n          end_date: formatDateForInput(contract.end_date),\r\n          payment_terms: contract.payment_cycle || '',\r\n          binding_terms: contract.contract_terms || '',\r\n          is_active: contract.status === 'active',\r\n          status: contract.status || 'draft',\r\n          project_name: contract.project_name || '',\r\n          zone_code: contract.zone_code || '',\r\n          zone_name: contract.zone_name || '',\r\n          days_until_expiry: contract.days_until_expiry || null\r\n        })) : [\r\n          {\r\n            id: null,\r\n            contract_number: '',\r\n            project_id: '',\r\n            warehouse_location: '',\r\n            company_index: 0,\r\n            representative_name: customer.representative_name || customer.name || '',\r\n            representative_position: '',\r\n            area_sqm: 0,\r\n            rental_price: 0,\r\n            start_date: '',\r\n            end_date: '',\r\n            payment_terms: '',\r\n            binding_terms: '',\r\n            is_active: true\r\n          }\r\n        ]\r\n      });\r\n      \r\n      console.log('✅ Form data populated for customer:', customer.customer_code);\r\n    } else {\r\n      console.log('🆕 Creating new customer - using default form structure');\r\n    }\r\n  }, [customer]);\r\n\r\n  return (\r\n    <div>\r\n      <Tab.Container activeKey={activeTab} onSelect={(k) => setActiveTab(k)}>\r\n        {/* Tab Navigation */}\r\n        <Nav variant=\"tabs\" className=\"mb-3\">\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"personal\">\r\n              <i className=\"fas fa-user me-2\"></i>\r\n              Thông tin cơ bản\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"company\">\r\n              <i className=\"fas fa-building me-2\"></i>\r\n              Thông tin công ty\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"contracts\">\r\n              <i className=\"fas fa-file-contract me-2\"></i>\r\n              Thông tin hợp đồng\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n\r\n        {/* Tab Content */}\r\n        <Tab.Content>\r\n          {/* Tab 1: Thông tin cá nhân cơ bản */}\r\n          <Tab.Pane eventKey=\"personal\">\r\n            <PersonalInfoTab \r\n              data={formData.personal}\r\n              errors={errors}\r\n              touched={touched}\r\n              onDataChange={(newData) => setFormData(prev => ({ ...prev, personal: newData }))}\r\n              onGenerateCode={generateCustomerCode}\r\n            />\r\n          </Tab.Pane>\r\n\r\n          {/* Tab 2: Thông tin công ty */}\r\n          <Tab.Pane eventKey=\"company\">\r\n            <CompanyInfoTab \r\n              companies={formData.companies}\r\n              errors={errors}\r\n              touched={touched}\r\n              onCompaniesChange={(companies) => setFormData(prev => ({ ...prev, companies }))}\r\n            />\r\n          </Tab.Pane>\r\n\r\n          {/* Tab 3: Thông tin hợp đồng */}\r\n          <Tab.Pane eventKey=\"contracts\">\r\n            <ContractInfoTab \r\n              contracts={formData.contracts}\r\n              companies={formData.companies}\r\n              personalInfo={formData.personal}\r\n              errors={errors}\r\n              touched={touched}\r\n              onContractsChange={(contracts) => setFormData(prev => ({ ...prev, contracts }))}\r\n            />\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      </Tab.Container>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"d-flex justify-content-between mt-4\">\r\n        <Button \r\n          variant=\"outline-secondary\"\r\n          onClick={onCancel}\r\n          disabled={isLoading}\r\n        >\r\n          <i className=\"fas fa-times me-2\"></i>\r\n          Hủy bỏ\r\n        </Button>\r\n        \r\n        <div>\r\n          {activeTab !== 'personal' && (\r\n            <Button \r\n              variant=\"outline-primary\"\r\n              className=\"me-2\"\r\n              onClick={() => {\r\n                const tabs = ['personal', 'company', 'contracts'];\r\n                const currentIndex = tabs.indexOf(activeTab);\r\n                if (currentIndex > 0) setActiveTab(tabs[currentIndex - 1]);\r\n              }}\r\n            >\r\n              <i className=\"fas fa-arrow-left me-2\"></i>\r\n              Quay lại\r\n            </Button>\r\n          )}\r\n          \r\n          {activeTab !== 'contracts' ? (\r\n            <Button \r\n              variant=\"primary\"\r\n              onClick={() => {\r\n                const tabs = ['personal', 'company', 'contracts'];\r\n                const currentIndex = tabs.indexOf(activeTab);\r\n                if (currentIndex < tabs.length - 1) setActiveTab(tabs[currentIndex + 1]);\r\n              }}\r\n            >\r\n              Tiếp theo\r\n              <i className=\"fas fa-arrow-right ms-2\"></i>\r\n            </Button>\r\n          ) : (\r\n            <Button \r\n              variant=\"success\"\r\n              onClick={() => {\r\n                try {\r\n                  console.log('🔍 CustomerFormTabs onClick triggered');\r\n                  console.log('📊 Current formData:', formData);\r\n                  console.log('🎯 onSave function exists:', typeof onSave);\r\n                  \r\n                  if (typeof onSave !== 'function') {\r\n                    throw new Error('onSave is not a function');\r\n                  }\r\n                  \r\n                  onSave(formData);\r\n                } catch (error) {\r\n                  console.error('❌ CustomerFormTabs onClick error:', error);\r\n                  alert('Error: ' + error.message);\r\n                }\r\n              }}\r\n              disabled={isLoading}\r\n              size=\"lg\"\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                  Đang lưu...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <i className=\"fas fa-save me-2\"></i>\r\n                  {customer ? 'Cập nhật' : 'Lưu thông tin'}\r\n                </>\r\n              )}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CustomerFormTabs;"],"names":["_ref","data","errors","touched","onDataChange","onGenerateCode","handleInputChange","e","name","value","target","newData","_objectSpread","_jsxs","Card","children","_jsx","Header","className","Body","Row","Col","md","Form","Group","Label","Select","customer_type","onChange","Text","InputGroup","Control","type","customer_code","placeholder","concat","isInvalid","Button","variant","onClick","title","full_name","phone","email","id_number","as","rows","address","notes","Alert","companies","onCompaniesChange","updateCompany","index","field","newCompanies","validateTaxCode","taxCode","trim","test","warehousePurposes","length","size","addCompany","newCompany","id","tax_code","company_name","invoice_address","warehouse_purpose","is_primary","map","company","Badge","bg","i","setPrimaryCompany","alert","window","confirm","filter","_","removeCompany","purpose","contracts","personalInfo","onContractsChange","projects","useState","code","updateContract","newContracts","end_date","startDate","Date","endDate","setFullYear","getFullYear","toISOString","split","generateContractNumber","year","month","getMonth","toString","padStart","random","Math","floor","formatCurrency","amount","Intl","NumberFormat","format","addContract","newContract","contract_number","project_id","warehouse_location","company_index","representative_name","representative_position","area_sqm","rental_price","start_date","payment_terms","binding_terms","is_active","disabled","contract","contractErrors","push","validateContract","selectedCompany","monthlyRent","calculateMonthlyRent","totalRent","start","end","months","round","removeContract","project","parseInt","companyIndex","min","step","parseFloat","ceil","error","errorIndex","customer","onSave","onCancel","isLoading","activeTab","setActiveTab","formData","setFormData","personal","formatDateForInput","dateString","includes","match","date","isNaN","getTime","console","warn","useEffect","log","Array","isArray","project_name","zone_code","zone_area","total_value","payment_cycle","contract_terms","status","zone_name","days_until_expiry","Tab","Container","activeKey","onSelect","k","Nav","Item","Link","eventKey","Content","Pane","PersonalInfoTab","prev","generateCustomerCode","prefix","timestamp","now","randomNum","sequence","slice","newCode","CompanyInfoTab","ContractInfoTab","tabs","currentIndex","indexOf","Error","message","_Fragment"],"ignoreList":[],"sourceRoot":""}