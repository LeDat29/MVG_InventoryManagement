"use strict";(self.webpackChunkkho_mvg_client=self.webpackChunkkho_mvg_client||[]).push([[531],{730:(e,t,a)=>{a.d(t,{A:()=>s});const n="http://localhost:5001/api";const s=new class{async getAuthHeaders(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=localStorage.getItem("token");t?console.log("\u2705 Token found, length:",t.length):console.warn("\u26a0\ufe0f No token found in localStorage");const a={"Content-Type":"application/json",Authorization:"Bearer ".concat(t)};return e&&(a["Cache-Control"]="no-cache",a.Pragma="no-cache"),a}async handleResponse(e){const t=await e.json();if(!e.ok)throw console.error("\u274c CustomerService API Error:"),console.error("  Status:",e.status),console.error("  Status Text:",e.statusText),console.error("  Response Data:",t),400===e.status&&t.errors&&(console.error("  Validation Errors:"),t.errors.forEach(e=>{console.error("    - ".concat(e.path||e.param,": ").concat(e.msg))})),new Error(t.message||"HTTP error! status: ".concat(e.status));return t}async getCustomers(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString(),t="".concat(n,"/customers").concat(e?"?".concat(e):""),a=await fetch(t,{method:"GET",headers:await this.getAuthHeaders(!0)});return this.handleResponse(a)}async getCustomer(e){const t=await fetch("".concat(n,"/customers/").concat(e),{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(t)}async createCustomer(e){const t=await fetch("".concat(n,"/customers"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(e)});return this.handleResponse(t)}async updateCustomer(e,t){const a=await fetch("".concat(n,"/customers/").concat(e),{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async deleteCustomer(e){const t=await fetch("".concat(n,"/customers/").concat(e),{method:"DELETE",headers:await this.getAuthHeaders()});return this.handleResponse(t)}async getCustomerContracts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a=new URLSearchParams(t?{status:t}:{}).toString(),s="".concat(n,"/customers/").concat(e,"/contracts").concat(a?"?".concat(a):""),r=await fetch(s,{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(r)}async createContract(e){const t=await fetch("".concat(n,"/customers/contracts"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(e)});return this.handleResponse(t)}async getExpiringContracts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const t=await fetch("".concat(n,"/customers/contracts/expiring?days=").concat(e),{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(t)}async getCustomerStats(){const e=await fetch("".concat(n,"/customers/stats"),{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(e)}}},5531:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(9379),s=a(5043),r=a(1719),c=a(4282),o=a(8628),i=a(8602),l=a(3722),h=a(2557),d=a(1072),u=a(5328),m=a(9422),p=a(5016),g=a(6471),A=a(7848),_=a(730),v=a(579);const y=e=>{let{show:t,onHide:a,onSuccess:y}=e;const{user:x}=(0,p.As)(),{showSuccess:b,showError:j}=(0,g.hN)(),[w,f]=(0,s.useState)(!1),[C,S]=(0,s.useState)("basic"),[N,T]=(0,s.useState)([]),[H,k]=(0,s.useState)([]),[G,R]=(0,s.useState)(null),[L,P]=(0,s.useState)(null),[E,O]=(0,s.useState)({contract_title:"",customer_id:"",customer_company_id:"",template_id:"",party_a_name:"C\xd4NG TY KHO MVG",party_a_address:"Khu c\xf4ng nghi\u1ec7p ABC, B\xecnh D\u01b0\u01a1ng",party_a_representative:"Nguy\u1ec5n V\u0103n A",party_a_position:"Gi\xe1m \u0111\u1ed1c",party_a_id_number:"123456789",warehouse_location:"",warehouse_area:0,rental_price:0,deposit_amount:0,service_fee:0,start_date:"",end_date:"",auto_renewal:!1,renewal_period:12,payment_cycle:"monthly",payment_due_date:5,payment_method:"Chuy\u1ec3n kho\u1ea3n",late_fee_percentage:2,special_terms:"",notes:"",assigned_to:(null===x||void 0===x?void 0:x.id)||"",variables:{}}),D=(0,s.useCallback)(async()=>{try{f(!0);const[e,t]=await Promise.all([_.A.getCustomers({limit:100}),A.A.getContractTemplates({is_active:!0})]);T(e.data.customers||[]),k(t.data||[])}catch(e){j("Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u: "+e.message)}finally{f(!1)}},[j]);(0,s.useEffect)(()=>{t&&D()},[t,D]);const V=async e=>{e.preventDefault();try{f(!0),E.variables.contract_number||(E.variables.contract_number=(()=>{const e=new Date,t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),n=Math.floor(1e4*Math.random()).toString().padStart(4,"0");return"HD".concat(t).concat(a).concat(n)})());const e=await A.A.createContract(E);b("T\u1ea1o h\u1ee3p \u0111\u1ed3ng th\xe0nh c\xf4ng"),null===y||void 0===y||y(e.data),a(),q()}catch(t){j("L\u1ed7i t\u1ea1o h\u1ee3p \u0111\u1ed3ng: "+t.message)}finally{f(!1)}},q=()=>{O({contract_title:"",customer_id:"",customer_company_id:"",template_id:"",party_a_name:"C\xd4NG TY KHO MVG",party_a_address:"Khu c\xf4ng nghi\u1ec7p ABC, B\xecnh D\u01b0\u01a1ng",party_a_representative:"Nguy\u1ec5n V\u0103n A",party_a_position:"Gi\xe1m \u0111\u1ed1c",party_a_id_number:"123456789",warehouse_location:"",warehouse_area:0,rental_price:0,deposit_amount:0,service_fee:0,start_date:"",end_date:"",auto_renewal:!1,renewal_period:12,payment_cycle:"monthly",payment_due_date:5,payment_method:"Chuy\u1ec3n kho\u1ea3n",late_fee_percentage:2,special_terms:"",notes:"",assigned_to:(null===x||void 0===x?void 0:x.id)||"",variables:{}}),R(null),P(null),S("basic")},J=e=>new Intl.NumberFormat("vi-VN").format(e);return(0,v.jsxs)(h.A,{show:t,onHide:a,size:"xl",scrollable:!0,children:[(0,v.jsx)(h.A.Header,{closeButton:!0,children:(0,v.jsxs)(h.A.Title,{children:[(0,v.jsx)("i",{className:"fas fa-plus-circle me-2"}),"T\u1ea1o h\u1ee3p \u0111\u1ed3ng m\u1edbi"]})}),(0,v.jsx)(h.A.Body,{children:(0,v.jsxs)(l.A,{onSubmit:V,children:[(0,v.jsxs)(m.A,{activeKey:C,onSelect:S,className:"mb-3",children:[(0,v.jsxs)(u.A,{eventKey:"basic",title:"Th\xf4ng tin c\u01a1 b\u1ea3n",children:[(0,v.jsxs)(d.A,{children:[(0,v.jsxs)(i.A,{md:6,children:[(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ch\u1ecdn kh\xe1ch h\xe0ng *"}),(0,v.jsxs)(l.A.Select,{value:E.customer_id,onChange:e=>(async e=>{try{const t=N.find(t=>t.id===parseInt(e));if(!t)return;R(t);const a=(await _.A.getCustomer(e)).data;O(t=>{var s,r,c,o,i,l,h,d,u,m;return(0,n.A)((0,n.A)({},t),{},{customer_id:e,customer_company_id:(null===(s=a.companies)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.id)||"",contract_title:"H\u1ee3p \u0111\u1ed3ng thu\xea kho - ".concat(a.company_name||a.full_name),variables:(0,n.A)((0,n.A)({},t.variables),{},{party_b_name:(null===(c=a.companies)||void 0===c||null===(o=c[0])||void 0===o?void 0:o.company_name)||a.full_name,party_b_address:(null===(i=a.companies)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.invoice_address)||a.address,party_b_representative:a.full_name||a.contact_person,party_b_position:"Gi\xe1m \u0111\u1ed1c",party_b_tax_code:(null===(h=a.companies)||void 0===h||null===(d=h[0])||void 0===d?void 0:d.tax_code)||"",warehouse_purpose:(null===(u=a.companies)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.warehouse_purpose)||""})})})}catch(t){j("Kh\xf4ng th\u1ec3 t\u1ea3i th\xf4ng tin kh\xe1ch h\xe0ng: "+t.message)}})(e.target.value),required:!0,children:[(0,v.jsx)("option",{value:"",children:"-- Ch\u1ecdn kh\xe1ch h\xe0ng --"}),N.map(e=>(0,v.jsxs)("option",{value:e.id,children:[e.company_name||e.full_name,"(",e.customer_code,")"]},e.id))]})]}),G&&(0,v.jsxs)(r.A,{variant:"info",children:[(0,v.jsx)("strong",{children:"Th\xf4ng tin kh\xe1ch h\xe0ng:"}),(0,v.jsx)("br",{}),(0,v.jsxs)("small",{children:["S\u0110T: ",G.phone,(0,v.jsx)("br",{}),"Email: ",G.email,(0,v.jsx)("br",{}),"\u0110\u1ecba ch\u1ec9: ",G.address]})]})]}),(0,v.jsxs)(i.A,{md:6,children:[(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ch\u1ecdn m\u1eabu h\u1ee3p \u0111\u1ed3ng *"}),(0,v.jsxs)(l.A.Select,{value:E.template_id,onChange:e=>(e=>{const t=H.find(t=>t.id===parseInt(e));if(t&&(P(t),O(t=>(0,n.A)((0,n.A)({},t),{},{template_id:e})),t.variables)){const e="string"===typeof t.variables?JSON.parse(t.variables):t.variables,a=(0,n.A)({},E.variables);e.forEach(e=>{if(!a[e.name])switch(e.name){case"party_a_name":a[e.name]=E.party_a_name;break;case"party_a_representative":a[e.name]=E.party_a_representative;break;case"start_date":a[e.name]=E.start_date;break;case"end_date":a[e.name]=E.end_date;break;case"warehouse_location":a[e.name]=E.warehouse_location;break;case"rental_price":a[e.name]=E.rental_price.toLocaleString("vi-VN")+" VN\u0110";break;default:a[e.name]=""}}),O(e=>(0,n.A)((0,n.A)({},e),{},{variables:a}))}})(e.target.value),required:!0,children:[(0,v.jsx)("option",{value:"",children:"-- Ch\u1ecdn m\u1eabu h\u1ee3p \u0111\u1ed3ng --"}),H.map(e=>(0,v.jsxs)("option",{value:e.id,children:[e.template_name,e.is_default&&" (M\u1eb7c \u0111\u1ecbnh)"]},e.id))]})]}),L&&(0,v.jsxs)(r.A,{variant:"success",children:[(0,v.jsx)("strong",{children:"M\u1eabu \u0111\xe3 ch\u1ecdn:"}),(0,v.jsx)("br",{}),(0,v.jsxs)("small",{children:["M\xe3: ",L.template_code,(0,v.jsx)("br",{}),"Phi\xean b\u1ea3n: ",L.version,(0,v.jsx)("br",{}),"Lo\u1ea1i: ",L.template_type]})]})]})]}),(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ti\xeau \u0111\u1ec1 h\u1ee3p \u0111\u1ed3ng *"}),(0,v.jsx)(l.A.Control,{type:"text",value:E.contract_title,onChange:e=>O(t=>(0,n.A)((0,n.A)({},t),{},{contract_title:e.target.value})),placeholder:"VD: H\u1ee3p \u0111\u1ed3ng thu\xea kho - C\xf4ng ty ABC",required:!0})]})]}),(0,v.jsxs)(u.A,{eventKey:"terms",title:"\u0110i\u1ec1u kho\u1ea3n h\u1ee3p \u0111\u1ed3ng",children:[(0,v.jsxs)(d.A,{children:[(0,v.jsxs)(i.A,{md:6,children:[(0,v.jsx)("h5",{children:"Th\xf4ng tin kho"}),(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"V\u1ecb tr\xed kho *"}),(0,v.jsx)(l.A.Control,{type:"text",value:E.warehouse_location,onChange:e=>{const t=e.target.value;O(e=>(0,n.A)((0,n.A)({},e),{},{warehouse_location:t,variables:(0,n.A)((0,n.A)({},e.variables),{},{warehouse_location:t})}))},placeholder:"VD: Khu A, L\xf4 01, T\u1ea7ng 1",required:!0})]}),(0,v.jsxs)(d.A,{children:[(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Di\u1ec7n t\xedch (m\xb2) *"}),(0,v.jsx)(l.A.Control,{type:"number",step:"0.1",min:"0",value:E.warehouse_area,onChange:e=>{const t=parseFloat(e.target.value)||0;O(e=>(0,n.A)((0,n.A)({},e),{},{warehouse_area:t,variables:(0,n.A)((0,n.A)({},e.variables),{},{warehouse_area:t})}))},required:!0})]})}),(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Gi\xe1 thu\xea/th\xe1ng (VN\u0110) *"}),(0,v.jsx)(l.A.Control,{type:"number",min:"0",value:E.rental_price,onChange:e=>{const t=parseInt(e.target.value)||0;O(e=>(0,n.A)((0,n.A)({},e),{},{rental_price:t,variables:(0,n.A)((0,n.A)({},e.variables),{},{rental_price:J(t)+" VN\u0110"})}))},required:!0}),E.rental_price>0&&E.warehouse_area>0&&(0,v.jsxs)(l.A.Text,{className:"text-muted",children:["Gi\xe1/m\xb2: ",J(Math.round(E.rental_price/E.warehouse_area))," VN\u0110/m\xb2"]})]})})]}),(0,v.jsxs)(d.A,{children:[(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ti\u1ec1n c\u1ecdc (VN\u0110)"}),(0,v.jsx)(l.A.Control,{type:"number",min:"0",value:E.deposit_amount,onChange:e=>{const t=parseInt(e.target.value)||0;O(e=>(0,n.A)((0,n.A)({},e),{},{deposit_amount:t,variables:(0,n.A)((0,n.A)({},e.variables),{},{deposit_amount:J(t)+" VN\u0110"})}))}})]})}),(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ph\xed d\u1ecbch v\u1ee5 (VN\u0110)"}),(0,v.jsx)(l.A.Control,{type:"number",min:"0",value:E.service_fee,onChange:e=>O(t=>(0,n.A)((0,n.A)({},t),{},{service_fee:parseInt(e.target.value)||0}))})]})})]})]}),(0,v.jsxs)(i.A,{md:6,children:[(0,v.jsx)("h5",{children:"Th\u1eddi h\u1ea1n & Thanh to\xe1n"}),(0,v.jsxs)(d.A,{children:[(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ng\xe0y b\u1eaft \u0111\u1ea7u *"}),(0,v.jsx)(l.A.Control,{type:"date",value:E.start_date,onChange:e=>{const t=e.target.value,a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;const a=new Date(e),n=new Date(a);return n.setMonth(n.getMonth()+t),n.toISOString().split("T")[0]}(t,E.renewal_period);O(e=>(0,n.A)((0,n.A)({},e),{},{start_date:t,end_date:a,variables:(0,n.A)((0,n.A)({},e.variables),{},{start_date:new Date(t).toLocaleDateString("vi-VN"),end_date:new Date(a).toLocaleDateString("vi-VN")})}))},required:!0})]})}),(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ng\xe0y k\u1ebft th\xfac *"}),(0,v.jsx)(l.A.Control,{type:"date",value:E.end_date,onChange:e=>{const t=e.target.value;O(e=>(0,n.A)((0,n.A)({},e),{},{end_date:t,variables:(0,n.A)((0,n.A)({},e.variables),{},{end_date:new Date(t).toLocaleDateString("vi-VN")})}))},min:E.start_date,required:!0})]})})]}),(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Chu k\u1ef3 thanh to\xe1n"}),(0,v.jsxs)(l.A.Select,{value:E.payment_cycle,onChange:e=>O(t=>(0,n.A)((0,n.A)({},t),{},{payment_cycle:e.target.value,variables:(0,n.A)((0,n.A)({},t.variables),{},{payment_cycle:"monthly"===e.target.value?"H\xe0ng th\xe1ng":"quarterly"===e.target.value?"H\xe0ng qu\xfd":"H\xe0ng n\u0103m"})})),children:[(0,v.jsx)("option",{value:"monthly",children:"H\xe0ng th\xe1ng"}),(0,v.jsx)("option",{value:"quarterly",children:"H\xe0ng qu\xfd"}),(0,v.jsx)("option",{value:"yearly",children:"H\xe0ng n\u0103m"})]})]}),(0,v.jsxs)(d.A,{children:[(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"H\u1ea1n thanh to\xe1n (ng\xe0y)"}),(0,v.jsx)(l.A.Control,{type:"number",min:"1",max:"31",value:E.payment_due_date,onChange:e=>{const t=parseInt(e.target.value)||5;O(e=>(0,n.A)((0,n.A)({},e),{},{payment_due_date:t,variables:(0,n.A)((0,n.A)({},e.variables),{},{payment_due_date:t})}))}})]})}),(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"Ph\xed tr\u1ec5 h\u1ea1n (%)"}),(0,v.jsx)(l.A.Control,{type:"number",step:"0.1",min:"0",max:"10",value:E.late_fee_percentage,onChange:e=>O(t=>(0,n.A)((0,n.A)({},t),{},{late_fee_percentage:parseFloat(e.target.value)||2}))})]})})]}),(0,v.jsx)(l.A.Group,{className:"mb-3",children:(0,v.jsx)(l.A.Check,{type:"checkbox",id:"auto_renewal",label:"T\u1ef1 \u0111\u1ed9ng gia h\u1ea1n",checked:E.auto_renewal,onChange:e=>O(t=>(0,n.A)((0,n.A)({},t),{},{auto_renewal:e.target.checked}))})})]})]}),(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsx)(l.A.Label,{children:"\u0110i\u1ec1u kho\u1ea3n \u0111\u1eb7c bi\u1ec7t"}),(0,v.jsx)(l.A.Control,{as:"textarea",rows:3,value:E.special_terms,onChange:e=>{const t=e.target.value;O(e=>(0,n.A)((0,n.A)({},e),{},{special_terms:t,variables:(0,n.A)((0,n.A)({},e.variables),{},{special_terms:t})}))},placeholder:"C\xe1c \u0111i\u1ec1u kho\u1ea3n \u0111\u1eb7c bi\u1ec7t kh\xe1c..."})]})]}),(0,v.jsx)(u.A,{eventKey:"variables",title:"Bi\u1ebfn m\u1eabu",disabled:!L,children:L&&L.variables&&(0,v.jsxs)("div",{children:[(0,v.jsxs)(r.A,{variant:"info",children:[(0,v.jsx)("i",{className:"fas fa-info-circle me-2"}),"C\xe1c bi\u1ebfn n\xe0y s\u1ebd \u0111\u01b0\u1ee3c thay th\u1ebf trong n\u1ed9i dung h\u1ee3p \u0111\u1ed3ng cu\u1ed1i c\xf9ng."]}),(0,v.jsx)(d.A,{children:("string"===typeof L.variables?JSON.parse(L.variables):L.variables||[]).map(e=>(0,v.jsx)(i.A,{md:6,children:(0,v.jsxs)(l.A.Group,{className:"mb-3",children:[(0,v.jsxs)(l.A.Label,{children:[e.description||e.name,e.required&&(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),"boolean"===e.type?(0,v.jsx)(l.A.Check,{type:"checkbox",checked:"true"===E.variables[e.name],onChange:t=>O(a=>(0,n.A)((0,n.A)({},a),{},{variables:(0,n.A)((0,n.A)({},a.variables),{},{[e.name]:t.target.checked.toString()})}))}):(0,v.jsx)(l.A.Control,{type:"date"===e.type?"date":"number"===e.type?"number":"text",value:E.variables[e.name]||"",onChange:t=>O(a=>(0,n.A)((0,n.A)({},a),{},{variables:(0,n.A)((0,n.A)({},a.variables),{},{[e.name]:t.target.value})})),required:e.required,placeholder:"{{".concat(e.name,"}}")}),(0,v.jsxs)(l.A.Text,{className:"text-muted",children:["Bi\u1ebfn: ",(0,v.jsx)("code",{children:"{{".concat(e.name,"}}")})]})]})},e.name))})]})}),(0,v.jsx)(u.A,{eventKey:"preview",title:"Xem tr\u01b0\u1edbc",disabled:!L,children:L&&(0,v.jsxs)("div",{children:[(0,v.jsxs)(r.A,{variant:"success",children:[(0,v.jsx)("i",{className:"fas fa-eye me-2"}),"Xem tr\u01b0\u1edbc n\u1ed9i dung h\u1ee3p \u0111\u1ed3ng v\u1edbi d\u1eef li\u1ec7u \u0111\xe3 nh\u1eadp"]}),(0,v.jsx)(o.A,{children:(0,v.jsx)(o.A.Body,{children:(0,v.jsx)("div",{className:"contract-preview",dangerouslySetInnerHTML:{__html:L.template_content.replace(/\{\{(\w+)\}\}/g,(e,t)=>E.variables[t]||"[".concat(t,"]"))},style:{border:"1px solid #ddd",padding:"20px",backgroundColor:"white",fontFamily:"Times New Roman, serif"}})})})]})})]}),E.customer_id&&E.template_id&&(0,v.jsx)(r.A,{variant:"light",children:(0,v.jsxs)(d.A,{children:[(0,v.jsxs)(i.A,{md:3,children:[(0,v.jsx)("strong",{children:"Kh\xe1ch h\xe0ng:"}),(0,v.jsx)("br",{}),(null===G||void 0===G?void 0:G.company_name)||(null===G||void 0===G?void 0:G.full_name)]}),(0,v.jsxs)(i.A,{md:3,children:[(0,v.jsx)("strong",{children:"M\u1eabu h\u1ee3p \u0111\u1ed3ng:"}),(0,v.jsx)("br",{}),null===L||void 0===L?void 0:L.template_name]}),(0,v.jsxs)(i.A,{md:3,children:[(0,v.jsx)("strong",{children:"Di\u1ec7n t\xedch:"}),(0,v.jsx)("br",{}),E.warehouse_area," m\xb2"]}),(0,v.jsxs)(i.A,{md:3,children:[(0,v.jsx)("strong",{children:"Gi\xe1 thu\xea:"}),(0,v.jsx)("br",{}),J(E.rental_price)," VN\u0110/th\xe1ng"]})]})})]})}),(0,v.jsxs)(h.A.Footer,{children:[(0,v.jsx)(c.A,{variant:"secondary",onClick:a,disabled:w,children:"H\u1ee7y"}),(0,v.jsx)(c.A,{variant:"primary",onClick:V,disabled:w||!E.customer_id||!E.template_id,children:w?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"\u0110ang t\u1ea1o..."]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("i",{className:"fas fa-save me-2"}),"T\u1ea1o h\u1ee3p \u0111\u1ed3ng"]})})]})]})}},7848:(e,t,a)=>{a.d(t,{A:()=>s});const n="http://localhost:5001/api";const s=new class{async getAuthHeaders(){const e=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}async handleResponse(e){if((e.headers.get("content-type")||"").includes("application/json")){const t=await e.json();if(!e.ok)throw new Error(t.message||"HTTP error! status: ".concat(e.status));return t}const t=await e.text();if(!e.ok){const a=t.replace(/<[^>]+>/g,"").trim(),n=a||"HTTP error! status: ".concat(e.status);throw new Error(n)}return{success:!0,data:t}}async getContracts(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString(),t="".concat(n,"/contracts").concat(e?"?".concat(e):""),a=await fetch(t,{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(a)}async getContract(e){const t=await fetch("".concat(n,"/contracts/").concat(e),{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(t)}async createContract(e){const t=await fetch("".concat(n,"/contracts"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(e)});return this.handleResponse(t)}async updateContract(e,t){const a=await fetch("".concat(n,"/contracts/").concat(e),{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async updateContractStatus(e,t){const a=await fetch("".concat(n,"/contracts/").concat(e,"/status"),{method:"PATCH",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async getContractTemplates(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString(),t="".concat(n,"/contract-templates").concat(e?"?".concat(e):""),a=await fetch(t,{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(a)}async getContractTemplate(e){const t=await fetch("".concat(n,"/contract-templates/").concat(e),{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(t)}async createContractTemplate(e){const t=await fetch("".concat(n,"/contract-templates"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(e)});return this.handleResponse(t)}async generateDocumentFromTemplate(e,t){const a=await fetch("".concat(n,"/contract-templates/").concat(e,"/generate"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async getDocumentCategories(){const e=await fetch("".concat(n,"/contract-documents/categories"),{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(e)}async getContractDocuments(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString(),a="".concat(n,"/contract-documents/").concat(e).concat(t?"?".concat(t):""),s=await fetch(a,{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(s)}async getDocument(e){const t=await fetch("".concat(n,"/contract-documents/document/").concat(e),{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(t)}async createDocument(e){const t=await fetch("".concat(n,"/contract-documents"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(e)});return this.handleResponse(t)}async updateDocument(e,t){const a=await fetch("".concat(n,"/contract-documents/").concat(e),{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async createDocumentVersion(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=await fetch("".concat(n,"/contract-documents/").concat(e,"/create-version"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async submitForReview(e,t){const a=await fetch("".concat(n,"/contracts/").concat(e,"/submit-review"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async addReview(e,t){const a=await fetch("".concat(n,"/contracts/").concat(e,"/reviews"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});return this.handleResponse(a)}async getContractStats(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString(),t="".concat(n,"/contracts/stats").concat(e?"?".concat(e):""),a=await fetch(t,{method:"GET",headers:await this.getAuthHeaders()});return this.handleResponse(a)}}}}]);
//# sourceMappingURL=531.6a997b77.chunk.js.map