{"version":3,"file":"static/js/451.e2a0a354.chunk.js","mappings":"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","sources":["components/Map/GoogleMapWrapper.js","components/Map/WarehouseZone.js","components/Map/MapLegend.js","components/Map/ProjectMapView.js","components/Tasks/TaskForm.js","components/Tasks/TaskCalendar.js","components/Tasks/TaskManager.js","pages/Projects/ProjectDetail.js"],"sourcesContent":["/**\r\n * Google Map Wrapper Component\r\n * Wrapper cho Google Maps vi cc settings c bn\r\n */\r\n\r\nimport React from 'react';\r\nimport { GoogleMap, useJsApiLoader } from '@react-google-maps/api';\r\n\r\nconst mapContainerStyle = {\r\n  width: '100%',\r\n  height: '600px'\r\n};\r\n\r\nconst defaultCenter = {\r\n  lat: 10.762622, // H Ch Minh\r\n  lng: 106.660172\r\n};\r\n\r\nconst mapOptions = {\r\n  disableDefaultUI: false,\r\n  zoomControl: true,\r\n  streetViewControl: false,\r\n  mapTypeControl: true,\r\n  fullscreenControl: true,\r\n  clickableIcons: false,\r\n  mapTypeId: 'satellite', // satellite view for warehouses\r\n  tilt: 0\r\n};\r\n\r\nfunction GoogleMapWrapper({ center, zoom = 16, children, onMapLoad }) {\r\n  const { isLoaded, loadError } = useJsApiLoader({\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY || '',\r\n    libraries: ['drawing', 'geometry']\r\n  });\r\n\r\n  const [, setMap] = React.useState(null); // map variable unused but setMap needed\r\n\r\n  const onLoad = React.useCallback((mapInstance) => {\r\n    setMap(mapInstance);\r\n    if (onMapLoad) {\r\n      onMapLoad(mapInstance);\r\n    }\r\n  }, [onMapLoad]);\r\n\r\n  const onUnmount = React.useCallback(() => {\r\n    setMap(null);\r\n  }, []);\r\n\r\n  if (loadError) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center', color: 'red' }}>\r\n        <h4> Li ti Google Maps</h4>\r\n        <p>{loadError.message}</p>\r\n        <p>Vui lng kim tra:</p>\r\n        <ul style={{ textAlign: 'left', display: 'inline-block' }}>\r\n          <li>REACT_APP_GOOGLE_MAPS_API_KEY trong file .env</li>\r\n          <li>API key  c enable Maps JavaScript API</li>\r\n          <li>Billing  c setup (nu cn)</li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isLoaded) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center' }}>\r\n        <div className=\"spinner-border text-primary\" role=\"status\">\r\n          <span className=\"visually-hidden\">ang ti bn ...</span>\r\n        </div>\r\n        <p className=\"mt-2\">ang ti Google Maps...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <GoogleMap\r\n      mapContainerStyle={mapContainerStyle}\r\n      center={center || defaultCenter}\r\n      zoom={zoom}\r\n      onLoad={onLoad}\r\n      onUnmount={onUnmount}\r\n      options={mapOptions}\r\n    >\r\n      {children}\r\n    </GoogleMap>\r\n  );\r\n}\r\n\r\nexport default GoogleMapWrapper;\r\n","/**\r\n * Warehouse Zone Component\r\n * V zone trn Google Map vi mu sc theo trng thi\r\n */\r\n\r\nimport React from 'react';\r\nimport { Polygon, InfoWindow } from '@react-google-maps/api';\r\n\r\n// Mu sc theo trng thi\r\nconst STATUS_COLORS = {\r\n  available: {\r\n    fillColor: '#dc3545', //  - cha cho thu\r\n    strokeColor: '#721c24',\r\n    label: 'Cn trng'\r\n  },\r\n  rented: {\r\n    fillColor: '#28a745', // Xanh -  cho thu\r\n    strokeColor: '#155724',\r\n    label: ' thu'\r\n  },\r\n  deposited: {\r\n    fillColor: '#fd7e14', // Cam -  cc\r\n    strokeColor: '#dc3545',\r\n    label: ' cc'\r\n  },\r\n  fixed_service: {\r\n    fillColor: '#ffffff', // Trng - c nh\r\n    strokeColor: '#6c757d',\r\n    label: 'Dch v c nh'\r\n  },\r\n  maintenance: {\r\n    fillColor: '#ffc107', // Vng - bo tr\r\n    strokeColor: '#856404',\r\n    label: 'Bo tr'\r\n  }\r\n};\r\n\r\nfunction WarehouseZone({ zone, onClick, isSelected }) {\r\n  const [showInfo, setShowInfo] = React.useState(false);\r\n  const [infoPosition, setInfoPosition] = React.useState(null);\r\n\r\n  // Parse coordinates t JSON\r\n  const paths = React.useMemo(() => {\r\n    if (!zone.coordinates) return [];\r\n    \r\n    try {\r\n      const coords = typeof zone.coordinates === 'string' \r\n        ? JSON.parse(zone.coordinates) \r\n        : zone.coordinates;\r\n      \r\n      // Chuyn i sang format Google Maps\r\n      if (Array.isArray(coords)) {\r\n        return coords.map(coord => ({\r\n          lat: parseFloat(coord.lat || coord.latitude),\r\n          lng: parseFloat(coord.lng || coord.longitude)\r\n        }));\r\n      }\r\n      \r\n      return [];\r\n    } catch (error) {\r\n      console.error('Error parsing coordinates:', error);\r\n      return [];\r\n    }\r\n  }, [zone.coordinates]);\r\n\r\n  // Tnh center ca polygon  t InfoWindow\r\n  const getCenter = React.useCallback(() => {\r\n    if (paths.length === 0) return null;\r\n    \r\n    const lat = paths.reduce((sum, p) => sum + p.lat, 0) / paths.length;\r\n    const lng = paths.reduce((sum, p) => sum + p.lng, 0) / paths.length;\r\n    \r\n    return { lat, lng };\r\n  }, [paths]);\r\n\r\n  // Get color theo status\r\n  const colorConfig = STATUS_COLORS[zone.status] || STATUS_COLORS.available;\r\n\r\n  // Polygon options\r\n  const polygonOptions = {\r\n    fillColor: colorConfig.fillColor,\r\n    fillOpacity: isSelected ? 0.6 : 0.4,\r\n    strokeColor: isSelected ? '#000000' : colorConfig.strokeColor,\r\n    strokeOpacity: isSelected ? 1 : 0.8,\r\n    strokeWeight: isSelected ? 3 : 2,\r\n    clickable: true,\r\n    draggable: false,\r\n    editable: false,\r\n    geodesic: false,\r\n    zIndex: isSelected ? 100 : 1\r\n  };\r\n\r\n  const handleClick = () => {\r\n    const center = getCenter();\r\n    if (center) {\r\n      setInfoPosition(center);\r\n      setShowInfo(true);\r\n    }\r\n    if (onClick) {\r\n      onClick(zone);\r\n    }\r\n  };\r\n\r\n  const handleMouseOver = () => {\r\n    if (!isSelected) {\r\n      setShowInfo(true);\r\n      const center = getCenter();\r\n      if (center) {\r\n        setInfoPosition(center);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMouseOut = () => {\r\n    if (!isSelected) {\r\n      setShowInfo(false);\r\n    }\r\n  };\r\n\r\n  if (paths.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Polygon\r\n        paths={paths}\r\n        options={polygonOptions}\r\n        onClick={handleClick}\r\n        onMouseOver={handleMouseOver}\r\n        onMouseOut={handleMouseOut}\r\n      />\r\n      \r\n      {showInfo && infoPosition && (\r\n        <InfoWindow\r\n          position={infoPosition}\r\n          onCloseClick={() => setShowInfo(false)}\r\n        >\r\n          <div style={{ maxWidth: '250px' }}>\r\n            <h6 className=\"mb-2\">\r\n              <strong>{zone.zone_code}</strong>\r\n              {zone.zone_name && ` - ${zone.zone_name}`}\r\n            </h6>\r\n            \r\n            <div className=\"mb-2\">\r\n              <span \r\n                className=\"badge\" \r\n                style={{ \r\n                  backgroundColor: colorConfig.fillColor,\r\n                  color: zone.status === 'fixed_service' ? '#000' : '#fff'\r\n                }}\r\n              >\r\n                {colorConfig.label}\r\n              </span>\r\n            </div>\r\n            \r\n            <div style={{ fontSize: '13px' }}>\r\n              <div><strong>Din tch:</strong> {zone.area} m</div>\r\n              \r\n              {zone.zone_type && (\r\n                <div><strong>Loi:</strong> {\r\n                  zone.zone_type === 'rental' ? 'Cho thu' :\r\n                  zone.zone_type === 'fixed_service' ? 'Dch v c nh' :\r\n                  'Khu vc chung'\r\n                }</div>\r\n              )}\r\n              \r\n              {zone.rental_price && zone.status !== 'fixed_service' && (\r\n                <div><strong>Gi thu:</strong> {zone.rental_price.toLocaleString('vi-VN')} VN/m</div>\r\n              )}\r\n              \r\n              {zone.customer_info && zone.status === 'rented' && (\r\n                <div className=\"mt-2 pt-2\" style={{ borderTop: '1px solid #ddd' }}>\r\n                  <strong>Khch thu:</strong>\r\n                  <div>{zone.customer_info.name}</div>\r\n                  {zone.customer_info.phone && (\r\n                    <div> {zone.customer_info.phone}</div>\r\n                  )}\r\n                  {zone.customer_info.contract_end && (\r\n                    <div>\r\n                      <small>Ht hn: {new Date(zone.customer_info.contract_end).toLocaleDateString('vi-VN')}</small>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n              \r\n              {zone.facilities && Object.keys(zone.facilities).length > 0 && (\r\n                <div className=\"mt-2\">\r\n                  <strong>Tin ch:</strong>\r\n                  <div style={{ fontSize: '12px' }}>\r\n                    {Object.entries(zone.facilities).map(([key, value]) => (\r\n                      value && <span key={key} className=\"badge bg-secondary me-1\">{key}</span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            {onClick && (\r\n              <button \r\n                className=\"btn btn-sm btn-primary mt-2 w-100\"\r\n                onClick={() => onClick(zone)}\r\n              >\r\n                Xem chi tit\r\n              </button>\r\n            )}\r\n          </div>\r\n        </InfoWindow>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default WarehouseZone;\r\n","/**\r\n * Map Legend Component\r\n * Hin th ch thch mu sc zones\r\n */\r\n\r\nimport React from 'react';\r\n\r\nconst LEGEND_ITEMS = [\r\n  { status: 'rented', color: '#28a745', label: ' cho thu', icon: '' },\r\n  { status: 'available', color: '#dc3545', label: 'Cn trng', icon: '' },\r\n  { status: 'deposited', color: '#fd7e14', label: ' nhn cc', icon: '' },\r\n  { status: 'fixed_service', color: '#ffffff', label: 'Dch v c nh', icon: '', textColor: '#000' }\r\n];\r\n\r\nfunction MapLegend({ stats }) {\r\n  return (\r\n    <div className=\"map-legend\">\r\n      <div className=\"legend-header\">\r\n        <strong>Ch thch</strong>\r\n      </div>\r\n      <div className=\"legend-items\">\r\n        {LEGEND_ITEMS.map((item) => (\r\n          <div key={item.status} className=\"legend-item\">\r\n            <span \r\n              className=\"legend-color\"\r\n              style={{ \r\n                color: item.color,\r\n                textShadow: item.status === 'fixed_service' ? '0 0 2px #000' : 'none'\r\n              }}\r\n            >\r\n              {item.icon}\r\n            </span>\r\n            <span className=\"legend-label\">{item.label}</span>\r\n            {stats && (\r\n              <span className=\"legend-count\">\r\n                ({stats[item.status] || 0})\r\n              </span>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      <div className=\"legend-footer\">\r\n        <small className=\"text-muted\">\r\n          <i className=\"bi bi-info-circle\"></i> Click vo zone  xem chi tit\r\n        </small>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapLegend;\r\n","/**\r\n * Project Map View Component\r\n * Hin th d n v cc zones trn Google Map\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Marker } from '@react-google-maps/api';\r\nimport GoogleMapWrapper from './GoogleMapWrapper';\r\nimport WarehouseZone from './WarehouseZone';\r\nimport MapLegend from './MapLegend';\r\nimport './ProjectMapView.css';\r\n\r\nfunction ProjectMapView({ project, zones, onZoneClick, showLegend = true }) {\r\n  const [selectedZone, setSelectedZone] = useState(null);\r\n  const [mapCenter, setMapCenter] = useState(null);\r\n  const [filteredZones, setFilteredZones] = useState(zones || []);\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n\r\n  // Set map center t project location\r\n  useEffect(() => {\r\n    if (project?.latitude && project?.longitude) {\r\n      setMapCenter({\r\n        lat: parseFloat(project.latitude),\r\n        lng: parseFloat(project.longitude)\r\n      });\r\n    }\r\n  }, [project]);\r\n\r\n  // Filter zones theo status\r\n  useEffect(() => {\r\n    if (statusFilter === 'all') {\r\n      setFilteredZones(zones || []);\r\n    } else {\r\n      setFilteredZones((zones || []).filter(z => z.status === statusFilter));\r\n    }\r\n  }, [zones, statusFilter]);\r\n\r\n  const handleZoneClick = (zone) => {\r\n    setSelectedZone(zone);\r\n    if (onZoneClick) {\r\n      onZoneClick(zone);\r\n    }\r\n  };\r\n\r\n  // Statistics\r\n  const stats = React.useMemo(() => {\r\n    if (!zones || zones.length === 0) return null;\r\n    \r\n    const totalArea = zones.reduce((sum, z) => sum + (parseFloat(z.area) || 0), 0);\r\n    const available = zones.filter(z => z.status === 'available');\r\n    const rented = zones.filter(z => z.status === 'rented');\r\n    const deposited = zones.filter(z => z.status === 'deposited');\r\n    const fixedService = zones.filter(z => z.status === 'fixed_service');\r\n    \r\n    const availableArea = available.reduce((sum, z) => sum + (parseFloat(z.area) || 0), 0);\r\n    const rentedArea = rented.reduce((sum, z) => sum + (parseFloat(z.area) || 0), 0);\r\n    \r\n    return {\r\n      total: zones.length,\r\n      totalArea,\r\n      available: available.length,\r\n      rented: rented.length,\r\n      deposited: deposited.length,\r\n      fixedService: fixedService.length,\r\n      availableArea,\r\n      rentedArea,\r\n      occupancyRate: totalArea > 0 ? ((rentedArea / totalArea) * 100).toFixed(1) : 0\r\n    };\r\n  }, [zones]);\r\n\r\n  if (!mapCenter) {\r\n    return (\r\n      <div className=\"alert alert-warning\">\r\n        <strong> Cha c ta </strong>\r\n        <p className=\"mb-0\">Vui lng cp nht ta  (latitude, longitude) cho d n  hin th bn .</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-map-view\">\r\n      {/* Map Header */}\r\n      <div className=\"map-header mb-3\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-md-6\">\r\n            <h5 className=\"mb-0\">\r\n              <i className=\"bi bi-map\"></i> Bn  d n\r\n            </h5>\r\n            {project?.address && (\r\n              <small className=\"text-muted\"> {project.address}</small>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"col-md-6 text-end\">\r\n            {/* Filter */}\r\n            <select \r\n              className=\"form-select form-select-sm d-inline-block w-auto\"\r\n              value={statusFilter}\r\n              onChange={(e) => setStatusFilter(e.target.value)}\r\n            >\r\n              <option value=\"all\">Tt c zones ({zones?.length || 0})</option>\r\n              <option value=\"available\">Cn trng ({stats?.available || 0})</option>\r\n              <option value=\"rented\"> thu ({stats?.rented || 0})</option>\r\n              <option value=\"deposited\"> cc ({stats?.deposited || 0})</option>\r\n              <option value=\"fixed_service\">Dch v c nh ({stats?.fixedService || 0})</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics */}\r\n      {stats && (\r\n        <div className=\"map-stats mb-3\">\r\n          <div className=\"row g-2\">\r\n            <div className=\"col-md-3\">\r\n              <div className=\"stat-card\">\r\n                <div className=\"stat-label\">Tng zones</div>\r\n                <div className=\"stat-value\">{stats.total}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n              <div className=\"stat-card\">\r\n                <div className=\"stat-label\">Tng din tch</div>\r\n                <div className=\"stat-value\">{stats.totalArea.toLocaleString('vi-VN')} m</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n              <div className=\"stat-card\">\r\n                <div className=\"stat-label\"> cho thu</div>\r\n                <div className=\"stat-value text-success\">{stats.rentedArea.toLocaleString('vi-VN')} m</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n              <div className=\"stat-card\">\r\n                <div className=\"stat-label\">T l lp y</div>\r\n                <div className=\"stat-value text-primary\">{stats.occupancyRate}%</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Map Container */}\r\n      <div className=\"map-container-wrapper\">\r\n        <GoogleMapWrapper\r\n          center={mapCenter}\r\n          zoom={project?.map_zoom || 18}\r\n        >\r\n          {/* Project Center Marker */}\r\n          <Marker\r\n            position={mapCenter}\r\n            title={project?.name}\r\n            icon={{\r\n              url: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',\r\n              scaledSize: window.google?.maps?.Size ? new window.google.maps.Size(40, 40) : undefined\r\n            }}\r\n          />\r\n\r\n          {/* Warehouse Zones */}\r\n          {filteredZones.map((zone) => (\r\n            <WarehouseZone\r\n              key={zone.id}\r\n              zone={zone}\r\n              onClick={handleZoneClick}\r\n              isSelected={selectedZone?.id === zone.id}\r\n            />\r\n          ))}\r\n        </GoogleMapWrapper>\r\n\r\n        {/* Legend Overlay */}\r\n        {showLegend && (\r\n          <div className=\"map-legend-overlay\">\r\n            <MapLegend stats={stats} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Selected Zone Info */}\r\n      {selectedZone && (\r\n        <div className=\"selected-zone-info mt-3\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <div className=\"d-flex justify-content-between align-items-start\">\r\n                <div>\r\n                  <h6 className=\"card-title mb-1\">\r\n                    {selectedZone.zone_code}\r\n                    {selectedZone.zone_name && ` - ${selectedZone.zone_name}`}\r\n                  </h6>\r\n                  <p className=\"text-muted mb-2\">\r\n                    <small>Zone ID: #{selectedZone.id}</small>\r\n                  </p>\r\n                </div>\r\n                <button \r\n                  className=\"btn-close\"\r\n                  onClick={() => setSelectedZone(null)}\r\n                  aria-label=\"Close\"\r\n                ></button>\r\n              </div>\r\n              \r\n              <div className=\"row g-3\">\r\n                <div className=\"col-md-4\">\r\n                  <strong>Trng thi:</strong>\r\n                  <div>\r\n                    <span className={`badge bg-${\r\n                      selectedZone.status === 'rented' ? 'success' :\r\n                      selectedZone.status === 'deposited' ? 'warning' :\r\n                      selectedZone.status === 'available' ? 'danger' :\r\n                      'secondary'\r\n                    }`}>\r\n                      {selectedZone.status === 'rented' ? ' thu' :\r\n                       selectedZone.status === 'deposited' ? ' cc' :\r\n                       selectedZone.status === 'available' ? 'Cn trng' :\r\n                       'Dch v c nh'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-4\">\r\n                  <strong>Din tch:</strong>\r\n                  <div>{selectedZone.area} m</div>\r\n                </div>\r\n                \r\n                {selectedZone.rental_price && (\r\n                  <div className=\"col-md-4\">\r\n                    <strong>Gi thu:</strong>\r\n                    <div>{selectedZone.rental_price.toLocaleString('vi-VN')} VN/m</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              {selectedZone.customer_info && (\r\n                <div className=\"mt-3 pt-3 border-top\">\r\n                  <strong>Thng tin khch thu:</strong>\r\n                  <div className=\"mt-2\">\r\n                    <div><strong>Tn:</strong> {selectedZone.customer_info.name}</div>\r\n                    {selectedZone.customer_info.phone && (\r\n                      <div><strong>ST:</strong> {selectedZone.customer_info.phone}</div>\r\n                    )}\r\n                    {selectedZone.customer_info.email && (\r\n                      <div><strong>Email:</strong> {selectedZone.customer_info.email}</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProjectMapView;\r\n","/**\r\n * Task Form Component\r\n * Form to/sa cng vic\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Modal, Form, Button, Row, Col, Alert } from 'react-bootstrap';\r\n\r\nconst TASK_TYPES = [\r\n  { value: 'fire_safety', label: ' Phng chy cha chy' },\r\n  { value: 'security', label: ' An ninh' },\r\n  { value: 'maintenance', label: ' Bo tr' },\r\n  { value: 'inspection', label: ' Kim tra' },\r\n  { value: 'cleaning', label: ' V sinh' },\r\n  { value: 'equipment_check', label: ' Kim tra thit b' },\r\n  { value: 'other', label: ' Khc' }\r\n];\r\n\r\nconst FREQUENCIES = [\r\n  { value: 'daily', label: 'Hng ngy' },\r\n  { value: 'weekly', label: 'Hng tun' },\r\n  { value: 'biweekly', label: '2 tun/ln' },\r\n  { value: 'monthly', label: 'Hng thng' },\r\n  { value: 'quarterly', label: 'Hng qu' },\r\n  { value: 'semiannual', label: '6 thng/ln' },\r\n  { value: 'yearly', label: 'Hng nm' },\r\n  { value: 'one_time', label: 'Mt ln' }\r\n];\r\n\r\nconst PRIORITIES = [\r\n  { value: 'low', label: 'Thp' },\r\n  { value: 'medium', label: 'Trung bnh' },\r\n  { value: 'high', label: 'Cao' },\r\n  { value: 'critical', label: 'Khn cp' }\r\n];\r\n\r\nfunction TaskForm({ show, onHide, projectId, task, onSave }) {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    task_type: 'maintenance',\r\n    frequency: 'monthly',\r\n    start_date: new Date().toISOString().split('T')[0],\r\n    due_date: '',\r\n    assigned_to: '',\r\n    priority: 'medium',\r\n    is_recurring: false,\r\n    notify_before_days: 3\r\n  });\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      loadUsers();\r\n      if (task) {\r\n        // Edit mode\r\n        setFormData({\r\n          title: task.title || '',\r\n          description: task.description || '',\r\n          task_type: task.task_type || 'maintenance',\r\n          frequency: task.frequency || 'monthly',\r\n          start_date: task.start_date ? task.start_date.split('T')[0] : new Date().toISOString().split('T')[0],\r\n          due_date: task.due_date ? task.due_date.split('T')[0] : '',\r\n          assigned_to: task.assigned_to || '',\r\n          priority: task.priority || 'medium',\r\n          is_recurring: task.is_recurring || false,\r\n          notify_before_days: task.notify_before_days || 3\r\n        });\r\n      } else {\r\n        // Create mode - reset\r\n        setFormData({\r\n          title: '',\r\n          description: '',\r\n          task_type: 'maintenance',\r\n          frequency: 'monthly',\r\n          start_date: new Date().toISOString().split('T')[0],\r\n          due_date: '',\r\n          assigned_to: '',\r\n          priority: 'medium',\r\n          is_recurring: false,\r\n          notify_before_days: 3\r\n        });\r\n      }\r\n    }\r\n  }, [show, task]);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/users?limit=100', {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setUsers(data.data.users || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading users:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const url = task \r\n        ? `/api/projects/${projectId}/tasks/${task.id}`\r\n        : `/api/projects/${projectId}/tasks`;\r\n      \r\n      const method = task ? 'PUT' : 'POST';\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        onSave();\r\n      } else {\r\n        setError(data.message || 'C li xy ra');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving task:', error);\r\n      setError('Khng th lu cng vic. Vui lng th li.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} size=\"lg\" backdrop=\"static\">\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {task ? ' Sa cng vic' : ' Thm cng vic mi'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Modal.Body>\r\n          {error && <Alert variant=\"danger\" dismissible onClose={() => setError('')}>{error}</Alert>}\r\n\r\n          <Row>\r\n            <Col md={12}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Tiu  <span className=\"text-danger\">*</span></Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Nhp tiu  cng vic\"\r\n                  value={formData.title}\r\n                  onChange={(e) => handleChange('title', e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md={12}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>M t</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={3}\r\n                  placeholder=\"Nhp m t chi tit cng vic\"\r\n                  value={formData.description}\r\n                  onChange={(e) => handleChange('description', e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Loi cng vic <span className=\"text-danger\">*</span></Form.Label>\r\n                <Form.Select\r\n                  value={formData.task_type}\r\n                  onChange={(e) => handleChange('task_type', e.target.value)}\r\n                  required\r\n                >\r\n                  {TASK_TYPES.map(type => (\r\n                    <option key={type.value} value={type.value}>{type.label}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>u tin <span className=\"text-danger\">*</span></Form.Label>\r\n                <Form.Select\r\n                  value={formData.priority}\r\n                  onChange={(e) => handleChange('priority', e.target.value)}\r\n                  required\r\n                >\r\n                  {PRIORITIES.map(priority => (\r\n                    <option key={priority.value} value={priority.value}>{priority.label}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Ngy bt u <span className=\"text-danger\">*</span></Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={formData.start_date}\r\n                  onChange={(e) => handleChange('start_date', e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Hn cht <span className=\"text-danger\">*</span></Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={formData.due_date}\r\n                  onChange={(e) => handleChange('due_date', e.target.value)}\r\n                  min={formData.start_date}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Tn sut <span className=\"text-danger\">*</span></Form.Label>\r\n                <Form.Select\r\n                  value={formData.frequency}\r\n                  onChange={(e) => handleChange('frequency', e.target.value)}\r\n                  required\r\n                >\r\n                  {FREQUENCIES.map(freq => (\r\n                    <option key={freq.value} value={freq.value}>{freq.label}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Ngi thc hin</Form.Label>\r\n                <Form.Select\r\n                  value={formData.assigned_to}\r\n                  onChange={(e) => handleChange('assigned_to', e.target.value)}\r\n                >\r\n                  <option value=\"\">-- Cha gn --</option>\r\n                  {users.map(user => (\r\n                    <option key={user.id} value={user.id}>\r\n                      {user.full_name} ({user.role})\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Check\r\n                  type=\"checkbox\"\r\n                  label=\"Cng vic lp li\"\r\n                  checked={formData.is_recurring}\r\n                  onChange={(e) => handleChange('is_recurring', e.target.checked)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Nhc trc (ngy)</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max=\"30\"\r\n                  value={formData.notify_before_days}\r\n                  onChange={(e) => handleChange('notify_before_days', parseInt(e.target.value))}\r\n                />\r\n                <Form.Text className=\"text-muted\">\r\n                  Gi thng bo trc hn cht bao nhiu ngy\r\n                </Form.Text>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          {formData.frequency !== 'one_time' && (\r\n            <Alert variant=\"info\">\r\n              <i className=\"fas fa-info-circle me-2\"></i>\r\n              <strong>Lu :</strong> Cng vic ny s t ng to lch k tip sau khi hon thnh (nu chn \"Cng vic lp li\").\r\n            </Alert>\r\n          )}\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={onHide} disabled={loading}>\r\n            Hy\r\n          </Button>\r\n          <Button variant=\"primary\" type=\"submit\" disabled={loading}>\r\n            {loading ? (\r\n              <>\r\n                <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                ang lu...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <i className=\"fas fa-save me-2\"></i>\r\n                {task ? 'Cp nht' : 'To mi'}\r\n              </>\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default TaskForm;\r\n","/**\r\n * Task Calendar Component\r\n * Hin th tasks di dng lch\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Badge, Card } from 'react-bootstrap';\r\nimport './TaskCalendar.css';\r\n\r\nconst TASK_TYPES = {\r\n  fire_safety: { icon: '', color: 'danger' },\r\n  security: { icon: '', color: 'warning' },\r\n  maintenance: { icon: '', color: 'info' },\r\n  inspection: { icon: '', color: 'primary' },\r\n  cleaning: { icon: '', color: 'success' },\r\n  equipment_check: { icon: '', color: 'secondary' },\r\n  other: { icon: '', color: 'dark' }\r\n};\r\n\r\nfunction TaskCalendar({ tasks, onTaskClick }) {\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n\r\n  const getDaysInMonth = (date) => {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    const daysInMonth = lastDay.getDate();\r\n    const startingDayOfWeek = firstDay.getDay();\r\n\r\n    return { daysInMonth, startingDayOfWeek, year, month };\r\n  };\r\n\r\n  const getTasksForDate = (date) => {\r\n    const dateStr = date.toISOString().split('T')[0];\r\n    return tasks.filter(task => {\r\n      const taskDate = new Date(task.due_date).toISOString().split('T')[0];\r\n      return taskDate === dateStr;\r\n    });\r\n  };\r\n\r\n  const { daysInMonth, startingDayOfWeek, year, month } = getDaysInMonth(currentDate);\r\n\r\n  const previousMonth = () => {\r\n    setCurrentDate(new Date(year, month - 1, 1));\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentDate(new Date(year, month + 1, 1));\r\n  };\r\n\r\n  const today = new Date();\r\n  const isToday = (day) => {\r\n    return today.getDate() === day &&\r\n           today.getMonth() === month &&\r\n           today.getFullYear() === year;\r\n  };\r\n\r\n  const monthNames = [\r\n    'Thng 1', 'Thng 2', 'Thng 3', 'Thng 4', 'Thng 5', 'Thng 6',\r\n    'Thng 7', 'Thng 8', 'Thng 9', 'Thng 10', 'Thng 11', 'Thng 12'\r\n  ];\r\n\r\n  const dayNames = ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'];\r\n\r\n  // Generate calendar grid\r\n  const calendarDays = [];\r\n  const totalSlots = Math.ceil((daysInMonth + startingDayOfWeek) / 7) * 7;\r\n\r\n  for (let i = 0; i < totalSlots; i++) {\r\n    const day = i - startingDayOfWeek + 1;\r\n    \r\n    if (day > 0 && day <= daysInMonth) {\r\n      const date = new Date(year, month, day);\r\n      const dayTasks = getTasksForDate(date);\r\n      \r\n      calendarDays.push({\r\n        day,\r\n        date,\r\n        tasks: dayTasks,\r\n        isToday: isToday(day),\r\n        isCurrentMonth: true\r\n      });\r\n    } else {\r\n      calendarDays.push({\r\n        day: null,\r\n        date: null,\r\n        tasks: [],\r\n        isToday: false,\r\n        isCurrentMonth: false\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"task-calendar\">\r\n      {/* Header */}\r\n      <div className=\"calendar-header d-flex justify-content-between align-items-center mb-3\">\r\n        <button className=\"btn btn-outline-primary btn-sm\" onClick={previousMonth}>\r\n          <i className=\"fas fa-chevron-left\"></i> Thng trc\r\n        </button>\r\n        <h5 className=\"mb-0\">{monthNames[month]} {year}</h5>\r\n        <button className=\"btn btn-outline-primary btn-sm\" onClick={nextMonth}>\r\n          Thng sau <i className=\"fas fa-chevron-right\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Calendar Grid */}\r\n      <div className=\"calendar-grid\">\r\n        {/* Day headers */}\r\n        {dayNames.map(dayName => (\r\n          <div key={dayName} className=\"calendar-day-header\">\r\n            {dayName}\r\n          </div>\r\n        ))}\r\n\r\n        {/* Calendar days */}\r\n        {calendarDays.map((dayData, index) => (\r\n          <div\r\n            key={index}\r\n            className={`calendar-day ${dayData.isCurrentMonth ? '' : 'other-month'} ${dayData.isToday ? 'today' : ''}`}\r\n          >\r\n            {dayData.day && (\r\n              <>\r\n                <div className=\"day-number\">{dayData.day}</div>\r\n                <div className=\"day-tasks\">\r\n                  {dayData.tasks.slice(0, 3).map(task => {\r\n                    const typeInfo = TASK_TYPES[task.task_type] || TASK_TYPES.other;\r\n                    return (\r\n                      <div\r\n                        key={task.id}\r\n                        className={`task-item task-${task.status}`}\r\n                        onClick={() => onTaskClick && onTaskClick(task.id)}\r\n                        title={task.title}\r\n                      >\r\n                        <span className=\"task-icon\">{typeInfo.icon}</span>\r\n                        <span className=\"task-title\">{task.title}</span>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {dayData.tasks.length > 3 && (\r\n                    <div className=\"more-tasks\">\r\n                      +{dayData.tasks.length - 3} khc\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Legend */}\r\n      <Card className=\"mt-3\">\r\n        <Card.Body>\r\n          <h6 className=\"mb-2\">Ch thch:</h6>\r\n          <div className=\"d-flex flex-wrap gap-2\">\r\n            <Badge bg=\"secondary\"> Ch x l</Badge>\r\n            <Badge bg=\"primary\"> ang lm</Badge>\r\n            <Badge bg=\"success\"> Hon thnh</Badge>\r\n            <Badge bg=\"danger\"> Qu hn</Badge>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TaskCalendar;\r\n","/**\r\n * Task Manager Component\r\n * Qun l cng vic nh k cho d n\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Card, Button, Badge, Table, Modal, Form, Row, Col, Tab, Nav } from 'react-bootstrap';\r\nimport TaskForm from './TaskForm';\r\nimport TaskCalendar from './TaskCalendar';\r\nimport './TaskManager.css';\r\n\r\nconst TASK_TYPES = {\r\n  fire_safety: { label: 'Phng chy', icon: '', color: 'danger' },\r\n  security: { label: 'An ninh', icon: '', color: 'warning' },\r\n  maintenance: { label: 'Bo tr', icon: '', color: 'info' },\r\n  inspection: { label: 'Kim tra', icon: '', color: 'primary' },\r\n  cleaning: { label: 'V sinh', icon: '', color: 'success' },\r\n  equipment_check: { label: 'Thit b', icon: '', color: 'secondary' },\r\n  other: { label: 'Khc', icon: '', color: 'dark' }\r\n};\r\n\r\nconst STATUS_LABELS = {\r\n  pending: { label: 'Ch x l', variant: 'secondary' },\r\n  in_progress: { label: 'ang lm', variant: 'primary' },\r\n  completed: { label: 'Hon thnh', variant: 'success' },\r\n  overdue: { label: 'Qu hn', variant: 'danger' },\r\n  cancelled: { label: ' hy', variant: 'dark' }\r\n};\r\n\r\nconst PRIORITY_LABELS = {\r\n  low: { label: 'Thp', variant: 'secondary' },\r\n  medium: { label: 'Trung bnh', variant: 'info' },\r\n  high: { label: 'Cao', variant: 'warning' },\r\n  critical: { label: 'Khn cp', variant: 'danger' }\r\n};\r\n\r\nfunction TaskManager({ projectId, projectName }) {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('list');\r\n  \r\n  // Filters\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    task_type: '',\r\n    assigned_to: ''\r\n  });\r\n\r\n  const [stats, setStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    in_progress: 0,\r\n    completed: 0,\r\n    overdue: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      loadTasks();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [projectId, filters]);\r\n\r\n  const loadTasks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters);\r\n      \r\n      const response = await fetch(`/api/projects/${projectId}/tasks?${queryParams}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setTasks(data.data.tasks || []);\r\n        calculateStats(data.data.tasks || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading tasks:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateStats = (taskList) => {\r\n    const stats = {\r\n      total: taskList.length,\r\n      pending: taskList.filter(t => t.status === 'pending').length,\r\n      in_progress: taskList.filter(t => t.status === 'in_progress').length,\r\n      completed: taskList.filter(t => t.status === 'completed').length,\r\n      overdue: taskList.filter(t => t.status === 'overdue').length\r\n    };\r\n    setStats(stats);\r\n  };\r\n\r\n  const handleCreateTask = () => {\r\n    setEditingTask(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEditTask = (task) => {\r\n    setEditingTask(task);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDeleteTask = async (taskId) => {\r\n    if (!window.confirm('Bn c chc mun xa cng vic ny?')) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/projects/${projectId}/tasks/${taskId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        loadTasks();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting task:', error);\r\n    }\r\n  };\r\n\r\n  const handleCompleteTask = async (taskId) => {\r\n    const notes = prompt('Ghi ch hon thnh (ty chn):');\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/projects/${projectId}/tasks/${taskId}/complete`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ completion_notes: notes })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        loadTasks();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error completing task:', error);\r\n    }\r\n  };\r\n\r\n  const handleViewDetail = async (taskId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/projects/${projectId}/tasks/${taskId}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setSelectedTask(data.data);\r\n        setShowDetailModal(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading task detail:', error);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('vi-VN');\r\n  };\r\n\r\n  const getDaysUntilDue = (dueDate) => {\r\n    const today = new Date();\r\n    const due = new Date(dueDate);\r\n    const diffTime = due - today;\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return diffDays;\r\n  };\r\n\r\n  const getTaskTypeInfo = (type) => TASK_TYPES[type] || TASK_TYPES.other;\r\n\r\n  return (\r\n    <div className=\"task-manager\">\r\n      {/* Header */}\r\n      <div className=\"task-header mb-4\">\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <h4 className=\"mb-1\"> Qun l cng vic</h4>\r\n            <p className=\"text-muted mb-0\">{projectName}</p>\r\n          </div>\r\n          <Button variant=\"primary\" onClick={handleCreateTask}>\r\n            <i className=\"fas fa-plus me-2\"></i>\r\n            Thm cng vic\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={2}>\r\n          <Card className=\"stat-card\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1\">{stats.total}</h3>\r\n              <small className=\"text-muted\">Tng s</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-secondary\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-secondary\">{stats.pending}</h3>\r\n              <small className=\"text-muted\">Ch x l</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-primary\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-primary\">{stats.in_progress}</h3>\r\n              <small className=\"text-muted\">ang lm</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-success\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-success\">{stats.completed}</h3>\r\n              <small className=\"text-muted\">Hon thnh</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-danger\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-danger\">{stats.overdue}</h3>\r\n              <small className=\"text-muted\">Qu hn</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Tabs */}\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        <Card className=\"border-0 shadow-sm\">\r\n          <Card.Header className=\"bg-white\">\r\n            <Nav variant=\"tabs\" className=\"border-0\">\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"list\">\r\n                  <i className=\"fas fa-list me-2\"></i>\r\n                  Danh sch\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"calendar\">\r\n                  <i className=\"fas fa-calendar me-2\"></i>\r\n                  Lch\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav>\r\n          </Card.Header>\r\n\r\n          <Card.Body>\r\n            {/* Filters */}\r\n            <Row className=\"mb-3\">\r\n              <Col md={3}>\r\n                <Form.Select\r\n                  size=\"sm\"\r\n                  value={filters.status}\r\n                  onChange={(e) => setFilters({ ...filters, status: e.target.value })}\r\n                >\r\n                  <option value=\"\">Tt c trng thi</option>\r\n                  {Object.entries(STATUS_LABELS).map(([key, val]) => (\r\n                    <option key={key} value={key}>{val.label}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Col>\r\n              <Col md={3}>\r\n                <Form.Select\r\n                  size=\"sm\"\r\n                  value={filters.task_type}\r\n                  onChange={(e) => setFilters({ ...filters, task_type: e.target.value })}\r\n                >\r\n                  <option value=\"\">Tt c loi cng vic</option>\r\n                  {Object.entries(TASK_TYPES).map(([key, val]) => (\r\n                    <option key={key} value={key}>{val.icon} {val.label}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Col>\r\n              <Col md={3}>\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  size=\"sm\"\r\n                  onClick={() => setFilters({ status: '', task_type: '', assigned_to: '' })}\r\n                >\r\n                  <i className=\"fas fa-times me-1\"></i>\r\n                  Xa b lc\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Tab.Content>\r\n              {/* List View */}\r\n              <Tab.Pane eventKey=\"list\">\r\n                {loading ? (\r\n                  <div className=\"text-center py-5\">\r\n                    <div className=\"spinner-border text-primary\"></div>\r\n                    <p className=\"mt-2 text-muted\">ang ti...</p>\r\n                  </div>\r\n                ) : tasks.length === 0 ? (\r\n                  <div className=\"text-center py-5\">\r\n                    <i className=\"fas fa-inbox fa-3x text-muted mb-3\"></i>\r\n                    <p className=\"text-muted\">Cha c cng vic no.</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"table-responsive\">\r\n                    <Table hover>\r\n                      <thead className=\"bg-light\">\r\n                        <tr>\r\n                          <th style={{ width: '50px' }}>u tin</th>\r\n                          <th>Cng vic</th>\r\n                          <th style={{ width: '120px' }}>Loi</th>\r\n                          <th style={{ width: '120px' }}>Ngi thc hin</th>\r\n                          <th style={{ width: '100px' }}>Hn</th>\r\n                          <th style={{ width: '100px' }}>Trng thi</th>\r\n                          <th style={{ width: '150px' }}>Thao tc</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {tasks.map(task => {\r\n                          const daysUntil = getDaysUntilDue(task.due_date);\r\n                          const typeInfo = getTaskTypeInfo(task.task_type);\r\n                          \r\n                          return (\r\n                            <tr key={task.id} className={task.status === 'overdue' ? 'table-danger' : ''}>\r\n                              <td>\r\n                                <Badge bg={PRIORITY_LABELS[task.priority]?.variant || 'secondary'}>\r\n                                  {task.priority === 'critical' ? '' : \r\n                                   task.priority === 'high' ? '' :\r\n                                   task.priority === 'medium' ? '' : ''}\r\n                                </Badge>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"fw-bold\">{task.title}</div>\r\n                                {task.description && (\r\n                                  <small className=\"text-muted\">{task.description.substring(0, 50)}...</small>\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                <Badge bg={typeInfo.color}>\r\n                                  {typeInfo.icon} {typeInfo.label}\r\n                                </Badge>\r\n                              </td>\r\n                              <td>\r\n                                <small>{task.assigned_to_name || 'Cha gn'}</small>\r\n                              </td>\r\n                              <td>\r\n                                <div>{formatDate(task.due_date)}</div>\r\n                                {daysUntil >= 0 && daysUntil <= 7 && task.status !== 'completed' && (\r\n                                  <small className=\"text-warning\">Cn {daysUntil} ngy</small>\r\n                                )}\r\n                                {daysUntil < 0 && task.status !== 'completed' && (\r\n                                  <small className=\"text-danger\">Tr {Math.abs(daysUntil)} ngy</small>\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                <Badge bg={STATUS_LABELS[task.status]?.variant || 'secondary'}>\r\n                                  {STATUS_LABELS[task.status]?.label || task.status}\r\n                                </Badge>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"btn-group btn-group-sm\">\r\n                                  <Button\r\n                                    variant=\"outline-info\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => handleViewDetail(task.id)}\r\n                                    title=\"Xem chi tit\"\r\n                                  >\r\n                                    <i className=\"fas fa-eye\"></i>\r\n                                  </Button>\r\n                                  \r\n                                  {task.status !== 'completed' && (\r\n                                    <Button\r\n                                      variant=\"outline-success\"\r\n                                      size=\"sm\"\r\n                                      onClick={() => handleCompleteTask(task.id)}\r\n                                      title=\"Hon thnh\"\r\n                                    >\r\n                                      <i className=\"fas fa-check\"></i>\r\n                                    </Button>\r\n                                  )}\r\n                                  \r\n                                  <Button\r\n                                    variant=\"outline-primary\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => handleEditTask(task)}\r\n                                    title=\"Sa\"\r\n                                  >\r\n                                    <i className=\"fas fa-edit\"></i>\r\n                                  </Button>\r\n                                  \r\n                                  <Button\r\n                                    variant=\"outline-danger\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => handleDeleteTask(task.id)}\r\n                                    title=\"Xa\"\r\n                                  >\r\n                                    <i className=\"fas fa-trash\"></i>\r\n                                  </Button>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </Table>\r\n                  </div>\r\n                )}\r\n              </Tab.Pane>\r\n\r\n              {/* Calendar View */}\r\n              <Tab.Pane eventKey=\"calendar\">\r\n                <TaskCalendar tasks={tasks} onTaskClick={handleViewDetail} />\r\n              </Tab.Pane>\r\n            </Tab.Content>\r\n          </Card.Body>\r\n        </Card>\r\n      </Tab.Container>\r\n\r\n      {/* Task Form Modal */}\r\n      <TaskForm\r\n        show={showForm}\r\n        onHide={() => setShowForm(false)}\r\n        projectId={projectId}\r\n        task={editingTask}\r\n        onSave={() => {\r\n          setShowForm(false);\r\n          loadTasks();\r\n        }}\r\n      />\r\n\r\n      {/* Task Detail Modal */}\r\n      {selectedTask && (\r\n        <Modal show={showDetailModal} onHide={() => setShowDetailModal(false)} size=\"lg\">\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Chi tit cng vic</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col md={6}>\r\n                <h6>Thng tin chung</h6>\r\n                <div className=\"mb-2\"><strong>Tiu :</strong> {selectedTask.task.title}</div>\r\n                <div className=\"mb-2\"><strong>M t:</strong> {selectedTask.task.description || 'N/A'}</div>\r\n                <div className=\"mb-2\">\r\n                  <strong>Loi:</strong>{' '}\r\n                  <Badge bg={getTaskTypeInfo(selectedTask.task.task_type).color}>\r\n                    {getTaskTypeInfo(selectedTask.task.task_type).label}\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <strong>u tin:</strong>{' '}\r\n                  <Badge bg={PRIORITY_LABELS[selectedTask.task.priority]?.variant}>\r\n                    {PRIORITY_LABELS[selectedTask.task.priority]?.label}\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <strong>Trng thi:</strong>{' '}\r\n                  <Badge bg={STATUS_LABELS[selectedTask.task.status]?.variant}>\r\n                    {STATUS_LABELS[selectedTask.task.status]?.label}\r\n                  </Badge>\r\n                </div>\r\n              </Col>\r\n              <Col md={6}>\r\n                <h6>Lch trnh</h6>\r\n                <div className=\"mb-2\"><strong>Ngy bt u:</strong> {formatDate(selectedTask.task.start_date)}</div>\r\n                <div className=\"mb-2\"><strong>Hn cht:</strong> {formatDate(selectedTask.task.due_date)}</div>\r\n                <div className=\"mb-2\"><strong>Tn sut:</strong> {selectedTask.task.frequency}</div>\r\n                {selectedTask.task.is_recurring && (\r\n                  <div className=\"mb-2\"><strong>Ln k tip:</strong> {formatDate(selectedTask.task.next_due_date)}</div>\r\n                )}\r\n                <div className=\"mb-2\"><strong>Ngi thc hin:</strong> {selectedTask.task.assigned_to_name || 'Cha gn'}</div>\r\n              </Col>\r\n            </Row>\r\n\r\n            {selectedTask.task.completed_at && (\r\n              <div className=\"mt-3 pt-3 border-top\">\r\n                <h6>Thng tin hon thnh</h6>\r\n                <div className=\"mb-2\"><strong>Hon thnh lc:</strong> {formatDate(selectedTask.task.completed_at)}</div>\r\n                <div className=\"mb-2\"><strong>Ngi hon thnh:</strong> {selectedTask.task.completed_by_name}</div>\r\n                {selectedTask.task.completion_notes && (\r\n                  <div className=\"mb-2\"><strong>Ghi ch:</strong> {selectedTask.task.completion_notes}</div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {selectedTask.comments && selectedTask.comments.length > 0 && (\r\n              <div className=\"mt-3 pt-3 border-top\">\r\n                <h6>Bnh lun ({selectedTask.comments.length})</h6>\r\n                {selectedTask.comments.map(comment => (\r\n                  <div key={comment.id} className=\"mb-2 p-2 bg-light rounded\">\r\n                    <small className=\"text-muted\">{comment.user_name} - {formatDate(comment.created_at)}</small>\r\n                    <div>{comment.comment}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={() => setShowDetailModal(false)}>\r\n              ng\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TaskManager;\r\n","/**\r\n * Project Detail Page - KHO MVG\r\n * Chi tit d n vi Google Maps v qun l zones\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Button, Badge, Tab, Nav, Table, Modal, Alert } from 'react-bootstrap';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\r\nimport ProjectMapView from '../../components/Map/ProjectMapView';\r\nimport TaskManager from '../../components/Tasks/TaskManager';\r\n\r\nfunction ProjectDetail() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { hasPermission } = useAuth();\r\n  // const { showError } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [project, setProject] = useState(null);\r\n  const [zones, setZones] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [showZoneModal, setShowZoneModal] = useState(false);\r\n  const [selectedZone, setSelectedZone] = useState(null);\r\n\r\n  // Mock project data\r\n  const mockProject = {\r\n    id: parseInt(id),\r\n    name: 'Kho xng Bnh Dng',\r\n    code: 'KX-BD-001',\r\n    description: 'Khu kho xng hin i vi y  tin ch v h tng logistics.',\r\n    address: '123 ng ABC, Thun An, Bnh Dng',\r\n    province: 'Bnh Dng',\r\n    district: 'Thun An',\r\n    ward: 'Phng An Thnh',\r\n    latitude: 10.9045,\r\n    longitude: 106.7213,\r\n    status: 'operational',\r\n    total_area: 15000,\r\n    used_area: 12000,\r\n    available_area: 3000,\r\n    fixed_area: 500,\r\n    owner_info: {\r\n      name: 'Cng ty TNHH ABC',\r\n      phone: '0123456789',\r\n      email: 'contact@abc.com'\r\n    },\r\n    legal_documents: {\r\n      business_license: 'GP-123456789',\r\n      construction_permit: 'XD-987654321',\r\n      fire_safety_cert: 'PCCC-111222333'\r\n    },\r\n    created_at: '2024-01-15',\r\n    created_by_username: 'admin'\r\n  };\r\n\r\n  const mockZones = [\r\n    {\r\n      id: 1,\r\n      zone_code: 'A1',\r\n      zone_name: 'Khu vc A1',\r\n      area: 500,\r\n      status: 'rented',\r\n      rental_price: 150000,\r\n      tenant_info: {\r\n        customer_code: 'KH001',\r\n        company_name: 'Cng ty XYZ',\r\n        contact_person: 'Nguyn Vn A',\r\n        contract_number: 'HD240001',\r\n        end_date: '2024-12-31'\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      zone_code: 'A2',\r\n      zone_name: 'Khu vc A2',\r\n      area: 750,\r\n      status: 'available',\r\n      rental_price: 140000,\r\n      tenant_info: null\r\n    },\r\n    {\r\n      id: 3,\r\n      zone_code: 'B1',\r\n      zone_name: 'Khu vc B1',\r\n      area: 600,\r\n      status: 'deposited',\r\n      rental_price: 160000,\r\n      tenant_info: {\r\n        customer_code: 'KH002',\r\n        company_name: 'Cng ty DEF',\r\n        contact_person: 'Trn Th B',\r\n        contract_number: 'HD240002',\r\n        end_date: '2024-06-30'\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      zone_code: 'C1',\r\n      zone_name: 'Khu vc C1 - Vn phng',\r\n      area: 200,\r\n      status: 'maintenance',\r\n      rental_price: 0,\r\n      tenant_info: null\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Simulate API call\r\n    setTimeout(() => {\r\n      setProject(mockProject);\r\n      setZones(mockZones);\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, [id, mockProject, mockZones]);\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusMap = {\r\n      operational: { variant: 'success', label: 'Hot ng' },\r\n      construction: { variant: 'warning', label: 'Xy dng' },\r\n      planning: { variant: 'info', label: 'Ln k hoch' },\r\n      maintenance: { variant: 'secondary', label: 'Bo tr' }\r\n    };\r\n    \r\n    const statusInfo = statusMap[status] || { variant: 'secondary', label: status };\r\n    return <Badge bg={statusInfo.variant}>{statusInfo.label}</Badge>;\r\n  };\r\n\r\n  const getZoneStatusBadge = (status) => {\r\n    const statusMap = {\r\n      available: { variant: 'danger', label: 'Cha cho thu', color: '#dc3545' },\r\n      rented: { variant: 'success', label: ' cho thu', color: '#28a745' },\r\n      deposited: { variant: 'warning', label: ' cc', color: '#ffc107' },\r\n      maintenance: { variant: 'secondary', label: 'Bo tr', color: '#6c757d' }\r\n    };\r\n    \r\n    const statusInfo = statusMap[status] || { variant: 'secondary', label: status, color: '#6c757d' };\r\n    return (\r\n      <Badge bg={statusInfo.variant} style={{ color: status === 'deposited' ? '#000' : '#fff' }}>\r\n        {statusInfo.label}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount).replace('', '');\r\n  };\r\n\r\n  const formatArea = (area) => {\r\n    return new Intl.NumberFormat('vi-VN').format(area) + ' m';\r\n  };\r\n\r\n  const handleZoneClick = (zone) => {\r\n    setSelectedZone(zone);\r\n    setShowZoneModal(true);\r\n  };\r\n\r\n  const calculateOccupancyStats = () => {\r\n    const stats = {\r\n      total: zones.length,\r\n      available: zones.filter(z => z.status === 'available').length,\r\n      rented: zones.filter(z => z.status === 'rented').length,\r\n      deposited: zones.filter(z => z.status === 'deposited').length,\r\n      maintenance: zones.filter(z => z.status === 'maintenance').length\r\n    };\r\n    \r\n    const totalArea = zones.reduce((sum, zone) => sum + zone.area, 0);\r\n    const rentedArea = zones.filter(z => z.status === 'rented').reduce((sum, zone) => sum + zone.area, 0);\r\n    const occupancyRate = totalArea > 0 ? Math.round((rentedArea / totalArea) * 100) : 0;\r\n    \r\n    return { ...stats, occupancyRate, totalArea, rentedArea };\r\n  };\r\n\r\n  const stats = calculateOccupancyStats();\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner text=\"ang ti thng tin d n...\" />;\r\n  }\r\n\r\n  if (!project) {\r\n    return (\r\n      <Container className=\"mt-5\">\r\n        <Alert variant=\"danger\" className=\"text-center\">\r\n          <h4>Khng tm thy d n</h4>\r\n          <p>D n vi ID {id} khng tn ti hoc  b xa.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate('/projects')}>\r\n            Quay li danh sch d n\r\n          </Button>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-start\">\r\n            <div>\r\n              <div className=\"d-flex align-items-center mb-2\">\r\n                <Button \r\n                  variant=\"outline-secondary\" \r\n                  size=\"sm\" \r\n                  className=\"me-3\"\r\n                  onClick={() => navigate('/projects')}\r\n                >\r\n                  <i className=\"fas fa-arrow-left\"></i>\r\n                </Button>\r\n                <div>\r\n                  <h2 className=\"mb-0\">{project.name}</h2>\r\n                  <div className=\"d-flex align-items-center mt-1\">\r\n                    <span className=\"text-muted me-3\">M: {project.code}</span>\r\n                    {getStatusBadge(project.status)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-muted mb-0\">{project.address}</p>\r\n            </div>\r\n            \r\n            <div className=\"d-flex gap-2\">\r\n              {hasPermission('project_update') && (\r\n                <Button variant=\"outline-primary\">\r\n                  <i className=\"fas fa-edit me-2\"></i>\r\n                  Chnh sa\r\n                </Button>\r\n              )}\r\n              <Button variant=\"outline-secondary\">\r\n                <i className=\"fas fa-download me-2\"></i>\r\n                Xut bo co\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Statistics Cards */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">Tng din tch</h6>\r\n                  <h4 className=\"mb-0 text-primary\">{formatArea(project.total_area)}</h4>\r\n                </div>\r\n                <i className=\"fas fa-expand-arrows-alt fa-2x text-primary opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">T l thu</h6>\r\n                  <h4 className=\"mb-0 text-success\">{stats.occupancyRate}%</h4>\r\n                </div>\r\n                <i className=\"fas fa-percentage fa-2x text-success opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">S kho</h6>\r\n                  <h4 className=\"mb-0 text-info\">{stats.total}</h4>\r\n                  <small className=\"text-muted\">{stats.rented}  thu</small>\r\n                </div>\r\n                <i className=\"fas fa-th-large fa-2x text-info opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">Doanh thu/thng</h6>\r\n                  <h4 className=\"mb-0 text-warning\">\r\n                    {formatCurrency(zones.filter(z => z.status === 'rented').reduce((sum, z) => sum + (z.rental_price * z.area), 0))}\r\n                  </h4>\r\n                </div>\r\n                <i className=\"fas fa-chart-line fa-2x text-warning opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Main Content */}\r\n      <Card className=\"border-0 shadow-sm\">\r\n        <Card.Header className=\"bg-white border-0\">\r\n          <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n            <Nav variant=\"tabs\" className=\"border-0\">\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"overview\">\r\n                  <i className=\"fas fa-info-circle me-2\"></i>\r\n                  Thng tin chung\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"zones\">\r\n                  <i className=\"fas fa-th-large me-2\"></i>\r\n                  Qun l kho ({zones.length})\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"map\">\r\n                  <i className=\"fas fa-map me-2\"></i>\r\n                  Bn \r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"tasks\">\r\n                  <i className=\"fas fa-tasks me-2\"></i>\r\n                  Cng vic\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"documents\">\r\n                  <i className=\"fas fa-folder me-2\"></i>\r\n                  H s php l\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav>\r\n          </Tab.Container>\r\n        </Card.Header>\r\n\r\n        <Card.Body>\r\n          <Tab.Container activeKey={activeTab}>\r\n            <Tab.Content>\r\n              {/* Overview Tab */}\r\n              <Tab.Pane eventKey=\"overview\">\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <h5 className=\"mb-3\">Thng tin d n</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tn d n:</strong> {project.name}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>M d n:</strong> {project.code}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>M t:</strong> {project.description}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>a ch:</strong> {project.address}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Tnh/Thnh:</strong> {project.province}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Trng thi:</strong> {getStatusBadge(project.status)}\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <h5 className=\"mb-3\">Thng tin ch s hu</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tn:</strong> {project.owner_info?.name}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>in thoi:</strong> {project.owner_info?.phone}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Email:</strong> {project.owner_info?.email}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h5 className=\"mb-3 mt-4\">Thng k din tch</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tng din tch:</strong> {formatArea(project.total_area)}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong> s dng:</strong> {formatArea(project.used_area)}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Cn trng:</strong> {formatArea(project.available_area)}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>C nh:</strong> {formatArea(project.fixed_area)}\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </Tab.Pane>\r\n\r\n              {/* Zones Tab */}\r\n              <Tab.Pane eventKey=\"zones\">\r\n                <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                  <h5 className=\"mb-0\">Danh sch kho</h5>\r\n                  <div className=\"d-flex gap-2\">\r\n                    <Button variant=\"outline-success\" size=\"sm\">\r\n                      <i className=\"fas fa-file-import me-2\"></i>\r\n                      Import bn v\r\n                    </Button>\r\n                    <Button variant=\"primary\" size=\"sm\">\r\n                      <i className=\"fas fa-plus me-2\"></i>\r\n                      Thm kho\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Zone Status Legend */}\r\n                <div className=\"mb-3\">\r\n                  <div className=\"d-flex gap-3 flex-wrap\">\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#dc3545', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\">Cha cho thu ({stats.available})</span>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#28a745', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\"> cho thu ({stats.rented})</span>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#ffc107', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\"> cc ({stats.deposited})</span>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#6c757d', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\">Bo tr ({stats.maintenance})</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"table-responsive\">\r\n                  <Table hover>\r\n                    <thead className=\"bg-light\">\r\n                      <tr>\r\n                        <th>M kho</th>\r\n                        <th>Din tch</th>\r\n                        <th>Trng thi</th>\r\n                        <th>Gi thu</th>\r\n                        <th>Khch thu</th>\r\n                        <th>Thao tc</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {zones.map((zone) => (\r\n                        <tr \r\n                          key={zone.id} \r\n                          style={{ cursor: 'pointer' }}\r\n                          onClick={() => handleZoneClick(zone)}\r\n                        >\r\n                          <td>\r\n                            <div>\r\n                              <div className=\"fw-bold\">{zone.zone_code}</div>\r\n                              <small className=\"text-muted\">{zone.zone_name}</small>\r\n                            </div>\r\n                          </td>\r\n                          <td>{formatArea(zone.area)}</td>\r\n                          <td>{getZoneStatusBadge(zone.status)}</td>\r\n                          <td>\r\n                            {zone.rental_price > 0 ? \r\n                              formatCurrency(zone.rental_price) + '/m/thng' : \r\n                              '-'\r\n                            }\r\n                          </td>\r\n                          <td>\r\n                            {zone.tenant_info ? (\r\n                              <div>\r\n                                <div className=\"fw-medium\">{zone.tenant_info.company_name}</div>\r\n                                <small className=\"text-muted\">{zone.tenant_info.contact_person}</small>\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-muted\">-</span>\r\n                            )}\r\n                          </td>\r\n                          <td>\r\n                            <Button \r\n                              variant=\"outline-primary\" \r\n                              size=\"sm\"\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleZoneClick(zone);\r\n                              }}\r\n                            >\r\n                              <i className=\"fas fa-eye\"></i>\r\n                            </Button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                </div>\r\n              </Tab.Pane>\r\n\r\n              {/* Map Tab */}\r\n              <Tab.Pane eventKey=\"map\">\r\n                <ProjectMapView\r\n                  project={project}\r\n                  zones={zones}\r\n                  onZoneClick={(zone) => {\r\n                    setSelectedZone(zone);\r\n                    setShowZoneModal(true);\r\n                  }}\r\n                  showLegend={true}\r\n                />\r\n              </Tab.Pane>\r\n\r\n              {/* Tasks Tab */}\r\n              <Tab.Pane eventKey=\"tasks\">\r\n                <TaskManager projectId={id} projectName={project?.name} />\r\n              </Tab.Pane>\r\n\r\n              {/* Documents Tab */}\r\n              <Tab.Pane eventKey=\"documents\">\r\n                <h5 className=\"mb-3\">H s php l</h5>\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Giy php kinh doanh:</strong> {project.legal_documents?.business_license || 'Cha c'}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Giy php xy dng:</strong> {project.legal_documents?.construction_permit || 'Cha c'}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Chng nhn PCCC:</strong> {project.legal_documents?.fire_safety_cert || 'Cha c'}\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <div className=\"text-center py-4\">\r\n                      <i className=\"fas fa-folder-open fa-3x text-muted mb-3\"></i>\r\n                      <p className=\"text-muted\">\r\n                        H thng qun l ti liu s c tch hp  y\r\n                      </p>\r\n                      <Button variant=\"outline-primary\">\r\n                        <i className=\"fas fa-upload me-2\"></i>\r\n                        Upload ti liu\r\n                      </Button>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </Tab.Pane>\r\n            </Tab.Content>\r\n          </Tab.Container>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Zone Detail Modal */}\r\n      <Modal show={showZoneModal} onHide={() => setShowZoneModal(false)} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            Chi tit Kho {selectedZone?.zone_code}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {selectedZone && (\r\n            <Row>\r\n              <Col md={6}>\r\n                <h6>Thng tin kho</h6>\r\n                <div className=\"info-group\">\r\n                  <div className=\"info-item\">\r\n                    <strong>M kho:</strong> {selectedZone.zone_code}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Tn:</strong> {selectedZone.zone_name}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Din tch:</strong> {formatArea(selectedZone.area)}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Trng thi:</strong> {getZoneStatusBadge(selectedZone.status)}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Gi thu:</strong> {selectedZone.rental_price > 0 ? formatCurrency(selectedZone.rental_price) + '/m/thng' : '-'}\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n              <Col md={6}>\r\n                <h6>Thng tin khch thu</h6>\r\n                {selectedZone.tenant_info ? (\r\n                  <div className=\"info-group\">\r\n                    <div className=\"info-item\">\r\n                      <strong>Cng ty:</strong> {selectedZone.tenant_info.company_name}\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <strong>Ngi lin h:</strong> {selectedZone.tenant_info.contact_person}\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <strong>S hp ng:</strong> {selectedZone.tenant_info.contract_number}\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <strong>Ngy ht hn:</strong> {new Date(selectedZone.tenant_info.end_date).toLocaleDateString('vi-VN')}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-muted\">Cha c khch thu</p>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowZoneModal(false)}>\r\n            ng\r\n          </Button>\r\n          {hasPermission('zone_update') && (\r\n            <Button variant=\"primary\">\r\n              Chnh sa kho\r\n            </Button>\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <style jsx>{`\r\n        .info-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 12px;\r\n        }\r\n\r\n        .info-item {\r\n          padding: 8px 0;\r\n          border-bottom: 1px solid #f0f0f0;\r\n        }\r\n\r\n        .info-item:last-child {\r\n          border-bottom: none;\r\n        }\r\n\r\n        .info-item strong {\r\n          color: #495057;\r\n          display: inline-block;\r\n          min-width: 120px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProjectDetail;"],"names":["mapContainerStyle","width","height","defaultCenter","lat","lng","mapOptions","disableDefaultUI","zoomControl","streetViewControl","mapTypeControl","fullscreenControl","clickableIcons","mapTypeId","tilt","_ref","center","zoom","children","onMapLoad","isLoaded","loadError","useJsApiLoader","googleMapsApiKey","libraries","setMap","React","onLoad","mapInstance","onUnmount","_jsxs","style","padding","textAlign","color","_jsx","message","display","GoogleMap","options","className","role","STATUS_COLORS","available","fillColor","strokeColor","label","rented","deposited","fixed_service","maintenance","zone","onClick","isSelected","showInfo","setShowInfo","infoPosition","setInfoPosition","paths","coordinates","coords","JSON","parse","Array","isArray","map","coord","parseFloat","latitude","longitude","error","console","getCenter","length","reduce","sum","p","colorConfig","status","polygonOptions","fillOpacity","strokeOpacity","strokeWeight","clickable","draggable","editable","geodesic","zIndex","_Fragment","Polygon","handleClick","onMouseOver","handleMouseOver","onMouseOut","handleMouseOut","InfoWindow","position","onCloseClick","maxWidth","zone_code","zone_name","concat","backgroundColor","fontSize","area","zone_type","rental_price","toLocaleString","customer_info","borderTop","name","phone","contract_end","Date","toLocaleDateString","facilities","Object","keys","entries","_ref2","key","value","LEGEND_ITEMS","icon","textColor","stats","item","textShadow","_window$google","_window$google$maps","project","zones","onZoneClick","showLegend","selectedZone","setSelectedZone","useState","mapCenter","setMapCenter","filteredZones","setFilteredZones","statusFilter","setStatusFilter","useEffect","filter","z","handleZoneClick","totalArea","fixedService","availableArea","rentedArea","total","occupancyRate","toFixed","address","onChange","e","target","GoogleMapWrapper","map_zoom","Marker","title","url","scaledSize","window","google","maps","Size","undefined","WarehouseZone","id","MapLegend","email","TASK_TYPES","FREQUENCIES","PRIORITIES","show","onHide","projectId","task","onSave","formData","setFormData","description","task_type","frequency","start_date","toISOString","split","due_date","assigned_to","priority","is_recurring","notify_before_days","users","setUsers","loading","setLoading","setError","loadUsers","async","token","localStorage","getItem","response","fetch","headers","data","json","success","handleChange","field","prev","_objectSpread","Modal","size","backdrop","Form","onSubmit","preventDefault","method","body","stringify","Header","closeButton","Title","Body","Alert","variant","dismissible","onClose","Row","Col","md","Group","Label","Control","type","placeholder","required","as","rows","Select","min","freq","user","full_name","Check","checked","max","parseInt","Text","Footer","Button","disabled","fire_safety","security","inspection","cleaning","equipment_check","other","tasks","onTaskClick","currentDate","setCurrentDate","getTasksForDate","date","dateStr","daysInMonth","startingDayOfWeek","year","month","getFullYear","getMonth","firstDay","getDate","getDay","getDaysInMonth","today","isToday","day","calendarDays","totalSlots","Math","ceil","i","dayTasks","push","isCurrentMonth","previousMonth","nextMonth","dayName","dayData","index","slice","typeInfo","Card","Badge","bg","STATUS_LABELS","pending","in_progress","completed","overdue","cancelled","PRIORITY_LABELS","low","medium","high","critical","_PRIORITY_LABELS$sele","_PRIORITY_LABELS$sele2","_STATUS_LABELS$select","_STATUS_LABELS$select2","projectName","setTasks","showForm","setShowForm","editingTask","setEditingTask","selectedTask","setSelectedTask","showDetailModal","setShowDetailModal","activeTab","setActiveTab","filters","setFilters","setStats","loadTasks","queryParams","URLSearchParams","calculateStats","taskList","t","handleViewDetail","taskId","formatDate","dateString","getTaskTypeInfo","handleCreateTask","Tab","Container","activeKey","onSelect","Nav","Item","Link","eventKey","val","_ref3","Content","Pane","Table","hover","_PRIORITY_LABELS$task","_STATUS_LABELS$task$s","_STATUS_LABELS$task$s2","daysUntil","dueDate","diffTime","getDaysUntilDue","substring","assigned_to_name","abs","notes","prompt","completion_notes","ok","handleCompleteTask","handleEditTask","confirm","handleDeleteTask","TaskCalendar","TaskForm","next_due_date","completed_at","completed_by_name","comments","comment","user_name","created_at","_project$owner_info","_project$owner_info2","_project$owner_info3","_project$legal_docume","_project$legal_docume2","_project$legal_docume3","useParams","navigate","useNavigate","hasPermission","useAuth","setProject","setZones","showZoneModal","setShowZoneModal","mockProject","code","province","district","ward","total_area","used_area","available_area","fixed_area","owner_info","legal_documents","business_license","construction_permit","fire_safety_cert","created_by_username","mockZones","tenant_info","customer_code","company_name","contact_person","contract_number","end_date","setTimeout","getStatusBadge","statusInfo","operational","construction","planning","getZoneStatusBadge","formatCurrency","amount","Intl","NumberFormat","currency","format","replace","formatArea","calculateOccupancyStats","round","LoadingSpinner","text","borderRadius","cursor","stopPropagation","ProjectMapView","TaskManager","jsx"],"ignoreList":[],"sourceRoot":""}