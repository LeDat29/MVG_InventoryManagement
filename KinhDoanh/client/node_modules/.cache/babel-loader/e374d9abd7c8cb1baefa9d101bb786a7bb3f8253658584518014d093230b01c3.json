{"ast":null,"code":"/**\r\n * Performance Monitor - KHO MVG\r\n * GiÃ¡m sÃ¡t hiá»‡u suáº¥t frontend vÃ  theo dÃµi metrics\r\n */\n\nclass PerformanceMonitor {\n  constructor() {\n    this.metrics = {\n      pageLoads: [],\n      apiCalls: [],\n      errors: [],\n      userActions: []\n    };\n    this.init();\n  }\n  init() {\n    // Monitor page load performance\n    window.addEventListener('load', () => {\n      this.recordPageLoad();\n    });\n\n    // Monitor API calls\n    this.interceptFetch();\n\n    // Monitor errors\n    window.addEventListener('error', event => {\n      this.recordError(event);\n    });\n\n    // Monitor React errors\n    window.addEventListener('unhandledrejection', event => {\n      this.recordError(event);\n    });\n  }\n  recordPageLoad() {\n    if (performance && performance.timing) {\n      const timing = performance.timing;\n      const metrics = {\n        timestamp: Date.now(),\n        loadTime: timing.loadEventEnd - timing.navigationStart,\n        domReady: timing.domContentLoadedEventEnd - timing.navigationStart,\n        firstPaint: this.getFirstPaint(),\n        url: window.location.pathname\n      };\n      this.metrics.pageLoads.push(metrics);\n      this.reportMetric('pageLoad', metrics);\n    }\n  }\n  getFirstPaint() {\n    if (performance && performance.getEntriesByType) {\n      const paintEntries = performance.getEntriesByType('paint');\n      const firstPaint = paintEntries.find(entry => entry.name === 'first-paint');\n      return firstPaint ? firstPaint.startTime : null;\n    }\n    return null;\n  }\n  interceptFetch() {\n    const originalFetch = window.fetch;\n    window.fetch = async (...args) => {\n      const startTime = performance.now();\n      const url = args[0];\n      try {\n        var _args$;\n        const response = await originalFetch(...args);\n        const endTime = performance.now();\n        this.recordApiCall({\n          url,\n          method: ((_args$ = args[1]) === null || _args$ === void 0 ? void 0 : _args$.method) || 'GET',\n          status: response.status,\n          duration: endTime - startTime,\n          timestamp: Date.now(),\n          success: response.ok\n        });\n        return response;\n      } catch (error) {\n        var _args$2;\n        const endTime = performance.now();\n        this.recordApiCall({\n          url,\n          method: ((_args$2 = args[1]) === null || _args$2 === void 0 ? void 0 : _args$2.method) || 'GET',\n          status: 0,\n          duration: endTime - startTime,\n          timestamp: Date.now(),\n          success: false,\n          error: error.message\n        });\n        throw error;\n      }\n    };\n  }\n  recordApiCall(metrics) {\n    this.metrics.apiCalls.push(metrics);\n\n    // Alert for slow API calls\n    if (metrics.duration > 3000) {\n      console.warn('ðŸŒ Slow API call detected:', metrics);\n    }\n    this.reportMetric('apiCall', metrics);\n  }\n  recordError(event) {\n    var _event$reason, _event$error, _event$reason2;\n    const errorData = {\n      timestamp: Date.now(),\n      message: event.message || ((_event$reason = event.reason) === null || _event$reason === void 0 ? void 0 : _event$reason.message),\n      stack: ((_event$error = event.error) === null || _event$error === void 0 ? void 0 : _event$error.stack) || ((_event$reason2 = event.reason) === null || _event$reason2 === void 0 ? void 0 : _event$reason2.stack),\n      url: window.location.pathname,\n      userAgent: navigator.userAgent,\n      type: event.type\n    };\n    this.metrics.errors.push(errorData);\n    this.reportMetric('error', errorData);\n  }\n  recordUserAction(action, data = {}) {\n    const actionData = {\n      timestamp: Date.now(),\n      action,\n      url: window.location.pathname,\n      ...data\n    };\n    this.metrics.userActions.push(actionData);\n    this.reportMetric('userAction', actionData);\n  }\n  reportMetric(type, data) {\n    // Disable metrics reporting temporarily to fix website access\n    return;\n\n    // Send to backend for analysis (only in production)\n    if (process.env.NODE_ENV === 'production') {\n      try {\n        fetch('/api/metrics', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            type,\n            data\n          })\n        }).catch(() => {\n          // Silent failure in production\n        });\n      } catch (error) {\n        // Silent failure\n      }\n    }\n  }\n  getMetricsSummary() {\n    return {\n      pageLoads: this.getPageLoadSummary(),\n      apiCalls: this.getApiCallSummary(),\n      errors: this.getErrorSummary(),\n      userActions: this.getUserActionSummary()\n    };\n  }\n  getPageLoadSummary() {\n    const loads = this.metrics.pageLoads;\n    if (loads.length === 0) return null;\n    const avgLoadTime = loads.reduce((sum, load) => sum + load.loadTime, 0) / loads.length;\n    const avgDomReady = loads.reduce((sum, load) => sum + load.domReady, 0) / loads.length;\n    return {\n      count: loads.length,\n      avgLoadTime: Math.round(avgLoadTime),\n      avgDomReady: Math.round(avgDomReady),\n      slowestPage: loads.reduce((slowest, current) => current.loadTime > slowest.loadTime ? current : slowest)\n    };\n  }\n  getApiCallSummary() {\n    const calls = this.metrics.apiCalls;\n    if (calls.length === 0) return null;\n    const avgDuration = calls.reduce((sum, call) => sum + call.duration, 0) / calls.length;\n    const errorRate = calls.filter(call => !call.success).length / calls.length;\n    return {\n      count: calls.length,\n      avgDuration: Math.round(avgDuration),\n      errorRate: Math.round(errorRate * 100),\n      slowestCall: calls.reduce((slowest, current) => current.duration > slowest.duration ? current : slowest)\n    };\n  }\n  getErrorSummary() {\n    return {\n      count: this.metrics.errors.length,\n      recent: this.metrics.errors.slice(-10),\n      byType: this.groupBy(this.metrics.errors, 'type')\n    };\n  }\n  getUserActionSummary() {\n    return {\n      count: this.metrics.userActions.length,\n      byAction: this.groupBy(this.metrics.userActions, 'action'),\n      recent: this.metrics.userActions.slice(-20)\n    };\n  }\n  groupBy(array, key) {\n    return array.reduce((groups, item) => {\n      const group = item[key] || 'unknown';\n      groups[group] = (groups[group] || 0) + 1;\n      return groups;\n    }, {});\n  }\n\n  // Debug methods\n  logMetrics() {\n    console.table(this.getMetricsSummary());\n  }\n  exportMetrics() {\n    const data = {\n      timestamp: new Date().toISOString(),\n      url: window.location.href,\n      userAgent: navigator.userAgent,\n      metrics: this.getMetricsSummary(),\n      raw: this.metrics\n    };\n    const blob = new Blob([JSON.stringify(data, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `metrics-${Date.now()}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n}\n\n// Create global instance\nconst performanceMonitor = new PerformanceMonitor();\n\n// Expose to window for debugging\nif (process.env.NODE_ENV === 'development') {\n  window.performanceMonitor = performanceMonitor;\n}\nexport default performanceMonitor;","map":{"version":3,"names":["PerformanceMonitor","constructor","metrics","pageLoads","apiCalls","errors","userActions","init","window","addEventListener","recordPageLoad","interceptFetch","event","recordError","performance","timing","timestamp","Date","now","loadTime","loadEventEnd","navigationStart","domReady","domContentLoadedEventEnd","firstPaint","getFirstPaint","url","location","pathname","push","reportMetric","getEntriesByType","paintEntries","find","entry","name","startTime","originalFetch","fetch","args","_args$","response","endTime","recordApiCall","method","status","duration","success","ok","error","_args$2","message","console","warn","_event$reason","_event$error","_event$reason2","errorData","reason","stack","userAgent","navigator","type","recordUserAction","action","data","actionData","process","env","NODE_ENV","headers","body","JSON","stringify","catch","getMetricsSummary","getPageLoadSummary","getApiCallSummary","getErrorSummary","getUserActionSummary","loads","length","avgLoadTime","reduce","sum","load","avgDomReady","count","Math","round","slowestPage","slowest","current","calls","avgDuration","call","errorRate","filter","slowestCall","recent","slice","byType","groupBy","byAction","array","key","groups","item","group","logMetrics","table","exportMetrics","toISOString","href","raw","blob","Blob","URL","createObjectURL","a","document","createElement","download","click","revokeObjectURL","performanceMonitor"],"sources":["C:/KinhDoanh/client/src/utils/performanceMonitor.js"],"sourcesContent":["/**\r\n * Performance Monitor - KHO MVG\r\n * GiÃ¡m sÃ¡t hiá»‡u suáº¥t frontend vÃ  theo dÃµi metrics\r\n */\r\n\r\nclass PerformanceMonitor {\r\n  constructor() {\r\n    this.metrics = {\r\n      pageLoads: [],\r\n      apiCalls: [],\r\n      errors: [],\r\n      userActions: []\r\n    };\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Monitor page load performance\r\n    window.addEventListener('load', () => {\r\n      this.recordPageLoad();\r\n    });\r\n\r\n    // Monitor API calls\r\n    this.interceptFetch();\r\n    \r\n    // Monitor errors\r\n    window.addEventListener('error', (event) => {\r\n      this.recordError(event);\r\n    });\r\n\r\n    // Monitor React errors\r\n    window.addEventListener('unhandledrejection', (event) => {\r\n      this.recordError(event);\r\n    });\r\n  }\r\n\r\n  recordPageLoad() {\r\n    if (performance && performance.timing) {\r\n      const timing = performance.timing;\r\n      const metrics = {\r\n        timestamp: Date.now(),\r\n        loadTime: timing.loadEventEnd - timing.navigationStart,\r\n        domReady: timing.domContentLoadedEventEnd - timing.navigationStart,\r\n        firstPaint: this.getFirstPaint(),\r\n        url: window.location.pathname\r\n      };\r\n      \r\n      this.metrics.pageLoads.push(metrics);\r\n      this.reportMetric('pageLoad', metrics);\r\n    }\r\n  }\r\n\r\n  getFirstPaint() {\r\n    if (performance && performance.getEntriesByType) {\r\n      const paintEntries = performance.getEntriesByType('paint');\r\n      const firstPaint = paintEntries.find(entry => entry.name === 'first-paint');\r\n      return firstPaint ? firstPaint.startTime : null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  interceptFetch() {\r\n    const originalFetch = window.fetch;\r\n    window.fetch = async (...args) => {\r\n      const startTime = performance.now();\r\n      const url = args[0];\r\n      \r\n      try {\r\n        const response = await originalFetch(...args);\r\n        const endTime = performance.now();\r\n        \r\n        this.recordApiCall({\r\n          url,\r\n          method: args[1]?.method || 'GET',\r\n          status: response.status,\r\n          duration: endTime - startTime,\r\n          timestamp: Date.now(),\r\n          success: response.ok\r\n        });\r\n        \r\n        return response;\r\n      } catch (error) {\r\n        const endTime = performance.now();\r\n        \r\n        this.recordApiCall({\r\n          url,\r\n          method: args[1]?.method || 'GET',\r\n          status: 0,\r\n          duration: endTime - startTime,\r\n          timestamp: Date.now(),\r\n          success: false,\r\n          error: error.message\r\n        });\r\n        \r\n        throw error;\r\n      }\r\n    };\r\n  }\r\n\r\n  recordApiCall(metrics) {\r\n    this.metrics.apiCalls.push(metrics);\r\n    \r\n    // Alert for slow API calls\r\n    if (metrics.duration > 3000) {\r\n      console.warn('ðŸŒ Slow API call detected:', metrics);\r\n    }\r\n    \r\n    this.reportMetric('apiCall', metrics);\r\n  }\r\n\r\n  recordError(event) {\r\n    const errorData = {\r\n      timestamp: Date.now(),\r\n      message: event.message || event.reason?.message,\r\n      stack: event.error?.stack || event.reason?.stack,\r\n      url: window.location.pathname,\r\n      userAgent: navigator.userAgent,\r\n      type: event.type\r\n    };\r\n    \r\n    this.metrics.errors.push(errorData);\r\n    this.reportMetric('error', errorData);\r\n  }\r\n\r\n  recordUserAction(action, data = {}) {\r\n    const actionData = {\r\n      timestamp: Date.now(),\r\n      action,\r\n      url: window.location.pathname,\r\n      ...data\r\n    };\r\n    \r\n    this.metrics.userActions.push(actionData);\r\n    this.reportMetric('userAction', actionData);\r\n  }\r\n\r\n  reportMetric(type, data) {\r\n    // Disable metrics reporting temporarily to fix website access\r\n    return;\r\n    \r\n    // Send to backend for analysis (only in production)\r\n    if (process.env.NODE_ENV === 'production') {\r\n      try {\r\n        fetch('/api/metrics', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ type, data }),\r\n        }).catch(() => {\r\n          // Silent failure in production\r\n        });\r\n      } catch (error) {\r\n        // Silent failure\r\n      }\r\n    }\r\n  }\r\n\r\n  getMetricsSummary() {\r\n    return {\r\n      pageLoads: this.getPageLoadSummary(),\r\n      apiCalls: this.getApiCallSummary(),\r\n      errors: this.getErrorSummary(),\r\n      userActions: this.getUserActionSummary()\r\n    };\r\n  }\r\n\r\n  getPageLoadSummary() {\r\n    const loads = this.metrics.pageLoads;\r\n    if (loads.length === 0) return null;\r\n    \r\n    const avgLoadTime = loads.reduce((sum, load) => sum + load.loadTime, 0) / loads.length;\r\n    const avgDomReady = loads.reduce((sum, load) => sum + load.domReady, 0) / loads.length;\r\n    \r\n    return {\r\n      count: loads.length,\r\n      avgLoadTime: Math.round(avgLoadTime),\r\n      avgDomReady: Math.round(avgDomReady),\r\n      slowestPage: loads.reduce((slowest, current) => \r\n        current.loadTime > slowest.loadTime ? current : slowest\r\n      )\r\n    };\r\n  }\r\n\r\n  getApiCallSummary() {\r\n    const calls = this.metrics.apiCalls;\r\n    if (calls.length === 0) return null;\r\n    \r\n    const avgDuration = calls.reduce((sum, call) => sum + call.duration, 0) / calls.length;\r\n    const errorRate = calls.filter(call => !call.success).length / calls.length;\r\n    \r\n    return {\r\n      count: calls.length,\r\n      avgDuration: Math.round(avgDuration),\r\n      errorRate: Math.round(errorRate * 100),\r\n      slowestCall: calls.reduce((slowest, current) => \r\n        current.duration > slowest.duration ? current : slowest\r\n      )\r\n    };\r\n  }\r\n\r\n  getErrorSummary() {\r\n    return {\r\n      count: this.metrics.errors.length,\r\n      recent: this.metrics.errors.slice(-10),\r\n      byType: this.groupBy(this.metrics.errors, 'type')\r\n    };\r\n  }\r\n\r\n  getUserActionSummary() {\r\n    return {\r\n      count: this.metrics.userActions.length,\r\n      byAction: this.groupBy(this.metrics.userActions, 'action'),\r\n      recent: this.metrics.userActions.slice(-20)\r\n    };\r\n  }\r\n\r\n  groupBy(array, key) {\r\n    return array.reduce((groups, item) => {\r\n      const group = item[key] || 'unknown';\r\n      groups[group] = (groups[group] || 0) + 1;\r\n      return groups;\r\n    }, {});\r\n  }\r\n\r\n  // Debug methods\r\n  logMetrics() {\r\n    console.table(this.getMetricsSummary());\r\n  }\r\n\r\n  exportMetrics() {\r\n    const data = {\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href,\r\n      userAgent: navigator.userAgent,\r\n      metrics: this.getMetricsSummary(),\r\n      raw: this.metrics\r\n    };\r\n    \r\n    const blob = new Blob([JSON.stringify(data, null, 2)], {\r\n      type: 'application/json'\r\n    });\r\n    \r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `metrics-${Date.now()}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  }\r\n}\r\n\r\n// Create global instance\r\nconst performanceMonitor = new PerformanceMonitor();\r\n\r\n// Expose to window for debugging\r\nif (process.env.NODE_ENV === 'development') {\r\n  window.performanceMonitor = performanceMonitor;\r\n}\r\n\r\nexport default performanceMonitor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}