{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\MVG_InventoryManagement\\\\KinhDoanh\\\\client\\\\src\\\\components\\\\Contracts\\\\ContractManager.js\",\n  _s = $RefreshSig$();\n/**\r\n * Contract Manager - Quản lý hợp đồng chính\r\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Container, Row, Col, Card, Button, Table, Badge, Form, Modal, Tabs, Tab, Dropdown, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport LoadingSpinner from '../Common/LoadingSpinner';\nimport ContractCreator from './ContractCreator';\nimport contractService from '../../services/contractService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContractManager = ({\n  initialOpenCreate = false,\n  initialCustomerId = ''\n}) => {\n  _s();\n  const {\n    hasPermission\n  } = useAuth();\n  const {\n    showSuccess,\n    showError\n  } = useNotification();\n  const [loading, setLoading] = useState(true);\n  const [contracts, setContracts] = useState([]);\n  const [filteredContracts, setFilteredContracts] = useState([]);\n  const [showCreateModal, setShowCreateModal] = useState(!!initialOpenCreate);\n  const [selectedContract, setSelectedContract] = useState(null);\n  const [selectedRowCustomerId, setSelectedRowCustomerId] = useState('');\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [renderError, setRenderError] = useState(null);\n  const [filters, setFilters] = useState({\n    search: '',\n    status: '',\n    workflow_stage: '',\n    start_date_from: '',\n    start_date_to: ''\n  });\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    pages: 0\n  });\n\n  // Contract statuses with colors\n  const contractStatuses = {\n    draft: {\n      label: 'Bản nháp',\n      variant: 'secondary'\n    },\n    review: {\n      label: 'Đang xem xét',\n      variant: 'info'\n    },\n    approved: {\n      label: 'Đã duyệt',\n      variant: 'success'\n    },\n    signed: {\n      label: 'Đã ký',\n      variant: 'primary'\n    },\n    active: {\n      label: 'Đang hiệu lực',\n      variant: 'success'\n    },\n    expired: {\n      label: 'Hết hạn',\n      variant: 'warning'\n    },\n    terminated: {\n      label: 'Chấm dứt',\n      variant: 'danger'\n    },\n    cancelled: {\n      label: 'Hủy bỏ',\n      variant: 'dark'\n    }\n  };\n  const workflowStages = {\n    preparation: {\n      label: 'Chuẩn bị',\n      icon: 'fas fa-edit'\n    },\n    legal_review: {\n      label: 'Xem xét pháp lý',\n      icon: 'fas fa-balance-scale'\n    },\n    approval: {\n      label: 'Phê duyệt',\n      icon: 'fas fa-check-circle'\n    },\n    signing: {\n      label: 'Ký kết',\n      icon: 'fas fa-signature'\n    },\n    execution: {\n      label: 'Thực thi',\n      icon: 'fas fa-play-circle'\n    }\n  };\n\n  // Load contracts\n  const loadContracts = useCallback(async (page = 1) => {\n    try {\n      setLoading(true);\n      const params = {\n        page: page.toString(),\n        limit: pagination.limit.toString(),\n        ...filters\n      };\n\n      // Remove empty filters\n      Object.keys(params).forEach(key => {\n        if (!params[key]) delete params[key];\n      });\n      const response = await contractService.getContracts(params);\n      if (response && response.success) {\n        const contractsData = Array.isArray(response.data.contracts) ? response.data.contracts : [];\n        const paginationData = response.data.pagination || {\n          page: 1,\n          limit: 20,\n          total: contractsData.length,\n          pages: 1\n        };\n        setContracts(contractsData);\n        setFilteredContracts(contractsData);\n        setPagination(paginationData);\n      } else {\n        showError(response.message || 'Không thể tải danh sách hợp đồng');\n      }\n    } catch (error) {\n      console.warn('Contract loading error:', (error === null || error === void 0 ? void 0 : error.message) || error);\n      // showError('Lỗi kết nối: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters, pagination.limit, showError]);\n  useEffect(() => {\n    if (hasPermission('contract_read')) {\n      loadContracts();\n    }\n  }, [hasPermission, loadContracts, pagination.page]);\n\n  // Handle filter changes\n  useEffect(() => {\n    // Debounce search to avoid too many API calls\n    const timeoutId = setTimeout(() => {\n      if (pagination.page === 1) {\n        loadContracts(1);\n      } else {\n        setPagination(prev => ({\n          ...prev,\n          page: 1\n        }));\n        loadContracts(1);\n      }\n    }, 500);\n    return () => clearTimeout(timeoutId);\n  }, [filters]);\n\n  // Format currency\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(amount);\n  };\n\n  // Calculate contract value\n  // const calculateContractValue = (contract) => {\n  //   const startDate = new Date(contract.start_date);\n  //   const endDate = new Date(contract.end_date);\n  //   const months = (endDate.getFullYear() - startDate.getFullYear()) * 12 + \n  //                  (endDate.getMonth() - startDate.getMonth());\n  //   return contract.rental_price * months;\n  // };\n\n  // Handle contract status change\n  const handleStatusChange = async (contractId, newStatus, newStage) => {\n    try {\n      var _contractStatuses$new;\n      const statusData = {\n        status: newStatus,\n        workflow_stage: newStage,\n        comment: `Chuyển trạng thái sang ${(_contractStatuses$new = contractStatuses[newStatus]) === null || _contractStatuses$new === void 0 ? void 0 : _contractStatuses$new.label}`\n      };\n      const response = await contractService.updateContractStatus(contractId, statusData);\n      if (response.success) {\n        showSuccess('Cập nhật trạng thái thành công');\n        loadContracts(pagination.page);\n      } else {\n        showError(response.message || 'Không thể cập nhật trạng thái');\n      }\n    } catch (error) {\n      showError('Lỗi kết nối: ' + error.message);\n    }\n  };\n\n  // View contract details\n  const viewContractDetails = async contractId => {\n    try {\n      const response = await contractService.getContract(contractId);\n      if (response.success) {\n        setSelectedContract(response.data);\n        setShowDetailModal(true);\n      } else {\n        showError(response.message || 'Không thể tải chi tiết hợp đồng');\n      }\n    } catch (error) {\n      showError('Lỗi kết nối: ' + error.message);\n    }\n  };\n  if (!hasPermission('contract_read')) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning\",\n        children: \"B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp qu\\u1EA3n l\\xFD h\\u1EE3p \\u0111\\u1ED3ng.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-file-contract me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), \"Qu\\u1EA3n l\\xFD h\\u1EE3p \\u0111\\u1ED3ng\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), hasPermission('contract_create') && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => {\n              try {\n                const params = new URLSearchParams(window.location.search);\n                params.set('open', 'create');\n                if (selectedRowCustomerId) params.set('customer', selectedRowCustomerId);\n                const newUrl = `${window.location.pathname}?${params.toString()}`;\n                window.history.replaceState({}, '', newUrl);\n              } catch (e) {}\n              setShowCreateModal(true);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), \"T\\u1EA1o h\\u1EE3p \\u0111\\u1ED3ng m\\u1EDBi\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-filter me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), \"B\\u1ED9 l\\u1ECDc\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"T\\xECm ki\\u1EBFm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    placeholder: \"S\\u1ED1 H\\u0110, t\\xEAn kh\\xE1ch h\\xE0ng...\",\n                    value: filters.search,\n                    onChange: e => setFilters(prev => ({\n                      ...prev,\n                      search: e.target.value\n                    }))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Tr\\u1EA1ng th\\xE1i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    value: filters.status,\n                    onChange: e => setFilters(prev => ({\n                      ...prev,\n                      status: e.target.value\n                    })),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"T\\u1EA5t c\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 23\n                    }, this), Object.entries(contractStatuses).map(([key, status]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: key,\n                      children: status.label\n                    }, key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Giai \\u0111o\\u1EA1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    value: filters.workflow_stage,\n                    onChange: e => setFilters(prev => ({\n                      ...prev,\n                      workflow_stage: e.target.value\n                    })),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"T\\u1EA5t c\\u1EA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 23\n                    }, this), Object.entries(workflowStages).map(([key, stage]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: key,\n                      children: stage.label\n                    }, key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"T\\u1EEB ng\\xE0y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"date\",\n                    value: filters.start_date_from,\n                    onChange: e => setFilters(prev => ({\n                      ...prev,\n                      start_date_from: e.target.value\n                    }))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"\\u0110\\u1EBFn ng\\xE0y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"date\",\n                    value: filters.start_date_to,\n                    onChange: e => setFilters(prev => ({\n                      ...prev,\n                      start_date_to: e.target.value\n                    }))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 1,\n                className: \"d-flex align-items-end\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  onClick: () => setFilters({\n                    search: '',\n                    status: '',\n                    workflow_stage: '',\n                    start_date_from: '',\n                    start_date_to: ''\n                  }),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-undo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: [\"Danh s\\xE1ch h\\u1EE3p \\u0111\\u1ED3ng (\", pagination.total, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-primary\",\n                size: \"sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-download me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this), \"Xu\\u1EA5t Excel\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-secondary\",\n                size: \"sm\",\n                onClick: () => loadContracts(pagination.page),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-sync-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"p-0\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-4\",\n              children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this) : renderError ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-danger\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"L\\u1ED7i hi\\u1EC3n th\\u1ECB danh s\\xE1ch h\\u1EE3p \\u0111\\u1ED3ng:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: String(renderError)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted\",\n                children: \"Vui l\\xF2ng t\\u1EA3i l\\u1EA1i trang ho\\u1EB7c li\\xEAn h\\u1EC7 admin.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Table, {\n              responsive: true,\n              hover: true,\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"table-light\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"S\\u1ED1 h\\u1EE3p \\u0111\\u1ED3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Kh\\xE1ch h\\xE0ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"D\\u1EF1 \\xE1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Di\\u1EC7n t\\xEDch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Gi\\xE1 thu\\xEA/th\\xE1ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Th\\u1EDDi h\\u1EA1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Tr\\u1EA1ng th\\xE1i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Giai \\u0111o\\u1EA1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Ng\\u01B0\\u1EDDi ph\\u1EE5 tr\\xE1ch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Thao t\\xE1c\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: (() => {\n                  try {\n                    return (filteredContracts || []).map(contract => {\n                      var _contract$warehouse_a, _contract$rental_pric, _contract$rental_pric2, _contractStatuses$con, _contractStatuses$con2, _workflowStages$contr, _workflowStages$contr2;\n                      return /*#__PURE__*/_jsxDEV(\"tr\", {\n                        className: String(selectedRowCustomerId) === String(contract.customer_id) ? 'table-active' : '',\n                        onClick: () => setSelectedRowCustomerId(contract.customer_id),\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: contract.contract_number\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 380,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 381,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: contract.created_at ? new Date(contract.created_at).toLocaleDateString('vi-VN') : ''\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 382,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 379,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: contract.customer_company_name || contract.company_name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 388,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 389,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                              className: \"text-muted\",\n                              children: contract.customer_name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 390,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 387,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 386,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: contract.project_name || 'Chưa phân bổ'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 395,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 396,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                              className: \"text-muted\",\n                              children: contract.warehouse_location\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 397,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 394,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 393,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [(_contract$warehouse_a = contract.warehouse_area) !== null && _contract$warehouse_a !== void 0 ? _contract$warehouse_a : 'N/A', \" m\\xB2\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 400,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [formatCurrency((_contract$rental_pric = contract.rental_price) !== null && _contract$rental_pric !== void 0 ? _contract$rental_pric : 0), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 405,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: contract.warehouse_area ? formatCurrency(((_contract$rental_pric2 = contract.rental_price) !== null && _contract$rental_pric2 !== void 0 ? _contract$rental_pric2 : 0) / contract.warehouse_area) + '/m²' : 'N/A'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 406,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 403,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [contract.start_date ? new Date(contract.start_date).toLocaleDateString('vi-VN') : '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 412,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: [\"\\u2192 \", contract.end_date ? new Date(contract.end_date).toLocaleDateString('vi-VN') : '']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 413,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 410,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(Badge, {\n                            bg: ((_contractStatuses$con = contractStatuses[contract.status]) === null || _contractStatuses$con === void 0 ? void 0 : _contractStatuses$con.variant) || 'secondary',\n                            children: ((_contractStatuses$con2 = contractStatuses[contract.status]) === null || _contractStatuses$con2 === void 0 ? void 0 : _contractStatuses$con2.label) || contract.status\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 418,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 417,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"d-flex align-items-center\",\n                            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                              className: `${(_workflowStages$contr = workflowStages[contract.workflow_stage]) === null || _workflowStages$contr === void 0 ? void 0 : _workflowStages$contr.icon} me-2`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 424,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                              children: (_workflowStages$contr2 = workflowStages[contract.workflow_stage]) === null || _workflowStages$contr2 === void 0 ? void 0 : _workflowStages$contr2.label\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 425,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 423,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 422,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: contract.assigned_to_name ? /*#__PURE__*/_jsxDEV(Badge, {\n                            bg: \"info\",\n                            children: contract.assigned_to_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 430,\n                            columnNumber: 33\n                          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-muted\",\n                            children: \"Ch\\u01B0a giao\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 432,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 428,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"d-flex gap-1\",\n                            children: [/*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                              overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n                                children: \"Xem chi ti\\u1EBFt\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 438,\n                                columnNumber: 44\n                              }, this),\n                              children: /*#__PURE__*/_jsxDEV(Button, {\n                                variant: \"outline-primary\",\n                                size: \"sm\",\n                                onClick: () => viewContractDetails(contract.id),\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-eye\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 445,\n                                  columnNumber: 37\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 440,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 437,\n                              columnNumber: 33\n                            }, this), hasPermission('contract_update') && /*#__PURE__*/_jsxDEV(Dropdown, {\n                              children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                                variant: \"outline-secondary\",\n                                size: \"sm\",\n                                id: `dropdown-${contract.id}`,\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-cog\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 456,\n                                  columnNumber: 39\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 451,\n                                columnNumber: 37\n                              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                                  onClick: () => handleStatusChange(contract.id, 'review', 'legal_review'),\n                                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fas fa-eye me-2\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 462,\n                                    columnNumber: 41\n                                  }, this), \"G\\u1EEDi xem x\\xE9t\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 459,\n                                  columnNumber: 39\n                                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                                  onClick: () => handleStatusChange(contract.id, 'approved', 'signing'),\n                                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fas fa-check me-2\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 468,\n                                    columnNumber: 41\n                                  }, this), \"Ph\\xEA duy\\u1EC7t\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 465,\n                                  columnNumber: 39\n                                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                                  onClick: () => handleStatusChange(contract.id, 'signed', 'execution'),\n                                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fas fa-signature me-2\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 474,\n                                    columnNumber: 41\n                                  }, this), \"\\u0110\\xE3 k\\xFD\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 471,\n                                  columnNumber: 39\n                                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 477,\n                                  columnNumber: 39\n                                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                                  className: \"text-danger\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fas fa-trash me-2\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 479,\n                                    columnNumber: 41\n                                  }, this), \"H\\u1EE7y b\\u1ECF\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 478,\n                                  columnNumber: 39\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 458,\n                                columnNumber: 37\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 450,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 436,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 435,\n                          columnNumber: 29\n                        }, this)]\n                      }, contract.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 375,\n                        columnNumber: 27\n                      }, this);\n                    });\n                  } catch (err) {\n                    console.error('Render error in ContractManager:', err);\n                    setRenderError((err === null || err === void 0 ? void 0 : err.message) || String(err));\n                    return null;\n                  }\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), pagination.pages > 1 && /*#__PURE__*/_jsxDEV(Card.Footer, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Hi\\u1EC3n th\\u1ECB \", (pagination.page - 1) * pagination.limit + 1, \" - \", Math.min(pagination.page * pagination.limit, pagination.total), \"trong t\\u1ED5ng s\\u1ED1 \", pagination.total, \" h\\u1EE3p \\u0111\\u1ED3ng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  size: \"sm\",\n                  disabled: pagination.page === 1,\n                  onClick: () => setPagination(prev => ({\n                    ...prev,\n                    page: prev.page - 1\n                  })),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-chevron-left\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"d-flex align-items-center px-3\",\n                  children: [\"Trang \", pagination.page, \" / \", pagination.pages]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  size: \"sm\",\n                  disabled: pagination.page === pagination.pages,\n                  onClick: () => setPagination(prev => ({\n                    ...prev,\n                    page: prev.page + 1\n                  })),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-chevron-right\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContractCreator, {\n      show: showCreateModal,\n      initialCustomerId: selectedRowCustomerId || initialCustomerId,\n      onHide: () => setShowCreateModal(false),\n      onSuccess: () => {\n        setShowCreateModal(false);\n        loadContracts(pagination.page);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }, this), selectedContract && /*#__PURE__*/_jsxDEV(Modal, {\n      show: showDetailModal,\n      onHide: () => setShowDetailModal(false),\n      size: \"xl\",\n      scrollable: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [\"Chi ti\\u1EBFt h\\u1EE3p \\u0111\\u1ED3ng \", selectedContract.contract.contract_number]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(ContractDetailView, {\n          contract: selectedContract\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n\n// Contract Detail Component  \n_s(ContractManager, \"cz7CoEJ/THdR1nj171KOamliKT4=\", false, function () {\n  return [useAuth, useNotification];\n});\n_c = ContractManager;\nconst ContractDetailView = ({\n  contract\n}) => {\n  var _contract$documents, _contract$documents2, _contract$workflow_hi;\n  return /*#__PURE__*/_jsxDEV(Tabs, {\n    defaultActiveKey: \"overview\",\n    id: \"contract-detail-tabs\",\n    children: [/*#__PURE__*/_jsxDEV(Tab, {\n      eventKey: \"overview\",\n      title: \"T\\u1ED5ng quan\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-3\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Th\\xF4ng tin h\\u1EE3p \\u0111\\u1ED3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              size: \"sm\",\n              children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"S\\u1ED1 h\\u1EE3p \\u0111\\u1ED3ng:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 585,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.contract_number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Ti\\xEAu \\u0111\\u1EC1:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 589,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.contract_title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 590,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"D\\u1EF1 \\xE1n:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 593,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 593,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.project_name || 'Chưa phân bổ'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Kho:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 597,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.warehouse_location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Di\\u1EC7n t\\xEDch:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 601,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [contract.contract.warehouse_area, \" m\\xB2\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 602,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Gi\\xE1 thu\\xEA:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 605,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 605,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [new Intl.NumberFormat('vi-VN').format(contract.contract.rental_price), \" VN\\u0110/th\\xE1ng\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Th\\xF4ng tin kh\\xE1ch h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              size: \"sm\",\n              children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"C\\xF4ng ty:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 616,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 616,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.customer_company_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 617,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Ng\\u01B0\\u1EDDi li\\xEAn h\\u1EC7:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 620,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.customer_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"\\u0110i\\u1EC7n tho\\u1EA1i:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.customer_phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Email:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 628,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 628,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.customer_email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 629,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"M\\xE3 s\\u1ED1 thu\\u1EBF:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 632,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: contract.contract.tax_code\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tab, {\n      eventKey: \"documents\",\n      title: `Tài liệu (${((_contract$documents = contract.documents) === null || _contract$documents === void 0 ? void 0 : _contract$documents.length) || 0})`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-3\",\n        children: ((_contract$documents2 = contract.documents) === null || _contract$documents2 === void 0 ? void 0 : _contract$documents2.length) > 0 ? /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"T\\xEAn t\\xE0i li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Lo\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Phi\\xEAn b\\u1EA3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Tr\\u1EA1ng th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Ng\\xE0y t\\u1EA1o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: contract.documents.map(doc => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: doc.document_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"info\",\n                  children: doc.category_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 660,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"v\", doc.version]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: doc.status === 'final' ? 'success' : doc.status === 'draft' ? 'secondary' : 'warning',\n                  children: doc.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(doc.created_at).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-primary\",\n                  size: \"sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-eye\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 675,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 21\n              }, this)]\n            }, doc.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-muted py-4\",\n          children: \"Ch\\u01B0a c\\xF3 t\\xE0i li\\u1EC7u n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tab, {\n      eventKey: \"history\",\n      title: \"L\\u1ECBch s\\u1EED\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-3\",\n        children: ((_contract$workflow_hi = contract.workflow_history) === null || _contract$workflow_hi === void 0 ? void 0 : _contract$workflow_hi.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timeline\",\n          children: contract.workflow_history.map(history => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timeline-item mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center\",\n                  style: {\n                    width: '40px',\n                    height: '40px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-user fa-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 699,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 698,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-grow-1 ms-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"mb-1\",\n                    children: history.action\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: new Date(history.performed_at).toLocaleString('vi-VN')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mb-1\",\n                  children: history.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 707,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: [\"B\\u1EDFi: \", history.performed_by_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 19\n            }, this)\n          }, history.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-muted py-4\",\n          children: \"Ch\\u01B0a c\\xF3 l\\u1ECBch s\\u1EED n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 576,\n    columnNumber: 5\n  }, this);\n};\n_c2 = ContractDetailView;\nexport default ContractManager;\nvar _c, _c2;\n$RefreshReg$(_c, \"ContractManager\");\n$RefreshReg$(_c2, \"ContractDetailView\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Row","Col","Card","Button","Table","Badge","Form","Modal","Tabs","Tab","Dropdown","OverlayTrigger","Tooltip","useAuth","useNotification","LoadingSpinner","ContractCreator","contractService","jsxDEV","_jsxDEV","ContractManager","initialOpenCreate","initialCustomerId","_s","hasPermission","showSuccess","showError","loading","setLoading","contracts","setContracts","filteredContracts","setFilteredContracts","showCreateModal","setShowCreateModal","selectedContract","setSelectedContract","selectedRowCustomerId","setSelectedRowCustomerId","showDetailModal","setShowDetailModal","renderError","setRenderError","filters","setFilters","search","status","workflow_stage","start_date_from","start_date_to","pagination","setPagination","page","limit","total","pages","contractStatuses","draft","label","variant","review","approved","signed","active","expired","terminated","cancelled","workflowStages","preparation","icon","legal_review","approval","signing","execution","loadContracts","params","toString","Object","keys","forEach","key","response","getContracts","success","contractsData","Array","isArray","data","paginationData","length","message","error","console","warn","timeoutId","setTimeout","prev","clearTimeout","formatCurrency","amount","Intl","NumberFormat","style","currency","format","handleStatusChange","contractId","newStatus","newStage","_contractStatuses$new","statusData","comment","updateContractStatus","viewContractDetails","getContract","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","URLSearchParams","window","location","set","newUrl","pathname","history","replaceState","e","Header","Body","md","Group","Label","Control","type","placeholder","value","onChange","target","Select","entries","map","stage","size","String","responsive","hover","contract","_contract$warehouse_a","_contract$rental_pric","_contract$rental_pric2","_contractStatuses$con","_contractStatuses$con2","_workflowStages$contr","_workflowStages$contr2","customer_id","contract_number","created_at","Date","toLocaleDateString","customer_company_name","company_name","customer_name","project_name","warehouse_location","warehouse_area","rental_price","start_date","end_date","bg","assigned_to_name","overlay","id","Toggle","Menu","Item","Divider","err","Footer","Math","min","disabled","show","onHide","onSuccess","scrollable","closeButton","Title","ContractDetailView","_c","_contract$documents","_contract$documents2","_contract$workflow_hi","defaultActiveKey","eventKey","title","contract_title","customer_phone","customer_email","tax_code","documents","doc","document_name","category_name","version","workflow_history","width","height","action","performed_at","toLocaleString","performed_by_name","_c2","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/src/components/Contracts/ContractManager.js"],"sourcesContent":["/**\r\n * Contract Manager - Quản lý hợp đồng chính\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { \r\n  Container, Row, Col, Card, Button, Table, Badge, Form, \r\n  Modal, Tabs, Tab, Dropdown, OverlayTrigger, Tooltip \r\n} from 'react-bootstrap';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport LoadingSpinner from '../Common/LoadingSpinner';\r\nimport ContractCreator from './ContractCreator';\r\nimport contractService from '../../services/contractService';\r\n\r\nconst ContractManager = ({ initialOpenCreate = false, initialCustomerId = '' }) => {\r\n  const { hasPermission } = useAuth();\r\n  const { showSuccess, showError } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [contracts, setContracts] = useState([]);\r\n  const [filteredContracts, setFilteredContracts] = useState([]);\r\n  const [showCreateModal, setShowCreateModal] = useState(!!initialOpenCreate);\r\n  const [selectedContract, setSelectedContract] = useState(null);\r\n  const [selectedRowCustomerId, setSelectedRowCustomerId] = useState('');\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [renderError, setRenderError] = useState(null);\r\n\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    status: '',\r\n    workflow_stage: '',\r\n    start_date_from: '',\r\n    start_date_to: ''\r\n  });\r\n\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n\r\n  // Contract statuses with colors\r\n  const contractStatuses = {\r\n    draft: { label: 'Bản nháp', variant: 'secondary' },\r\n    review: { label: 'Đang xem xét', variant: 'info' },\r\n    approved: { label: 'Đã duyệt', variant: 'success' },\r\n    signed: { label: 'Đã ký', variant: 'primary' },\r\n    active: { label: 'Đang hiệu lực', variant: 'success' },\r\n    expired: { label: 'Hết hạn', variant: 'warning' },\r\n    terminated: { label: 'Chấm dứt', variant: 'danger' },\r\n    cancelled: { label: 'Hủy bỏ', variant: 'dark' }\r\n  };\r\n\r\n  const workflowStages = {\r\n    preparation: { label: 'Chuẩn bị', icon: 'fas fa-edit' },\r\n    legal_review: { label: 'Xem xét pháp lý', icon: 'fas fa-balance-scale' },\r\n    approval: { label: 'Phê duyệt', icon: 'fas fa-check-circle' },\r\n    signing: { label: 'Ký kết', icon: 'fas fa-signature' },\r\n    execution: { label: 'Thực thi', icon: 'fas fa-play-circle' }\r\n  };\r\n\r\n  // Load contracts\r\n  const loadContracts = useCallback(async (page = 1) => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        page: page.toString(),\r\n        limit: pagination.limit.toString(),\r\n        ...filters\r\n      };\r\n\r\n      // Remove empty filters\r\n      Object.keys(params).forEach(key => {\r\n        if (!params[key]) delete params[key];\r\n      });\r\n\r\n      const response = await contractService.getContracts(params);\r\n      \r\n      if (response && response.success) {\r\n        const contractsData = Array.isArray(response.data.contracts) ? response.data.contracts : [];\r\n        const paginationData = response.data.pagination || { page: 1, limit: 20, total: contractsData.length, pages: 1 };\r\n\r\n        setContracts(contractsData);\r\n        setFilteredContracts(contractsData);\r\n        setPagination(paginationData);\r\n      } else {\r\n        showError(response.message || 'Không thể tải danh sách hợp đồng');\r\n      }\r\n    } catch (error) {\r\n      console.warn('Contract loading error:', error?.message || error);\r\n      // showError('Lỗi kết nối: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, pagination.limit, showError]);\r\n\r\n  useEffect(() => {\r\n    if (hasPermission('contract_read')) {\r\n      loadContracts();\r\n    }\r\n  }, [hasPermission, loadContracts, pagination.page]);\r\n\r\n  // Handle filter changes\r\n  useEffect(() => {\r\n    // Debounce search to avoid too many API calls\r\n    const timeoutId = setTimeout(() => {\r\n      if (pagination.page === 1) {\r\n        loadContracts(1);\r\n      } else {\r\n        setPagination(prev => ({ ...prev, page: 1 }));\r\n        loadContracts(1);\r\n      }\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [filters]);\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount);\r\n  };\r\n\r\n  // Calculate contract value\r\n  // const calculateContractValue = (contract) => {\r\n  //   const startDate = new Date(contract.start_date);\r\n  //   const endDate = new Date(contract.end_date);\r\n  //   const months = (endDate.getFullYear() - startDate.getFullYear()) * 12 + \r\n  //                  (endDate.getMonth() - startDate.getMonth());\r\n  //   return contract.rental_price * months;\r\n  // };\r\n\r\n  // Handle contract status change\r\n  const handleStatusChange = async (contractId, newStatus, newStage) => {\r\n    try {\r\n      const statusData = { \r\n        status: newStatus, \r\n        workflow_stage: newStage,\r\n        comment: `Chuyển trạng thái sang ${contractStatuses[newStatus]?.label}` \r\n      };\r\n\r\n      const response = await contractService.updateContractStatus(contractId, statusData);\r\n      \r\n      if (response.success) {\r\n        showSuccess('Cập nhật trạng thái thành công');\r\n        loadContracts(pagination.page);\r\n      } else {\r\n        showError(response.message || 'Không thể cập nhật trạng thái');\r\n      }\r\n    } catch (error) {\r\n      showError('Lỗi kết nối: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // View contract details\r\n  const viewContractDetails = async (contractId) => {\r\n    try {\r\n      const response = await contractService.getContract(contractId);\r\n      \r\n      if (response.success) {\r\n        setSelectedContract(response.data);\r\n        setShowDetailModal(true);\r\n      } else {\r\n        showError(response.message || 'Không thể tải chi tiết hợp đồng');\r\n      }\r\n    } catch (error) {\r\n      showError('Lỗi kết nối: ' + error.message);\r\n    }\r\n  };\r\n\r\n  if (!hasPermission('contract_read')) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <div className=\"alert alert-warning\">\r\n          Bạn không có quyền truy cập quản lý hợp đồng.\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-4\">\r\n      <Row>\r\n        <Col>\r\n          {/* Header */}\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h2>\r\n              <i className=\"fas fa-file-contract me-2\"></i>\r\n              Quản lý hợp đồng\r\n            </h2>\r\n            \r\n            {hasPermission('contract_create') && (\r\n              <Button \r\n                variant=\"primary\" \r\n                onClick={() => {\r\n                  try {\r\n                    const params = new URLSearchParams(window.location.search);\r\n                    params.set('open', 'create');\r\n                    if (selectedRowCustomerId) params.set('customer', selectedRowCustomerId);\r\n                    const newUrl = `${window.location.pathname}?${params.toString()}`;\r\n                    window.history.replaceState({}, '', newUrl);\r\n                  } catch (e) {}\r\n                  setShowCreateModal(true);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-plus me-2\"></i>\r\n                Tạo hợp đồng mới\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <Card className=\"mb-4\">\r\n            <Card.Header>\r\n              <h5 className=\"mb-0\">\r\n                <i className=\"fas fa-filter me-2\"></i>\r\n                Bộ lọc\r\n              </h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Row>\r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Tìm kiếm</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Số HĐ, tên khách hàng...\"\r\n                      value={filters.search}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        search: e.target.value \r\n                      }))}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Trạng thái</Form.Label>\r\n                    <Form.Select\r\n                      value={filters.status}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        status: e.target.value \r\n                      }))}\r\n                    >\r\n                      <option value=\"\">Tất cả</option>\r\n                      {Object.entries(contractStatuses).map(([key, status]) => (\r\n                        <option key={key} value={key}>{status.label}</option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Giai đoạn</Form.Label>\r\n                    <Form.Select\r\n                      value={filters.workflow_stage}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        workflow_stage: e.target.value \r\n                      }))}\r\n                    >\r\n                      <option value=\"\">Tất cả</option>\r\n                      {Object.entries(workflowStages).map(([key, stage]) => (\r\n                        <option key={key} value={key}>{stage.label}</option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Từ ngày</Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      value={filters.start_date_from}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        start_date_from: e.target.value \r\n                      }))}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={2}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Đến ngày</Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      value={filters.start_date_to}\r\n                      onChange={(e) => setFilters(prev => ({ \r\n                        ...prev, \r\n                        start_date_to: e.target.value \r\n                      }))}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                \r\n                <Col md={1} className=\"d-flex align-items-end\">\r\n                  <Button \r\n                    variant=\"outline-secondary\" \r\n                    onClick={() => setFilters({\r\n                      search: '',\r\n                      status: '',\r\n                      workflow_stage: '',\r\n                      start_date_from: '',\r\n                      start_date_to: ''\r\n                    })}\r\n                  >\r\n                    <i className=\"fas fa-undo\"></i>\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          {/* Contracts Table */}\r\n          <Card>\r\n            <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">\r\n                Danh sách hợp đồng ({pagination.total})\r\n              </h5>\r\n              \r\n              <div className=\"d-flex gap-2\">\r\n                <Button variant=\"outline-primary\" size=\"sm\">\r\n                  <i className=\"fas fa-download me-2\"></i>\r\n                  Xuất Excel\r\n                </Button>\r\n                <Button variant=\"outline-secondary\" size=\"sm\" onClick={() => loadContracts(pagination.page)}>\r\n                  <i className=\"fas fa-sync-alt\"></i>\r\n                </Button>\r\n              </div>\r\n            </Card.Header>\r\n            \r\n            <Card.Body className=\"p-0\">\r\n              {loading ? (\r\n                <div className=\"text-center p-4\">\r\n                  <LoadingSpinner />\r\n                </div>\r\n              ) : (\r\n                renderError ? (\r\n                  <div className=\"p-4\">\r\n                    <div className=\"alert alert-danger\">\r\n                      <strong>Lỗi hiển thị danh sách hợp đồng:</strong>\r\n                      <div>{String(renderError)}</div>\r\n                    </div>\r\n                    <div className=\"text-muted\">Vui lòng tải lại trang hoặc liên hệ admin.</div>\r\n                  </div>\r\n                ) : (\r\n                <Table responsive hover className=\"mb-0\">\r\n                  <thead className=\"table-light\">\r\n                    <tr>\r\n                      <th>Số hợp đồng</th>\r\n                      <th>Khách hàng</th>\r\n                      <th>Dự án</th>\r\n                      <th>Diện tích</th>\r\n                      <th>Giá thuê/tháng</th>\r\n                      <th>Thời hạn</th>\r\n                      <th>Trạng thái</th>\r\n                      <th>Giai đoạn</th>\r\n                      <th>Người phụ trách</th>\r\n                      <th>Thao tác</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {(() => {\r\n                      try {\r\n                        return (filteredContracts || []).map(contract => (\r\n                          <tr key={contract.id}\r\n                              className={String(selectedRowCustomerId) === String(contract.customer_id) ? 'table-active' : ''}\r\n                              onClick={() => setSelectedRowCustomerId(contract.customer_id)}\r\n                          >\r\n                            <td>\r\n                              <strong>{contract.contract_number}</strong>\r\n                              <br/>\r\n                              <small className=\"text-muted\">\r\n                                {contract.created_at ? new Date(contract.created_at).toLocaleDateString('vi-VN') : ''}\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <strong>{contract.customer_company_name || contract.company_name}</strong>\r\n                                <br/>\r\n                                <small className=\"text-muted\">{contract.customer_name}</small>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <strong>{contract.project_name || 'Chưa phân bổ'}</strong>\r\n                                <br/>\r\n                                <small className=\"text-muted\">{contract.warehouse_location}</small>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              {contract.warehouse_area ?? 'N/A'} m²\r\n                            </td>\r\n                            <td>\r\n                              {formatCurrency(contract.rental_price ?? 0)}\r\n                              <br/>\r\n                              <small className=\"text-muted\">\r\n                                {contract.warehouse_area ? formatCurrency((contract.rental_price ?? 0) / contract.warehouse_area) + '/m²' : 'N/A'}\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              {contract.start_date ? new Date(contract.start_date).toLocaleDateString('vi-VN') : ''}\r\n                              <br/>\r\n                              <small className=\"text-muted\">\r\n                                → {contract.end_date ? new Date(contract.end_date).toLocaleDateString('vi-VN') : ''}\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              <Badge bg={contractStatuses[contract.status]?.variant || 'secondary'}>\r\n                                {contractStatuses[contract.status]?.label || contract.status}\r\n                              </Badge>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex align-items-center\">\r\n                                <i className={`${workflowStages[contract.workflow_stage]?.icon} me-2`}></i>\r\n                                <small>{workflowStages[contract.workflow_stage]?.label}</small>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              {contract.assigned_to_name ? (\r\n                                <Badge bg=\"info\">{contract.assigned_to_name}</Badge>\r\n                              ) : (\r\n                                <span className=\"text-muted\">Chưa giao</span>\r\n                              )}\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"d-flex gap-1\">\r\n                                <OverlayTrigger \r\n                                  overlay={<Tooltip>Xem chi tiết</Tooltip>}\r\n                                >\r\n                                  <Button \r\n                                    variant=\"outline-primary\" \r\n                                    size=\"sm\"\r\n                                    onClick={() => viewContractDetails(contract.id)}\r\n                                  >\r\n                                    <i className=\"fas fa-eye\"></i>\r\n                                  </Button>\r\n                                </OverlayTrigger>\r\n                                \r\n                                {hasPermission('contract_update') && (\r\n                                  <Dropdown>\r\n                                    <Dropdown.Toggle \r\n                                      variant=\"outline-secondary\" \r\n                                      size=\"sm\"\r\n                                      id={`dropdown-${contract.id}`}\r\n                                    >\r\n                                      <i className=\"fas fa-cog\"></i>\r\n                                    </Dropdown.Toggle>\r\n                                    <Dropdown.Menu>\r\n                                      <Dropdown.Item \r\n                                        onClick={() => handleStatusChange(contract.id, 'review', 'legal_review')}\r\n                                      >\r\n                                        <i className=\"fas fa-eye me-2\"></i>\r\n                                        Gửi xem xét\r\n                                      </Dropdown.Item>\r\n                                      <Dropdown.Item \r\n                                        onClick={() => handleStatusChange(contract.id, 'approved', 'signing')}\r\n                                      >\r\n                                        <i className=\"fas fa-check me-2\"></i>\r\n                                        Phê duyệt\r\n                                      </Dropdown.Item>\r\n                                      <Dropdown.Item \r\n                                        onClick={() => handleStatusChange(contract.id, 'signed', 'execution')}\r\n                                      >\r\n                                        <i className=\"fas fa-signature me-2\"></i>\r\n                                        Đã ký\r\n                                      </Dropdown.Item>\r\n                                      <Dropdown.Divider />\r\n                                      <Dropdown.Item className=\"text-danger\">\r\n                                        <i className=\"fas fa-trash me-2\"></i>\r\n                                        Hủy bỏ\r\n                                      </Dropdown.Item>\r\n                                    </Dropdown.Menu>\r\n                                  </Dropdown>\r\n                                )}\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ));\r\n                      } catch (err) {\r\n                        console.error('Render error in ContractManager:', err);\r\n                        setRenderError(err?.message || String(err));\r\n                        return null;\r\n                      }\r\n                    })()}\r\n                  </tbody>\r\n                </Table>\r\n               )\r\n             )}\r\n            </Card.Body>\r\n            \r\n            {/* Pagination */}\r\n            {pagination.pages > 1 && (\r\n              <Card.Footer>\r\n                <div className=\"d-flex justify-content-between align-items-center\">\r\n                  <small className=\"text-muted\">\r\n                    Hiển thị {((pagination.page - 1) * pagination.limit) + 1} - {Math.min(pagination.page * pagination.limit, pagination.total)} \r\n                    trong tổng số {pagination.total} hợp đồng\r\n                  </small>\r\n                  \r\n                  <div className=\"d-flex gap-2\">\r\n                    <Button \r\n                      variant=\"outline-secondary\" \r\n                      size=\"sm\"\r\n                      disabled={pagination.page === 1}\r\n                      onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\r\n                    >\r\n                      <i className=\"fas fa-chevron-left\"></i>\r\n                    </Button>\r\n                    \r\n                    <span className=\"d-flex align-items-center px-3\">\r\n                      Trang {pagination.page} / {pagination.pages}\r\n                    </span>\r\n                    \r\n                    <Button \r\n                      variant=\"outline-secondary\" \r\n                      size=\"sm\"\r\n                      disabled={pagination.page === pagination.pages}\r\n                      onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\r\n                    >\r\n                      <i className=\"fas fa-chevron-right\"></i>\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </Card.Footer>\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Create Contract Modal */}\r\n      <ContractCreator\r\n        show={showCreateModal}\r\n        initialCustomerId={selectedRowCustomerId || initialCustomerId}\r\n        onHide={() => setShowCreateModal(false)}\r\n        onSuccess={() => {\r\n          setShowCreateModal(false);\r\n          loadContracts(pagination.page);\r\n        }}\r\n      />\r\n\r\n      {/* Contract Detail Modal */}\r\n      {selectedContract && (\r\n        <Modal \r\n          show={showDetailModal} \r\n          onHide={() => setShowDetailModal(false)} \r\n          size=\"xl\"\r\n          scrollable\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              Chi tiết hợp đồng {selectedContract.contract.contract_number}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <ContractDetailView contract={selectedContract} />\r\n          </Modal.Body>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Contract Detail Component  \r\nconst ContractDetailView = ({ contract }) => {\r\n  return (\r\n    <Tabs defaultActiveKey=\"overview\" id=\"contract-detail-tabs\">\r\n      <Tab eventKey=\"overview\" title=\"Tổng quan\">\r\n        <div className=\"pt-3\">\r\n          <Row>\r\n            <Col md={6}>\r\n              <h5>Thông tin hợp đồng</h5>\r\n              <Table size=\"sm\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td><strong>Số hợp đồng:</strong></td>\r\n                    <td>{contract.contract.contract_number}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Tiêu đề:</strong></td>\r\n                    <td>{contract.contract.contract_title}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Dự án:</strong></td>\r\n                    <td>{contract.contract.project_name || 'Chưa phân bổ'}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Kho:</strong></td>\r\n                    <td>{contract.contract.warehouse_location}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Diện tích:</strong></td>\r\n                    <td>{contract.contract.warehouse_area} m²</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Giá thuê:</strong></td>\r\n                    <td>{new Intl.NumberFormat('vi-VN').format(contract.contract.rental_price)} VNĐ/tháng</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n            <Col md={6}>\r\n              <h5>Thông tin khách hàng</h5>\r\n              <Table size=\"sm\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td><strong>Công ty:</strong></td>\r\n                    <td>{contract.contract.customer_company_name}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Người liên hệ:</strong></td>\r\n                    <td>{contract.contract.customer_name}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Điện thoại:</strong></td>\r\n                    <td>{contract.contract.customer_phone}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Email:</strong></td>\r\n                    <td>{contract.contract.customer_email}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td><strong>Mã số thuế:</strong></td>\r\n                    <td>{contract.contract.tax_code}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Tab>\r\n      \r\n      <Tab eventKey=\"documents\" title={`Tài liệu (${contract.documents?.length || 0})`}>\r\n        <div className=\"pt-3\">\r\n          {contract.documents?.length > 0 ? (\r\n            <Table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Tên tài liệu</th>\r\n                  <th>Loại</th>\r\n                  <th>Phiên bản</th>\r\n                  <th>Trạng thái</th>\r\n                  <th>Ngày tạo</th>\r\n                  <th>Thao tác</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {contract.documents.map(doc => (\r\n                  <tr key={doc.id}>\r\n                    <td>{doc.document_name}</td>\r\n                    <td>\r\n                      <Badge bg=\"info\">{doc.category_name}</Badge>\r\n                    </td>\r\n                    <td>v{doc.version}</td>\r\n                    <td>\r\n                      <Badge \r\n                        bg={doc.status === 'final' ? 'success' : \r\n                            doc.status === 'draft' ? 'secondary' : 'warning'}\r\n                      >\r\n                        {doc.status}\r\n                      </Badge>\r\n                    </td>\r\n                    <td>{new Date(doc.created_at).toLocaleDateString('vi-VN')}</td>\r\n                    <td>\r\n                      <Button variant=\"outline-primary\" size=\"sm\">\r\n                        <i className=\"fas fa-eye\"></i>\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          ) : (\r\n            <div className=\"text-center text-muted py-4\">\r\n              Chưa có tài liệu nào\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Tab>\r\n      \r\n      <Tab eventKey=\"history\" title=\"Lịch sử\">\r\n        <div className=\"pt-3\">\r\n          {contract.workflow_history?.length > 0 ? (\r\n            <div className=\"timeline\">\r\n              {contract.workflow_history.map(history => (\r\n                <div key={history.id} className=\"timeline-item mb-3\">\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      <div className=\"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center\" style={{width: '40px', height: '40px'}}>\r\n                        <i className=\"fas fa-user fa-sm\"></i>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-grow-1 ms-3\">\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <h6 className=\"mb-1\">{history.action}</h6>\r\n                        <small className=\"text-muted\">{new Date(history.performed_at).toLocaleString('vi-VN')}</small>\r\n                      </div>\r\n                      <p className=\"mb-1\">{history.comment}</p>\r\n                      <small className=\"text-muted\">Bởi: {history.performed_by_name}</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center text-muted py-4\">\r\n              Chưa có lịch sử nào\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Tab>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ContractManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}