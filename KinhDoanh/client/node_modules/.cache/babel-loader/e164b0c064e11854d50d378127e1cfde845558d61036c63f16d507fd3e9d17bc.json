{"ast":null,"code":"var _jsxFileName = \"C:\\\\KinhDoanh\\\\client\\\\src\\\\pages\\\\Customers\\\\index.js\",\n  _s = $RefreshSig$();\n/**\r\n * Customers Page - KHO MVG\r\n * Danh sách và quản lý khách hàng\r\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Container, Row, Col, Card, Button, Table, Badge, Form, Modal } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\nimport CustomerFormTabs from '../../components/Customers/CustomerFormTabs';\nimport customerService from '../../services/customerService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Customers() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    hasPermission\n  } = useAuth();\n  const {\n    showSuccess,\n    showError\n  } = useNotification();\n  const [loading, setLoading] = useState(true);\n  const [customers, setCustomers] = useState([]);\n  const [filteredCustomers, setFilteredCustomers] = useState([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingCustomer, setEditingCustomer] = useState(null);\n  const [formLoading, setFormLoading] = useState(false);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    pages: 0\n  });\n  const [filters, setFilters] = useState({\n    search: '',\n    customer_type: '',\n    credit_rating: ''\n  });\n\n  // Load customers from API\n  const loadCustomers = useCallback(async (page = 1) => {\n    try {\n      setLoading(true);\n      const params = {\n        page,\n        limit: pagination.limit,\n        ...filters\n      };\n\n      // Remove empty filters\n      Object.keys(params).forEach(key => {\n        if (!params[key]) delete params[key];\n      });\n      const response = await customerService.getCustomers(params);\n      setCustomers(response.data.customers);\n      setFilteredCustomers(response.data.customers);\n      setPagination(response.data.pagination);\n    } catch (error) {\n      // showError('Không thể tải danh sách khách hàng: ' + error.message);\n      console.warn('Customer loading error:', error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters, pagination.limit, showError]);\n  useEffect(() => {\n    if (hasPermission('customer_read')) {\n      loadCustomers(pagination.page);\n    }\n  }, [hasPermission, loadCustomers, pagination.page]);\n  useEffect(() => {\n    loadCustomers(pagination.page);\n  }, []);\n\n  // Handle filter changes\n  useEffect(() => {\n    // Debounce search to avoid too many API calls\n    const timeoutId = setTimeout(() => {\n      if (pagination.page === 1) {\n        loadCustomers(1);\n      } else {\n        setPagination(prev => ({\n          ...prev,\n          page: 1\n        }));\n        loadCustomers(1);\n      }\n    }, 500);\n    return () => clearTimeout(timeoutId);\n  }, [filters]);\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const getCreditRatingBadge = rating => {\n    const ratingMap = {\n      A: {\n        variant: 'success',\n        label: 'A - Tốt'\n      },\n      B: {\n        variant: 'primary',\n        label: 'B - Khá'\n      },\n      C: {\n        variant: 'warning',\n        label: 'C - Trung bình'\n      },\n      D: {\n        variant: 'danger',\n        label: 'D - Kém'\n      }\n    };\n    const ratingInfo = ratingMap[rating] || {\n      variant: 'secondary',\n      label: rating\n    };\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      bg: ratingInfo.variant,\n      children: ratingInfo.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }, this);\n  };\n  const getCustomerTypeBadge = type => {\n    return type === 'company' ? /*#__PURE__*/_jsxDEV(Badge, {\n      bg: \"info\",\n      children: \"Doanh nghi\\u1EC7p\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n      bg: \"secondary\",\n      children: \"C\\xE1 nh\\xE2n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(amount).replace('₫', 'đ');\n  };\n  const handleViewCustomer = customerId => {\n    navigate(`/customers/${customerId}`);\n  };\n  const handleCreateCustomer = () => {\n    if (!hasPermission('customer_create')) {\n      showError('Bạn không có quyền tạo khách hàng mới');\n      return;\n    }\n    setEditingCustomer(null);\n    setShowCreateModal(true);\n  };\n  const handleEditCustomer = customer => {\n    if (!hasPermission('customer_update')) {\n      showError('Bạn không có quyền chỉnh sửa khách hàng');\n      return;\n    }\n    setEditingCustomer(customer);\n    setShowEditModal(true);\n  };\n  const handleDeleteCustomer = async customer => {\n    if (!hasPermission('customer_delete')) {\n      showError('Bạn không có quyền xóa khách hàng');\n      return;\n    }\n    if (window.confirm(`Bạn có chắc chắn muốn xóa khách hàng \"${customer.company_name || customer.contact_person}\"?`)) {\n      try {\n        await customerService.deleteCustomer(customer.id);\n        showSuccess('Xóa khách hàng thành công');\n        loadCustomers(pagination.page);\n      } catch (error) {\n        showError('Không thể xóa khách hàng: ' + error.message);\n      }\n    }\n  };\n  const handleSaveCustomer = async customerData => {\n    try {\n      setFormLoading(true);\n      if (editingCustomer) {\n        await customerService.updateCustomer(editingCustomer.id, customerData);\n        showSuccess('Cập nhật khách hàng thành công');\n        setShowEditModal(false);\n      } else {\n        await customerService.createCustomer(customerData);\n        showSuccess('Tạo khách hàng mới thành công');\n        setShowCreateModal(false);\n      }\n      setEditingCustomer(null);\n      loadCustomers(pagination.page);\n    } catch (error) {\n      throw error; // Let the form handle the error\n    } finally {\n      setFormLoading(false);\n    }\n  };\n\n  // const handlePageChange = (newPage) => {\n  //   setPagination(prev => ({ ...prev, page: newPage }));\n  //   loadCustomers(newPage);\n  // };\n\n  const totalRevenue = customers.reduce((sum, customer) => sum + customer.monthly_revenue, 0);\n  const activeCustomers = customers.filter(c => c.active_contracts > 0).length;\n  const averageRevenue = customers.length > 0 ? totalRevenue / customers.length : 0;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      text: \"\\u0110ang t\\u1EA3i danh s\\xE1ch kh\\xE1ch h\\xE0ng...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-1\",\n              children: \"Qu\\u1EA3n l\\xFD Kh\\xE1ch h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-0\",\n              children: \"Qu\\u1EA3n l\\xFD th\\xF4ng tin kh\\xE1ch h\\xE0ng v\\xE0 h\\u1EE3p \\u0111\\u1ED3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), hasPermission('customer_create') && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCreateCustomer,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), \"Th\\xEAm kh\\xE1ch h\\xE0ng\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"text-muted mb-1\",\n                  children: \"T\\u1ED5ng kh\\xE1ch h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"mb-0 text-primary\",\n                  children: customers.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-users fa-2x text-primary opacity-25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"text-muted mb-1\",\n                  children: \"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"mb-0 text-success\",\n                  children: activeCustomers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user-check fa-2x text-success opacity-25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"text-muted mb-1\",\n                  children: \"T\\u1ED5ng doanh thu/th\\xE1ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"mb-0 text-warning\",\n                  children: formatCurrency(totalRevenue)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chart-line fa-2x text-warning opacity-25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"text-muted mb-1\",\n                  children: \"TB doanh thu/KH\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"mb-0 text-info\",\n                  children: formatCurrency(averageRevenue)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-calculator fa-2x text-info opacity-25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"border-0 shadow-sm mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"T\\xECm ki\\u1EBFm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"T\\xECm theo m\\xE3, t\\xEAn, S\\u0110T, email...\",\n                value: filters.search,\n                onChange: e => handleFilterChange('search', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Lo\\u1EA1i kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filters.customer_type,\n                onChange: e => handleFilterChange('customer_type', e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"T\\u1EA5t c\\u1EA3 lo\\u1EA1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"company\",\n                  children: \"Doanh nghi\\u1EC7p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"individual\",\n                  children: \"C\\xE1 nh\\xE2n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"X\\u1EBFp h\\u1EA1ng t\\xEDn d\\u1EE5ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filters.credit_rating,\n                onChange: e => handleFilterChange('credit_rating', e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"T\\u1EA5t c\\u1EA3 x\\u1EBFp h\\u1EA1ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"A\",\n                  children: \"A - T\\u1ED1t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"B\",\n                  children: \"B - Kh\\xE1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"C\",\n                  children: \"C - Trung b\\xECnh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"D\",\n                  children: \"D - K\\xE9m\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"border-0 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        className: \"bg-white border-0\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-list me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), \"Danh s\\xE1ch kh\\xE1ch h\\xE0ng (\", filteredCustomers.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            hover: true,\n            className: \"mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-light\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Kh\\xE1ch h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Li\\xEAn h\\u1EC7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Lo\\u1EA1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"X\\u1EBFp h\\u1EA1ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"H\\u1EE3p \\u0111\\u1ED3ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Doanh thu/th\\xE1ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Thao t\\xE1c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredCustomers.length > 0 ? filteredCustomers.map(customer => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: customer.company_name || customer.contact_person\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: customer.customer_code\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 27\n                    }, this), customer.company_name && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"text-muted\",\n                        children: customer.contact_person\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-phone fa-sm me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 29\n                      }, this), customer.phone]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 27\n                    }, this), customer.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-envelope fa-sm me-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: customer.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-muted\",\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: customer.address\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: getCustomerTypeBadge(customer.customer_type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: getCreditRatingBadge(customer.credit_rating)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"fw-medium text-success\",\n                        children: customer.active_contracts\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 385,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-muted\",\n                        children: [\"/\", customer.total_contracts]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 388,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"Hi\\u1EC7u l\\u1EF1c/T\\u1ED5ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold text-success\",\n                    children: formatCurrency(customer.monthly_revenue)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"btn-group\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-primary\",\n                      size: \"sm\",\n                      onClick: () => handleViewCustomer(customer.id),\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-eye\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 27\n                    }, this), hasPermission('customer_update') && /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-secondary\",\n                      size: \"sm\",\n                      onClick: () => handleEditCustomer(customer),\n                      title: \"Ch\\u1EC9nh s\\u1EEDa\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 29\n                    }, this), hasPermission('customer_delete') && /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-danger\",\n                      size: \"sm\",\n                      className: \"ms-1\",\n                      onClick: () => handleDeleteCustomer(customer),\n                      title: \"X\\xF3a kh\\xE1ch h\\xE0ng\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 29\n                    }, this), hasPermission('contract_create') && /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-success\",\n                      size: \"sm\",\n                      onClick: () => navigate(`/contracts/create?customer=${customer.id}`),\n                      title: \"T\\u1EA1o h\\u1EE3p \\u0111\\u1ED3ng m\\u1EDBi\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-file-contract\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 23\n                }, this)]\n              }, customer.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: 7,\n                  className: \"text-center py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-muted\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-search fa-2x mb-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Kh\\xF4ng t\\xECm th\\u1EA5y kh\\xE1ch h\\xE0ng n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi b\\u1ED9 l\\u1ECDc\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"bg-white border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-exclamation-triangle text-warning me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this), \"Kh\\xE1ch h\\xE0ng c\\u1EA7n ch\\xFA \\xFD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"X\\u1EBFp h\\u1EA1ng D (K\\xE9m)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"danger\",\n                children: customers.filter(c => c.credit_rating === 'D').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Kh\\xF4ng c\\xF3 h\\u1EE3p \\u0111\\u1ED3ng hi\\u1EC7u l\\u1EF1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"warning\",\n                children: customers.filter(c => c.active_contracts === 0).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Doanh thu = 0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"secondary\",\n                children: customers.filter(c => c.monthly_revenue === 0).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"border-0 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"bg-white border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chart-pie text-info me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 17\n              }, this), \"Th\\u1ED1ng k\\xEA nhanh\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Doanh nghi\\u1EC7p\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"info\",\n                children: [customers.filter(c => c.customer_type === 'company').length, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ms-1\",\n                  children: [\"(\", Math.round(customers.filter(c => c.customer_type === 'company').length / customers.length * 100), \"%)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"C\\xE1 nh\\xE2n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"secondary\",\n                children: [customers.filter(c => c.customer_type === 'individual').length, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ms-1\",\n                  children: [\"(\", Math.round(customers.filter(c => c.customer_type === 'individual').length / customers.length * 100), \"%)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"X\\u1EBFp h\\u1EA1ng A (T\\u1ED1t)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"success\",\n                children: customers.filter(c => c.credit_rating === 'A').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showCreateModal,\n      onHide: () => setShowCreateModal(false),\n      size: \"xl\",\n      scrollable: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Th\\xEAm kh\\xE1ch h\\xE0ng m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: '80vh',\n            overflowY: 'auto',\n            padding: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(CustomerFormTabs, {\n            customer: null,\n            onSave: handleSaveCustomer,\n            onCancel: () => setShowCreateModal(false),\n            isLoading: formLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showEditModal,\n      onHide: () => setShowEditModal(false),\n      size: \"xl\",\n      scrollable: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Ch\\u1EC9nh s\\u1EEDa kh\\xE1ch h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: '80vh',\n            overflowY: 'auto',\n            padding: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(CustomerFormTabs, {\n            customer: editingCustomer,\n            onSave: handleSaveCustomer,\n            onCancel: () => setShowEditModal(false),\n            isLoading: formLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n_s(Customers, \"pgg5OLMBjVOQugIX3Rtob8Ia0zI=\", false, function () {\n  return [useNavigate, useAuth, useNotification];\n});\n_c = Customers;\nexport default Customers;\nvar _c;\n$RefreshReg$(_c, \"Customers\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Row","Col","Card","Button","Table","Badge","Form","Modal","useNavigate","useAuth","useNotification","LoadingSpinner","CustomerFormTabs","customerService","jsxDEV","_jsxDEV","Customers","_s","navigate","hasPermission","showSuccess","showError","loading","setLoading","customers","setCustomers","filteredCustomers","setFilteredCustomers","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","editingCustomer","setEditingCustomer","formLoading","setFormLoading","pagination","setPagination","page","limit","total","pages","filters","setFilters","search","customer_type","credit_rating","loadCustomers","params","Object","keys","forEach","key","response","getCustomers","data","error","console","warn","message","timeoutId","setTimeout","prev","clearTimeout","handleFilterChange","value","getCreditRatingBadge","rating","ratingMap","A","variant","label","B","C","D","ratingInfo","bg","children","fileName","_jsxFileName","lineNumber","columnNumber","getCustomerTypeBadge","type","formatCurrency","amount","Intl","NumberFormat","style","currency","format","replace","handleViewCustomer","customerId","handleCreateCustomer","handleEditCustomer","customer","handleDeleteCustomer","window","confirm","company_name","contact_person","deleteCustomer","id","handleSaveCustomer","customerData","updateCustomer","createCustomer","totalRevenue","reduce","sum","monthly_revenue","activeCustomers","filter","c","active_contracts","length","averageRevenue","text","fluid","className","onClick","md","Body","Group","Label","Control","placeholder","onChange","e","target","Select","Header","hover","map","customer_code","phone","email","address","total_contracts","size","title","colSpan","Math","round","show","onHide","scrollable","closeButton","Title","maxHeight","overflowY","padding","onSave","onCancel","isLoading","_c","$RefreshReg$"],"sources":["C:/KinhDoanh/client/src/pages/Customers/index.js"],"sourcesContent":["/**\r\n * Customers Page - KHO MVG\r\n * Danh sách và quản lý khách hàng\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Container, Row, Col, Card, Button, Table, Badge, Form, Modal } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\r\nimport CustomerFormTabs from '../../components/Customers/CustomerFormTabs';\r\nimport customerService from '../../services/customerService';\r\n\r\nfunction Customers() {\r\n  const navigate = useNavigate();\r\n  const { hasPermission } = useAuth();\r\n  const { showSuccess, showError } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [filteredCustomers, setFilteredCustomers] = useState([]);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editingCustomer, setEditingCustomer] = useState(null);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    customer_type: '',\r\n    credit_rating: ''\r\n  });\r\n\r\n  // Load customers from API\r\n  const loadCustomers = useCallback(async (page = 1) => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        page,\r\n        limit: pagination.limit,\r\n        ...filters\r\n      };\r\n\r\n      // Remove empty filters\r\n      Object.keys(params).forEach(key => {\r\n        if (!params[key]) delete params[key];\r\n      });\r\n\r\n      const response = await customerService.getCustomers(params);\r\n      \r\n      setCustomers(response.data.customers);\r\n      setFilteredCustomers(response.data.customers);\r\n      setPagination(response.data.pagination);\r\n    } catch (error) {\r\n      // showError('Không thể tải danh sách khách hàng: ' + error.message);\r\n      console.warn('Customer loading error:', error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, pagination.limit, showError]);\r\n\r\n  useEffect(() => {\r\n    if (hasPermission('customer_read')) {\r\n      loadCustomers(pagination.page);\r\n    }\r\n  }, [hasPermission, loadCustomers, pagination.page]);\r\n\r\n  useEffect(() => {\r\n    loadCustomers(pagination.page);\r\n  }, []);\r\n\r\n  // Handle filter changes\r\n  useEffect(() => {\r\n    // Debounce search to avoid too many API calls\r\n    const timeoutId = setTimeout(() => {\r\n      if (pagination.page === 1) {\r\n        loadCustomers(1);\r\n      } else {\r\n        setPagination(prev => ({ ...prev, page: 1 }));\r\n        loadCustomers(1);\r\n      }\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [filters]);\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n  };\r\n\r\n  const getCreditRatingBadge = (rating) => {\r\n    const ratingMap = {\r\n      A: { variant: 'success', label: 'A - Tốt' },\r\n      B: { variant: 'primary', label: 'B - Khá' },\r\n      C: { variant: 'warning', label: 'C - Trung bình' },\r\n      D: { variant: 'danger', label: 'D - Kém' }\r\n    };\r\n    \r\n    const ratingInfo = ratingMap[rating] || { variant: 'secondary', label: rating };\r\n    return <Badge bg={ratingInfo.variant}>{ratingInfo.label}</Badge>;\r\n  };\r\n\r\n  const getCustomerTypeBadge = (type) => {\r\n    return type === 'company' ? \r\n      <Badge bg=\"info\">Doanh nghiệp</Badge> : \r\n      <Badge bg=\"secondary\">Cá nhân</Badge>;\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount).replace('₫', 'đ');\r\n  };\r\n\r\n  const handleViewCustomer = (customerId) => {\r\n    navigate(`/customers/${customerId}`);\r\n  };\r\n\r\n  const handleCreateCustomer = () => {\r\n    if (!hasPermission('customer_create')) {\r\n      showError('Bạn không có quyền tạo khách hàng mới');\r\n      return;\r\n    }\r\n    setEditingCustomer(null);\r\n    setShowCreateModal(true);\r\n  };\r\n\r\n  const handleEditCustomer = (customer) => {\r\n    if (!hasPermission('customer_update')) {\r\n      showError('Bạn không có quyền chỉnh sửa khách hàng');\r\n      return;\r\n    }\r\n    setEditingCustomer(customer);\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  const handleDeleteCustomer = async (customer) => {\r\n    if (!hasPermission('customer_delete')) {\r\n      showError('Bạn không có quyền xóa khách hàng');\r\n      return;\r\n    }\r\n\r\n    if (window.confirm(`Bạn có chắc chắn muốn xóa khách hàng \"${customer.company_name || customer.contact_person}\"?`)) {\r\n      try {\r\n        await customerService.deleteCustomer(customer.id);\r\n        showSuccess('Xóa khách hàng thành công');\r\n        loadCustomers(pagination.page);\r\n      } catch (error) {\r\n        showError('Không thể xóa khách hàng: ' + error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSaveCustomer = async (customerData) => {\r\n    try {\r\n      setFormLoading(true);\r\n      \r\n      if (editingCustomer) {\r\n        await customerService.updateCustomer(editingCustomer.id, customerData);\r\n        showSuccess('Cập nhật khách hàng thành công');\r\n        setShowEditModal(false);\r\n      } else {\r\n        await customerService.createCustomer(customerData);\r\n        showSuccess('Tạo khách hàng mới thành công');\r\n        setShowCreateModal(false);\r\n      }\r\n      \r\n      setEditingCustomer(null);\r\n      loadCustomers(pagination.page);\r\n    } catch (error) {\r\n      throw error; // Let the form handle the error\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  // const handlePageChange = (newPage) => {\r\n  //   setPagination(prev => ({ ...prev, page: newPage }));\r\n  //   loadCustomers(newPage);\r\n  // };\r\n\r\n  const totalRevenue = customers.reduce((sum, customer) => sum + customer.monthly_revenue, 0);\r\n  const activeCustomers = customers.filter(c => c.active_contracts > 0).length;\r\n  const averageRevenue = customers.length > 0 ? totalRevenue / customers.length : 0;\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner text=\"Đang tải danh sách khách hàng...\" />;\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"p-4\">\r\n      {/* Page Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <h2 className=\"mb-1\">Quản lý Khách hàng</h2>\r\n              <p className=\"text-muted mb-0\">\r\n                Quản lý thông tin khách hàng và hợp đồng\r\n              </p>\r\n            </div>\r\n            {hasPermission('customer_create') && (\r\n              <Button variant=\"primary\" onClick={handleCreateCustomer}>\r\n                <i className=\"fas fa-plus me-2\"></i>\r\n                Thêm khách hàng\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Statistics Cards */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={3} className=\"mb-3\">\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">Tổng khách hàng</h6>\r\n                  <h4 className=\"mb-0 text-primary\">{customers.length}</h4>\r\n                </div>\r\n                <i className=\"fas fa-users fa-2x text-primary opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3} className=\"mb-3\">\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">Đang hoạt động</h6>\r\n                  <h4 className=\"mb-0 text-success\">{activeCustomers}</h4>\r\n                </div>\r\n                <i className=\"fas fa-user-check fa-2x text-success opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3} className=\"mb-3\">\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">Tổng doanh thu/tháng</h6>\r\n                  <h4 className=\"mb-0 text-warning\">{formatCurrency(totalRevenue)}</h4>\r\n                </div>\r\n                <i className=\"fas fa-chart-line fa-2x text-warning opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3} className=\"mb-3\">\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <h6 className=\"text-muted mb-1\">TB doanh thu/KH</h6>\r\n                  <h4 className=\"mb-0 text-info\">{formatCurrency(averageRevenue)}</h4>\r\n                </div>\r\n                <i className=\"fas fa-calculator fa-2x text-info opacity-25\"></i>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"border-0 shadow-sm mb-4\">\r\n        <Card.Body>\r\n          <Row>\r\n            <Col md={4}>\r\n              <Form.Group>\r\n                <Form.Label>Tìm kiếm</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Tìm theo mã, tên, SĐT, email...\"\r\n                  value={filters.search}\r\n                  onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group>\r\n                <Form.Label>Loại khách hàng</Form.Label>\r\n                <Form.Select\r\n                  value={filters.customer_type}\r\n                  onChange={(e) => handleFilterChange('customer_type', e.target.value)}\r\n                >\r\n                  <option value=\"\">Tất cả loại</option>\r\n                  <option value=\"company\">Doanh nghiệp</option>\r\n                  <option value=\"individual\">Cá nhân</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group>\r\n                <Form.Label>Xếp hạng tín dụng</Form.Label>\r\n                <Form.Select\r\n                  value={filters.credit_rating}\r\n                  onChange={(e) => handleFilterChange('credit_rating', e.target.value)}\r\n                >\r\n                  <option value=\"\">Tất cả xếp hạng</option>\r\n                  <option value=\"A\">A - Tốt</option>\r\n                  <option value=\"B\">B - Khá</option>\r\n                  <option value=\"C\">C - Trung bình</option>\r\n                  <option value=\"D\">D - Kém</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Customers Table */}\r\n      <Card className=\"border-0 shadow-sm\">\r\n        <Card.Header className=\"bg-white border-0\">\r\n          <h5 className=\"mb-0\">\r\n            <i className=\"fas fa-list me-2\"></i>\r\n            Danh sách khách hàng ({filteredCustomers.length})\r\n          </h5>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-0\">\r\n          <div className=\"table-responsive\">\r\n            <Table hover className=\"mb-0\">\r\n              <thead className=\"bg-light\">\r\n                <tr>\r\n                  <th>Khách hàng</th>\r\n                  <th>Liên hệ</th>\r\n                  <th>Loại</th>\r\n                  <th>Xếp hạng</th>\r\n                  <th>Hợp đồng</th>\r\n                  <th>Doanh thu/tháng</th>\r\n                  <th>Thao tác</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredCustomers.length > 0 ? (\r\n                  filteredCustomers.map((customer) => (\r\n                    <tr key={customer.id}>\r\n                      <td>\r\n                        <div>\r\n                          <div className=\"fw-bold\">\r\n                            {customer.company_name || customer.contact_person}\r\n                          </div>\r\n                          <small className=\"text-muted\">{customer.customer_code}</small>\r\n                          {customer.company_name && (\r\n                            <div>\r\n                              <small className=\"text-muted\">{customer.contact_person}</small>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div>\r\n                          <div>\r\n                            <i className=\"fas fa-phone fa-sm me-1\"></i>\r\n                            {customer.phone}\r\n                          </div>\r\n                          {customer.email && (\r\n                            <div>\r\n                              <i className=\"fas fa-envelope fa-sm me-1\"></i>\r\n                              <small>{customer.email}</small>\r\n                            </div>\r\n                          )}\r\n                          <div className=\"text-muted\">\r\n                            <small>{customer.address}</small>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td>{getCustomerTypeBadge(customer.customer_type)}</td>\r\n                      <td>{getCreditRatingBadge(customer.credit_rating)}</td>\r\n                      <td>\r\n                        <div>\r\n                          <div>\r\n                            <span className=\"fw-medium text-success\">\r\n                              {customer.active_contracts}\r\n                            </span>\r\n                            <span className=\"text-muted\">/{customer.total_contracts}</span>\r\n                          </div>\r\n                          <small className=\"text-muted\">Hiệu lực/Tổng</small>\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"fw-bold text-success\">\r\n                          {formatCurrency(customer.monthly_revenue)}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"btn-group\">\r\n                          <Button\r\n                            variant=\"outline-primary\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleViewCustomer(customer.id)}\r\n                          >\r\n                            <i className=\"fas fa-eye\"></i>\r\n                          </Button>\r\n                          {hasPermission('customer_update') && (\r\n                            <Button\r\n                              variant=\"outline-secondary\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleEditCustomer(customer)}\r\n                              title=\"Chỉnh sửa\"\r\n                            >\r\n                              <i className=\"fas fa-edit\"></i>\r\n                            </Button>\r\n                          )}\r\n                          {hasPermission('customer_delete') && (\r\n                            <Button\r\n                              variant=\"outline-danger\"\r\n                              size=\"sm\"\r\n                              className=\"ms-1\"\r\n                              onClick={() => handleDeleteCustomer(customer)}\r\n                              title=\"Xóa khách hàng\"\r\n                            >\r\n                              <i className=\"fas fa-trash\"></i>\r\n                            </Button>\r\n                          )}\r\n                          {hasPermission('contract_create') && (\r\n                            <Button\r\n                              variant=\"outline-success\"\r\n                              size=\"sm\"\r\n                              onClick={() => navigate(`/contracts/create?customer=${customer.id}`)}\r\n                              title=\"Tạo hợp đồng mới\"\r\n                            >\r\n                              <i className=\"fas fa-file-contract\"></i>\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan={7} className=\"text-center py-4\">\r\n                      <div className=\"text-muted\">\r\n                        <i className=\"fas fa-search fa-2x mb-3\"></i>\r\n                        <p>Không tìm thấy khách hàng nào phù hợp với bộ lọc</p>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Quick Actions */}\r\n      <Row className=\"mt-4\">\r\n        <Col md={6}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Header className=\"bg-white border-0\">\r\n              <h6 className=\"mb-0\">\r\n                <i className=\"fas fa-exclamation-triangle text-warning me-2\"></i>\r\n                Khách hàng cần chú ý\r\n              </h6>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                <span>Xếp hạng D (Kém)</span>\r\n                <Badge bg=\"danger\">{customers.filter(c => c.credit_rating === 'D').length}</Badge>\r\n              </div>\r\n              <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                <span>Không có hợp đồng hiệu lực</span>\r\n                <Badge bg=\"warning\">{customers.filter(c => c.active_contracts === 0).length}</Badge>\r\n              </div>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <span>Doanh thu = 0</span>\r\n                <Badge bg=\"secondary\">{customers.filter(c => c.monthly_revenue === 0).length}</Badge>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        \r\n        <Col md={6}>\r\n          <Card className=\"border-0 shadow-sm\">\r\n            <Card.Header className=\"bg-white border-0\">\r\n              <h6 className=\"mb-0\">\r\n                <i className=\"fas fa-chart-pie text-info me-2\"></i>\r\n                Thống kê nhanh\r\n              </h6>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                <span>Doanh nghiệp</span>\r\n                <Badge bg=\"info\">\r\n                  {customers.filter(c => c.customer_type === 'company').length}\r\n                  <span className=\"ms-1\">\r\n                    ({Math.round(customers.filter(c => c.customer_type === 'company').length / customers.length * 100)}%)\r\n                  </span>\r\n                </Badge>\r\n              </div>\r\n              <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                <span>Cá nhân</span>\r\n                <Badge bg=\"secondary\">\r\n                  {customers.filter(c => c.customer_type === 'individual').length}\r\n                  <span className=\"ms-1\">\r\n                    ({Math.round(customers.filter(c => c.customer_type === 'individual').length / customers.length * 100)}%)\r\n                  </span>\r\n                </Badge>\r\n              </div>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <span>Xếp hạng A (Tốt)</span>\r\n                <Badge bg=\"success\">{customers.filter(c => c.credit_rating === 'A').length}</Badge>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Create Customer Modal */}\r\n      <Modal show={showCreateModal} onHide={() => setShowCreateModal(false)} size=\"xl\" scrollable>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Thêm khách hàng mới</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"p-0\">\r\n          <div style={{ maxHeight: '80vh', overflowY: 'auto', padding: '1rem' }}>\r\n            <CustomerFormTabs\r\n              customer={null}\r\n              onSave={handleSaveCustomer}\r\n              onCancel={() => setShowCreateModal(false)}\r\n              isLoading={formLoading}\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* Edit Customer Modal */}\r\n      <Modal show={showEditModal} onHide={() => setShowEditModal(false)} size=\"xl\" scrollable>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Chỉnh sửa khách hàng</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"p-0\">\r\n          <div style={{ maxHeight: '80vh', overflowY: 'auto', padding: '1rem' }}>\r\n            <CustomerFormTabs\r\n              customer={editingCustomer}\r\n              onSave={handleSaveCustomer}\r\n              onCancel={() => setShowEditModal(false)}\r\n              isLoading={formLoading}\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Customers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}