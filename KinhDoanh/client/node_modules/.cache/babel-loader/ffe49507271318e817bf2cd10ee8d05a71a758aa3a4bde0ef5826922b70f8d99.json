{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\MVG_InventoryManagement\\\\KinhDoanh\\\\client\\\\src\\\\pages\\\\Admin\\\\ActivityLogs.js\",\n  _s = $RefreshSig$();\n/**\r\n * Activity Logs Page - Admin Only\r\n * PhÃ¢n há»‡ 2.4.4 - Quáº£n lÃ½ lá»‹ch sá»­ thao tÃ¡c\r\n * Features:\r\n * - View all user activity logs\r\n * - Filter by user, action, date range\r\n * - Filter AI-assisted actions\r\n * - Export logs to CSV\r\n * - Real-time pagination\r\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Container, Row, Col, Card, Table, Form, Button, Badge, Alert } from 'react-bootstrap';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\nimport './ActivityLogs.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ACTION_LABELS = {\n  'LOGIN': {\n    label: 'ÄÄƒng nháº­p',\n    variant: 'success',\n    icon: 'ðŸ”‘'\n  },\n  'LOGOUT': {\n    label: 'ÄÄƒng xuáº¥t',\n    variant: 'secondary',\n    icon: 'ðŸšª'\n  },\n  'CREATE_PROJECT': {\n    label: 'Táº¡o dá»± Ã¡n',\n    variant: 'primary',\n    icon: 'âž•'\n  },\n  'UPDATE_PROJECT': {\n    label: 'Cáº­p nháº­t dá»± Ã¡n',\n    variant: 'info',\n    icon: 'âœï¸'\n  },\n  'DELETE_PROJECT': {\n    label: 'XÃ³a dá»± Ã¡n',\n    variant: 'danger',\n    icon: 'ðŸ—‘ï¸'\n  },\n  'CREATE_CUSTOMER': {\n    label: 'Táº¡o khÃ¡ch hÃ ng',\n    variant: 'primary',\n    icon: 'ðŸ‘¤'\n  },\n  'UPDATE_CUSTOMER': {\n    label: 'Cáº­p nháº­t khÃ¡ch hÃ ng',\n    variant: 'info',\n    icon: 'âœï¸'\n  },\n  'DELETE_CUSTOMER': {\n    label: 'XÃ³a khÃ¡ch hÃ ng',\n    variant: 'danger',\n    icon: 'ðŸ—‘ï¸'\n  },\n  'CREATE_CONTRACT': {\n    label: 'Táº¡o há»£p Ä‘á»“ng',\n    variant: 'success',\n    icon: 'ðŸ“'\n  },\n  'UPDATE_CONTRACT': {\n    label: 'Cáº­p nháº­t há»£p Ä‘á»“ng',\n    variant: 'info',\n    icon: 'âœï¸'\n  },\n  'AI_QUERY': {\n    label: 'Truy váº¥n AI',\n    variant: 'warning',\n    icon: 'ðŸ¤–'\n  },\n  'VIEW_USER_DETAIL': {\n    label: 'Xem chi tiáº¿t user',\n    variant: 'info',\n    icon: 'ðŸ‘ï¸'\n  },\n  'UPDATE_USER_PROJECT_PERMISSIONS': {\n    label: 'Cáº­p nháº­t quyá»n',\n    variant: 'primary',\n    icon: 'ðŸ”'\n  },\n  'UPLOAD_DOCUMENT': {\n    label: 'Upload tÃ i liá»‡u',\n    variant: 'success',\n    icon: 'ðŸ“¤'\n  },\n  'DELETE_DOCUMENT': {\n    label: 'XÃ³a tÃ i liá»‡u',\n    variant: 'danger',\n    icon: 'ðŸ—‘ï¸'\n  }\n};\nfunction ActivityLogs() {\n  _s();\n  const {\n    isAdmin\n  } = useAuth();\n  const [logs, setLogs] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [exporting, setExporting] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Filters\n  const [filters, setFilters] = useState({\n    user_id: '',\n    action: '',\n    is_ai_assisted: '',\n    start_date: '',\n    end_date: '',\n    page: 1,\n    limit: 50\n  });\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 50,\n    total: 0,\n    pages: 0\n  });\n  const [selectedLog, setSelectedLog] = useState(null);\n\n  // Load logs\n  const loadLogs = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const token = localStorage.getItem('token');\n      const queryParams = new URLSearchParams();\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== '' && value !== null && value !== undefined) {\n          queryParams.append(key, value);\n        }\n      });\n      const response = await fetch(`/api/users/activity-logs?${queryParams.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setLogs(data.data.logs || []);\n        setPagination(data.data.pagination || pagination);\n      } else {\n        setError(data.message || 'KhÃ´ng thá»ƒ táº£i logs');\n      }\n    } catch (err) {\n      console.error('Error loading logs:', err);\n      setError('Lá»—i káº¿t ná»‘i server. Vui lÃ²ng thá»­ láº¡i.');\n    } finally {\n      setLoading(false);\n    }\n  }, [filters]);\n\n  // Load users for filter\n  const loadUsers = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('/api/users?limit=1000', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setUsers(data.data.users || []);\n      }\n    } catch (err) {\n      console.error('Error loading users:', err);\n    }\n  };\n  useEffect(() => {\n    if (isAdmin()) {\n      loadUsers();\n    }\n  }, [isAdmin]);\n  useEffect(() => {\n    if (isAdmin()) {\n      loadLogs();\n    }\n  }, [isAdmin, filters, loadLogs]);\n\n  // Handle filter change\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value,\n      page: 1 // Reset to first page on filter change\n    }));\n  };\n\n  // Clear filters\n  const handleClearFilters = () => {\n    setFilters({\n      user_id: '',\n      action: '',\n      is_ai_assisted: '',\n      start_date: '',\n      end_date: '',\n      page: 1,\n      limit: 50\n    });\n  };\n\n  // Pagination\n  const handlePageChange = newPage => {\n    setFilters(prev => ({\n      ...prev,\n      page: newPage\n    }));\n  };\n\n  // Export to CSV\n  const handleExport = async () => {\n    setExporting(true);\n    try {\n      const token = localStorage.getItem('token');\n      const queryParams = new URLSearchParams();\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== '' && value !== null && value !== undefined && key !== 'page' && key !== 'limit') {\n          queryParams.append(key, value);\n        }\n      });\n\n      // Export all matching records (no pagination)\n      queryParams.append('limit', '10000');\n      const response = await fetch(`/api/users/activity-logs?${queryParams.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        const exportLogs = data.data.logs || [];\n\n        // Convert to CSV\n        const csvContent = convertToCSV(exportLogs);\n\n        // Download\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `activity-logs-${new Date().toISOString().split('T')[0]}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    } catch (err) {\n      console.error('Error exporting logs:', err);\n      alert('KhÃ´ng thá»ƒ xuáº¥t file. Vui lÃ²ng thá»­ láº¡i.');\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  // Convert logs to CSV\n  const convertToCSV = data => {\n    const headers = ['ID', 'User', 'Action', 'Entity Type', 'Entity ID', 'AI Assisted', 'IP Address', 'Created At', 'Details'];\n    const rows = data.map(log => [log.id, log.full_name || log.username || 'Unknown', log.action, log.entity_type || '', log.entity_id || '', log.is_ai_assisted ? 'Yes' : 'No', log.ip_address || '', new Date(log.created_at).toLocaleString('vi-VN'), JSON.stringify(log.details || {})]);\n    const csvContent = [headers.join(','), ...rows.map(row => row.map(cell => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(','))].join('\\n');\n    return '\\uFEFF' + csvContent; // Add BOM for Excel UTF-8 support\n  };\n\n  // Get action badge\n  const getActionBadge = action => {\n    const actionInfo = ACTION_LABELS[action] || {\n      label: action,\n      variant: 'secondary',\n      icon: 'ðŸ“‹'\n    };\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      bg: actionInfo.variant,\n      children: [actionInfo.icon, \" \", actionInfo.label]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Format date time\n  const formatDateTime = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleString('vi-VN', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    });\n  };\n\n  // Get unique actions for filter (currently unused, but may be needed for dynamic filters)\n  // const uniqueActions = [...new Set(logs.map(log => log.action))].sort();\n\n  if (!isAdmin()) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u26D4 Kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ch\\u1EC9 Admin m\\u1EDBi c\\xF3 th\\u1EC3 xem l\\u1ECBch s\\u1EED ho\\u1EA1t \\u0111\\u1ED9ng.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"activity-logs-page p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-1\",\n              children: \"\\uD83D\\uDCCA L\\u1ECBch s\\u1EED ho\\u1EA1t \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-0\",\n              children: \"Ph\\xE2n h\\u1EC7 2.4.4 - Theo d\\xF5i to\\xE0n b\\u1ED9 ho\\u1EA1t \\u0111\\u1ED9ng ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: handleExport,\n            disabled: exporting || logs.length === 0,\n            children: exporting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"spinner-border spinner-border-sm me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), \"\\u0110ang xu\\u1EA5t...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-download me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), \"Xu\\u1EA5t CSV\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4 border-0 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        className: \"bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: \"\\uD83D\\uDD0D B\\u1ED9 l\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filters.user_id,\n                onChange: e => handleFilterChange('user_id', e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"T\\u1EA5t c\\u1EA3 ng\\u01B0\\u1EDDi d\\xF9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this), users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: u.id,\n                  children: [u.full_name, \" (\", u.username, \")\"]\n                }, u.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filters.action,\n                onChange: e => handleFilterChange('action', e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"T\\u1EA5t c\\u1EA3 h\\xE0nh \\u0111\\u1ED9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this), Object.keys(ACTION_LABELS).map(action => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: action,\n                  children: ACTION_LABELS[action].label\n                }, action, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"AI Assisted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: filters.is_ai_assisted,\n                onChange: e => handleFilterChange('is_ai_assisted', e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"T\\u1EA5t c\\u1EA3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"true\",\n                  children: \"C\\xF3 AI h\\u1ED7 tr\\u1EE3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"false\",\n                  children: \"Kh\\xF4ng c\\xF3 AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"T\\u1EEB ng\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: filters.start_date,\n                onChange: e => handleFilterChange('start_date', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"\\u0110\\u1EBFn ng\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: filters.end_date,\n                onChange: e => handleFilterChange('end_date', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 1,\n            className: \"d-flex align-items-end\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-secondary\",\n              onClick: handleClearFilters,\n              title: \"X\\xF3a b\\u1ED9 l\\u1ECDc\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mt-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"primary\",\n                className: \"p-2\",\n                children: [\"\\uD83D\\uDCCA T\\u1ED5ng: \", pagination.total, \" logs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"warning\",\n                className: \"p-2\",\n                children: [\"\\uD83E\\uDD16 AI: \", logs.filter(l => l.is_ai_assisted).length, \" logs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"info\",\n                className: \"p-2\",\n                children: [\"\\uD83D\\uDCC4 Trang \", pagination.page, \"/\", pagination.pages]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      dismissible: true,\n      onClose: () => setError(null),\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"border-0 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"p-0\",\n        children: loading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n          message: \"\\u0110ang t\\u1EA3i logs...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this) : logs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-inbox fa-3x text-muted mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"Kh\\xF4ng c\\xF3 logs n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi b\\u1ED9 l\\u1ECDc.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              hover: true,\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-light\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '80px'\n                    },\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '150px'\n                    },\n                    children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '200px'\n                    },\n                    children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '120px'\n                    },\n                    children: \"Entity\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '80px'\n                    },\n                    children: \"AI\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '120px'\n                    },\n                    children: \"IP\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '180px'\n                    },\n                    children: \"Th\\u1EDDi gian\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '100px'\n                    },\n                    children: \"Chi ti\\u1EBFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: logs.map(log => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: log.is_ai_assisted ? 'ai-assisted-row' : '',\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"#\", log.id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"fw-bold\",\n                        children: log.full_name || 'Unknown'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"text-muted\",\n                        children: log.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: getActionBadge(log.action)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.entity_type && /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: [log.entity_type, log.entity_id && ` #${log.entity_id}`]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.is_ai_assisted ? /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"warning\",\n                      children: \"\\uD83E\\uDD16 AI\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"secondary\",\n                      children: \"\\uD83D\\uDC64 Manual\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: log.ip_address || 'N/A'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: formatDateTime(log.created_at)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.details && /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-info\",\n                      size: \"sm\",\n                      onClick: () => setSelectedLog(log),\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-info-circle\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 472,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 25\n                  }, this)]\n                }, log.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), pagination.pages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 border-top\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted\",\n                children: [\"Hi\\u1EC3n th\\u1ECB \", (pagination.page - 1) * pagination.limit + 1, \" - \", Math.min(pagination.page * pagination.limit, pagination.total), \" / \", pagination.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn-group\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-primary\",\n                  size: \"sm\",\n                  onClick: () => handlePageChange(pagination.page - 1),\n                  disabled: pagination.page === 1,\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-chevron-left\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 25\n                  }, this), \" Tr\\u01B0\\u1EDBc\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 23\n                }, this), [...Array(Math.min(5, pagination.pages))].map((_, idx) => {\n                  let pageNum;\n                  if (pagination.pages <= 5) {\n                    pageNum = idx + 1;\n                  } else if (pagination.page <= 3) {\n                    pageNum = idx + 1;\n                  } else if (pagination.page >= pagination.pages - 2) {\n                    pageNum = pagination.pages - 4 + idx;\n                  } else {\n                    pageNum = pagination.page - 2 + idx;\n                  }\n                  return /*#__PURE__*/_jsxDEV(Button, {\n                    variant: pagination.page === pageNum ? 'primary' : 'outline-primary',\n                    size: \"sm\",\n                    onClick: () => handlePageChange(pageNum),\n                    children: pageNum\n                  }, pageNum, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 27\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-primary\",\n                  size: \"sm\",\n                  onClick: () => handlePageChange(pagination.page + 1),\n                  disabled: pagination.page === pagination.pages,\n                  children: [\"Sau \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-chevron-right\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 7\n    }, this), selectedLog && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"log-detail-modal\",\n      onClick: () => setSelectedLog(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"log-detail-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log-detail-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"\\uD83D\\uDCCB Chi ti\\u1EBFt Log #\", selectedLog.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-close\",\n            onClick: () => setSelectedLog(null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log-detail-body\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"Th\\xF4ng tin c\\u01A1 b\\u1EA3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\u01B0\\u1EDDi d\\xF9ng:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 21\n                }, this), \" \", selectedLog.full_name, \" (\", selectedLog.username, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"H\\xE0nh \\u0111\\u1ED9ng:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this), \" \", getActionBadge(selectedLog.action)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Entity:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 21\n                }, this), \" \", selectedLog.entity_type || 'N/A', selectedLog.entity_id && ` #${selectedLog.entity_id}`]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"AI Assisted:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this), \" \", selectedLog.is_ai_assisted ? 'ðŸ¤– CÃ³' : 'ðŸ‘¤ KhÃ´ng']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"Th\\xF4ng tin k\\u1EF9 thu\\u1EADt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"IP Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 21\n                }, this), \" \", selectedLog.ip_address || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"User Agent:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 21\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: selectedLog.user_agent || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Th\\u1EDDi gian:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 21\n                }, this), \" \", formatDateTime(selectedLog.created_at)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this), selectedLog.details && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Chi ti\\u1EBFt b\\u1ED5 sung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              className: \"log-details-json\",\n              children: JSON.stringify(selectedLog.details, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log-detail-footer\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => setSelectedLog(null),\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n}\n_s(ActivityLogs, \"gL/o4cLatjZ5wuHwZuSmYcIOhC8=\", false, function () {\n  return [useAuth];\n});\n_c = ActivityLogs;\nexport default ActivityLogs;\nvar _c;\n$RefreshReg$(_c, \"ActivityLogs\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Row","Col","Card","Table","Form","Button","Badge","Alert","useAuth","LoadingSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","ACTION_LABELS","label","variant","icon","ActivityLogs","_s","isAdmin","logs","setLogs","users","setUsers","loading","setLoading","exporting","setExporting","error","setError","filters","setFilters","user_id","action","is_ai_assisted","start_date","end_date","page","limit","pagination","setPagination","total","pages","selectedLog","setSelectedLog","loadLogs","token","localStorage","getItem","queryParams","URLSearchParams","Object","entries","forEach","key","value","undefined","append","response","fetch","toString","headers","data","json","success","message","err","console","loadUsers","handleFilterChange","prev","handleClearFilters","handlePageChange","newPage","handleExport","exportLogs","csvContent","convertToCSV","blob","Blob","type","link","document","createElement","url","URL","createObjectURL","setAttribute","Date","toISOString","split","style","visibility","body","appendChild","click","removeChild","alert","rows","map","log","id","full_name","username","entity_type","entity_id","ip_address","created_at","toLocaleString","JSON","stringify","details","join","row","cell","String","replace","getActionBadge","actionInfo","bg","children","fileName","_jsxFileName","lineNumber","columnNumber","formatDateTime","dateString","date","year","month","day","hour","minute","second","className","fluid","onClick","disabled","length","Header","Body","md","Group","Label","Select","onChange","e","target","u","keys","Control","title","filter","l","dismissible","onClose","hover","width","size","Math","min","Array","_","idx","pageNum","stopPropagation","user_agent","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/src/pages/Admin/ActivityLogs.js"],"sourcesContent":["/**\r\n * Activity Logs Page - Admin Only\r\n * PhÃ¢n há»‡ 2.4.4 - Quáº£n lÃ½ lá»‹ch sá»­ thao tÃ¡c\r\n * Features:\r\n * - View all user activity logs\r\n * - Filter by user, action, date range\r\n * - Filter AI-assisted actions\r\n * - Export logs to CSV\r\n * - Real-time pagination\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Container, Row, Col, Card, Table, Form, Button, Badge, Alert } from 'react-bootstrap';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\r\nimport './ActivityLogs.css';\r\n\r\nconst ACTION_LABELS = {\r\n  'LOGIN': { label: 'ÄÄƒng nháº­p', variant: 'success', icon: 'ðŸ”‘' },\r\n  'LOGOUT': { label: 'ÄÄƒng xuáº¥t', variant: 'secondary', icon: 'ðŸšª' },\r\n  'CREATE_PROJECT': { label: 'Táº¡o dá»± Ã¡n', variant: 'primary', icon: 'âž•' },\r\n  'UPDATE_PROJECT': { label: 'Cáº­p nháº­t dá»± Ã¡n', variant: 'info', icon: 'âœï¸' },\r\n  'DELETE_PROJECT': { label: 'XÃ³a dá»± Ã¡n', variant: 'danger', icon: 'ðŸ—‘ï¸' },\r\n  'CREATE_CUSTOMER': { label: 'Táº¡o khÃ¡ch hÃ ng', variant: 'primary', icon: 'ðŸ‘¤' },\r\n  'UPDATE_CUSTOMER': { label: 'Cáº­p nháº­t khÃ¡ch hÃ ng', variant: 'info', icon: 'âœï¸' },\r\n  'DELETE_CUSTOMER': { label: 'XÃ³a khÃ¡ch hÃ ng', variant: 'danger', icon: 'ðŸ—‘ï¸' },\r\n  'CREATE_CONTRACT': { label: 'Táº¡o há»£p Ä‘á»“ng', variant: 'success', icon: 'ðŸ“' },\r\n  'UPDATE_CONTRACT': { label: 'Cáº­p nháº­t há»£p Ä‘á»“ng', variant: 'info', icon: 'âœï¸' },\r\n  'AI_QUERY': { label: 'Truy váº¥n AI', variant: 'warning', icon: 'ðŸ¤–' },\r\n  'VIEW_USER_DETAIL': { label: 'Xem chi tiáº¿t user', variant: 'info', icon: 'ðŸ‘ï¸' },\r\n  'UPDATE_USER_PROJECT_PERMISSIONS': { label: 'Cáº­p nháº­t quyá»n', variant: 'primary', icon: 'ðŸ”' },\r\n  'UPLOAD_DOCUMENT': { label: 'Upload tÃ i liá»‡u', variant: 'success', icon: 'ðŸ“¤' },\r\n  'DELETE_DOCUMENT': { label: 'XÃ³a tÃ i liá»‡u', variant: 'danger', icon: 'ðŸ—‘ï¸' },\r\n};\r\n\r\nfunction ActivityLogs() {\r\n  const { isAdmin } = useAuth();\r\n  const [logs, setLogs] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [exporting, setExporting] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Filters\r\n  const [filters, setFilters] = useState({\r\n    user_id: '',\r\n    action: '',\r\n    is_ai_assisted: '',\r\n    start_date: '',\r\n    end_date: '',\r\n    page: 1,\r\n    limit: 50\r\n  });\r\n\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 50,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n\r\n  const [selectedLog, setSelectedLog] = useState(null);\r\n\r\n  // Load logs\r\n  const loadLogs = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams();\r\n      \r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value !== '' && value !== null && value !== undefined) {\r\n          queryParams.append(key, value);\r\n        }\r\n      });\r\n\r\n      const response = await fetch(`/api/users/activity-logs?${queryParams.toString()}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setLogs(data.data.logs || []);\r\n        setPagination(data.data.pagination || pagination);\r\n      } else {\r\n        setError(data.message || 'KhÃ´ng thá»ƒ táº£i logs');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading logs:', err);\r\n      setError('Lá»—i káº¿t ná»‘i server. Vui lÃ²ng thá»­ láº¡i.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters]);\r\n\r\n  // Load users for filter\r\n  const loadUsers = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/users?limit=1000', {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setUsers(data.data.users || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading users:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAdmin()) {\r\n      loadUsers();\r\n    }\r\n  }, [isAdmin]);\r\n\r\n  useEffect(() => {\r\n    if (isAdmin()) {\r\n      loadLogs();\r\n    }\r\n  }, [isAdmin, filters, loadLogs]);\r\n\r\n  // Handle filter change\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [key]: value,\r\n      page: 1 // Reset to first page on filter change\r\n    }));\r\n  };\r\n\r\n  // Clear filters\r\n  const handleClearFilters = () => {\r\n    setFilters({\r\n      user_id: '',\r\n      action: '',\r\n      is_ai_assisted: '',\r\n      start_date: '',\r\n      end_date: '',\r\n      page: 1,\r\n      limit: 50\r\n    });\r\n  };\r\n\r\n  // Pagination\r\n  const handlePageChange = (newPage) => {\r\n    setFilters(prev => ({ ...prev, page: newPage }));\r\n  };\r\n\r\n  // Export to CSV\r\n  const handleExport = async () => {\r\n    setExporting(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams();\r\n      \r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value !== '' && value !== null && value !== undefined && key !== 'page' && key !== 'limit') {\r\n          queryParams.append(key, value);\r\n        }\r\n      });\r\n\r\n      // Export all matching records (no pagination)\r\n      queryParams.append('limit', '10000');\r\n\r\n      const response = await fetch(`/api/users/activity-logs?${queryParams.toString()}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        const exportLogs = data.data.logs || [];\r\n        \r\n        // Convert to CSV\r\n        const csvContent = convertToCSV(exportLogs);\r\n        \r\n        // Download\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement('a');\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute('href', url);\r\n        link.setAttribute('download', `activity-logs-${new Date().toISOString().split('T')[0]}.csv`);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error exporting logs:', err);\r\n      alert('KhÃ´ng thá»ƒ xuáº¥t file. Vui lÃ²ng thá»­ láº¡i.');\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  // Convert logs to CSV\r\n  const convertToCSV = (data) => {\r\n    const headers = ['ID', 'User', 'Action', 'Entity Type', 'Entity ID', 'AI Assisted', 'IP Address', 'Created At', 'Details'];\r\n    const rows = data.map(log => [\r\n      log.id,\r\n      log.full_name || log.username || 'Unknown',\r\n      log.action,\r\n      log.entity_type || '',\r\n      log.entity_id || '',\r\n      log.is_ai_assisted ? 'Yes' : 'No',\r\n      log.ip_address || '',\r\n      new Date(log.created_at).toLocaleString('vi-VN'),\r\n      JSON.stringify(log.details || {})\r\n    ]);\r\n\r\n    const csvContent = [\r\n      headers.join(','),\r\n      ...rows.map(row => row.map(cell => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(','))\r\n    ].join('\\n');\r\n\r\n    return '\\uFEFF' + csvContent; // Add BOM for Excel UTF-8 support\r\n  };\r\n\r\n  // Get action badge\r\n  const getActionBadge = (action) => {\r\n    const actionInfo = ACTION_LABELS[action] || { label: action, variant: 'secondary', icon: 'ðŸ“‹' };\r\n    return (\r\n      <Badge bg={actionInfo.variant}>\r\n        {actionInfo.icon} {actionInfo.label}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  // Format date time\r\n  const formatDateTime = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString('vi-VN', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Get unique actions for filter (currently unused, but may be needed for dynamic filters)\r\n  // const uniqueActions = [...new Set(logs.map(log => log.action))].sort();\r\n\r\n  if (!isAdmin()) {\r\n    return (\r\n      <Container className=\"mt-5\">\r\n        <Alert variant=\"danger\" className=\"text-center\">\r\n          <h4>â›” KhÃ´ng cÃ³ quyá»n truy cáº­p</h4>\r\n          <p>Chá»‰ Admin má»›i cÃ³ thá»ƒ xem lá»‹ch sá»­ hoáº¡t Ä‘á»™ng.</p>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"activity-logs-page p-4\">\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <h2 className=\"mb-1\">ðŸ“Š Lá»‹ch sá»­ hoáº¡t Ä‘á»™ng</h2>\r\n              <p className=\"text-muted mb-0\">PhÃ¢n há»‡ 2.4.4 - Theo dÃµi toÃ n bá»™ hoáº¡t Ä‘á»™ng ngÆ°á»i dÃ¹ng</p>\r\n            </div>\r\n            <Button \r\n              variant=\"success\" \r\n              onClick={handleExport}\r\n              disabled={exporting || logs.length === 0}\r\n            >\r\n              {exporting ? (\r\n                <>\r\n                  <span className=\"spinner-border spinner-border-sm me-2\" />\r\n                  Äang xuáº¥t...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <i className=\"fas fa-download me-2\"></i>\r\n                  Xuáº¥t CSV\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"mb-4 border-0 shadow-sm\">\r\n        <Card.Header className=\"bg-white\">\r\n          <h5 className=\"mb-0\">ðŸ” Bá»™ lá»c</h5>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <Row>\r\n            <Col md={3}>\r\n              <Form.Group>\r\n                <Form.Label>NgÆ°á»i dÃ¹ng</Form.Label>\r\n                <Form.Select \r\n                  value={filters.user_id}\r\n                  onChange={(e) => handleFilterChange('user_id', e.target.value)}\r\n                >\r\n                  <option value=\"\">Táº¥t cáº£ ngÆ°á»i dÃ¹ng</option>\r\n                  {users.map(u => (\r\n                    <option key={u.id} value={u.id}>\r\n                      {u.full_name} ({u.username})\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>HÃ nh Ä‘á»™ng</Form.Label>\r\n                <Form.Select \r\n                  value={filters.action}\r\n                  onChange={(e) => handleFilterChange('action', e.target.value)}\r\n                >\r\n                  <option value=\"\">Táº¥t cáº£ hÃ nh Ä‘á»™ng</option>\r\n                  {Object.keys(ACTION_LABELS).map(action => (\r\n                    <option key={action} value={action}>\r\n                      {ACTION_LABELS[action].label}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>AI Assisted</Form.Label>\r\n                <Form.Select \r\n                  value={filters.is_ai_assisted}\r\n                  onChange={(e) => handleFilterChange('is_ai_assisted', e.target.value)}\r\n                >\r\n                  <option value=\"\">Táº¥t cáº£</option>\r\n                  <option value=\"true\">CÃ³ AI há»— trá»£</option>\r\n                  <option value=\"false\">KhÃ´ng cÃ³ AI</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>Tá»« ngÃ y</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={filters.start_date}\r\n                  onChange={(e) => handleFilterChange('start_date', e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={2}>\r\n              <Form.Group>\r\n                <Form.Label>Äáº¿n ngÃ y</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={filters.end_date}\r\n                  onChange={(e) => handleFilterChange('end_date', e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n\r\n            <Col md={1} className=\"d-flex align-items-end\">\r\n              <Button \r\n                variant=\"outline-secondary\" \r\n                onClick={handleClearFilters}\r\n                title=\"XÃ³a bá»™ lá»c\"\r\n              >\r\n                <i className=\"fas fa-times\"></i>\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Stats */}\r\n          <Row className=\"mt-3\">\r\n            <Col>\r\n              <div className=\"d-flex gap-3\">\r\n                <Badge bg=\"primary\" className=\"p-2\">\r\n                  ðŸ“Š Tá»•ng: {pagination.total} logs\r\n                </Badge>\r\n                <Badge bg=\"warning\" className=\"p-2\">\r\n                  ðŸ¤– AI: {logs.filter(l => l.is_ai_assisted).length} logs\r\n                </Badge>\r\n                <Badge bg=\"info\" className=\"p-2\">\r\n                  ðŸ“„ Trang {pagination.page}/{pagination.pages}\r\n                </Badge>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Error */}\r\n      {error && (\r\n        <Alert variant=\"danger\" dismissible onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Logs Table */}\r\n      <Card className=\"border-0 shadow-sm\">\r\n        <Card.Body className=\"p-0\">\r\n          {loading ? (\r\n            <LoadingSpinner message=\"Äang táº£i logs...\" />\r\n          ) : logs.length === 0 ? (\r\n            <div className=\"text-center p-5\">\r\n              <i className=\"fas fa-inbox fa-3x text-muted mb-3\"></i>\r\n              <p className=\"text-muted\">KhÃ´ng cÃ³ logs nÃ o phÃ¹ há»£p vá»›i bá»™ lá»c.</p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"table-responsive\">\r\n                <Table hover className=\"mb-0\">\r\n                  <thead className=\"bg-light\">\r\n                    <tr>\r\n                      <th style={{ width: '80px' }}>ID</th>\r\n                      <th style={{ width: '150px' }}>NgÆ°á»i dÃ¹ng</th>\r\n                      <th style={{ width: '200px' }}>HÃ nh Ä‘á»™ng</th>\r\n                      <th style={{ width: '120px' }}>Entity</th>\r\n                      <th style={{ width: '80px' }}>AI</th>\r\n                      <th style={{ width: '120px' }}>IP</th>\r\n                      <th style={{ width: '180px' }}>Thá»i gian</th>\r\n                      <th style={{ width: '100px' }}>Chi tiáº¿t</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {logs.map((log) => (\r\n                      <tr key={log.id} className={log.is_ai_assisted ? 'ai-assisted-row' : ''}>\r\n                        <td>#{log.id}</td>\r\n                        <td>\r\n                          <div>\r\n                            <div className=\"fw-bold\">{log.full_name || 'Unknown'}</div>\r\n                            <small className=\"text-muted\">{log.username}</small>\r\n                          </div>\r\n                        </td>\r\n                        <td>{getActionBadge(log.action)}</td>\r\n                        <td>\r\n                          {log.entity_type && (\r\n                            <small>\r\n                              {log.entity_type}\r\n                              {log.entity_id && ` #${log.entity_id}`}\r\n                            </small>\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          {log.is_ai_assisted ? (\r\n                            <Badge bg=\"warning\">ðŸ¤– AI</Badge>\r\n                          ) : (\r\n                            <Badge bg=\"secondary\">ðŸ‘¤ Manual</Badge>\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          <small className=\"text-muted\">{log.ip_address || 'N/A'}</small>\r\n                        </td>\r\n                        <td>\r\n                          <small>{formatDateTime(log.created_at)}</small>\r\n                        </td>\r\n                        <td>\r\n                          {log.details && (\r\n                            <Button\r\n                              variant=\"outline-info\"\r\n                              size=\"sm\"\r\n                              onClick={() => setSelectedLog(log)}\r\n                            >\r\n                              <i className=\"fas fa-info-circle\"></i>\r\n                            </Button>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              </div>\r\n\r\n              {/* Pagination */}\r\n              {pagination.pages > 1 && (\r\n                <div className=\"p-3 border-top\">\r\n                  <div className=\"d-flex justify-content-between align-items-center\">\r\n                    <div className=\"text-muted\">\r\n                      Hiá»ƒn thá»‹ {((pagination.page - 1) * pagination.limit) + 1} - {Math.min(pagination.page * pagination.limit, pagination.total)} / {pagination.total}\r\n                    </div>\r\n                    <div className=\"btn-group\">\r\n                      <Button\r\n                        variant=\"outline-primary\"\r\n                        size=\"sm\"\r\n                        onClick={() => handlePageChange(pagination.page - 1)}\r\n                        disabled={pagination.page === 1}\r\n                      >\r\n                        <i className=\"fas fa-chevron-left\"></i> TrÆ°á»›c\r\n                      </Button>\r\n                      \r\n                      {[...Array(Math.min(5, pagination.pages))].map((_, idx) => {\r\n                        let pageNum;\r\n                        if (pagination.pages <= 5) {\r\n                          pageNum = idx + 1;\r\n                        } else if (pagination.page <= 3) {\r\n                          pageNum = idx + 1;\r\n                        } else if (pagination.page >= pagination.pages - 2) {\r\n                          pageNum = pagination.pages - 4 + idx;\r\n                        } else {\r\n                          pageNum = pagination.page - 2 + idx;\r\n                        }\r\n\r\n                        return (\r\n                          <Button\r\n                            key={pageNum}\r\n                            variant={pagination.page === pageNum ? 'primary' : 'outline-primary'}\r\n                            size=\"sm\"\r\n                            onClick={() => handlePageChange(pageNum)}\r\n                          >\r\n                            {pageNum}\r\n                          </Button>\r\n                        );\r\n                      })}\r\n\r\n                      <Button\r\n                        variant=\"outline-primary\"\r\n                        size=\"sm\"\r\n                        onClick={() => handlePageChange(pagination.page + 1)}\r\n                        disabled={pagination.page === pagination.pages}\r\n                      >\r\n                        Sau <i className=\"fas fa-chevron-right\"></i>\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Log Detail Modal */}\r\n      {selectedLog && (\r\n        <div className=\"log-detail-modal\" onClick={() => setSelectedLog(null)}>\r\n          <div className=\"log-detail-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"log-detail-header\">\r\n              <h5>ðŸ“‹ Chi tiáº¿t Log #{selectedLog.id}</h5>\r\n              <button className=\"btn-close\" onClick={() => setSelectedLog(null)}></button>\r\n            </div>\r\n            <div className=\"log-detail-body\">\r\n              <Row>\r\n                <Col md={6}>\r\n                  <h6>ThÃ´ng tin cÆ¡ báº£n</h6>\r\n                  <div className=\"info-item\">\r\n                    <strong>NgÆ°á»i dÃ¹ng:</strong> {selectedLog.full_name} ({selectedLog.username})\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>HÃ nh Ä‘á»™ng:</strong> {getActionBadge(selectedLog.action)}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Entity:</strong> {selectedLog.entity_type || 'N/A'} \r\n                    {selectedLog.entity_id && ` #${selectedLog.entity_id}`}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>AI Assisted:</strong> {selectedLog.is_ai_assisted ? 'ðŸ¤– CÃ³' : 'ðŸ‘¤ KhÃ´ng'}\r\n                  </div>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <h6>ThÃ´ng tin ká»¹ thuáº­t</h6>\r\n                  <div className=\"info-item\">\r\n                    <strong>IP Address:</strong> {selectedLog.ip_address || 'N/A'}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>User Agent:</strong> <small>{selectedLog.user_agent || 'N/A'}</small>\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Thá»i gian:</strong> {formatDateTime(selectedLog.created_at)}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n              \r\n              {selectedLog.details && (\r\n                <div className=\"mt-3\">\r\n                  <h6>Chi tiáº¿t bá»• sung</h6>\r\n                  <pre className=\"log-details-json\">\r\n                    {JSON.stringify(selectedLog.details, null, 2)}\r\n                  </pre>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"log-detail-footer\">\r\n              <Button variant=\"secondary\" onClick={() => setSelectedLog(null)}>\r\n                ÄÃ³ng\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default ActivityLogs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}