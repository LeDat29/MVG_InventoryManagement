{"ast":null,"code":"var _jsxFileName = \"C:\\\\KinhDoanh\\\\client\\\\src\\\\pages\\\\Users\\\\UserManagement.js\",\n  _s = $RefreshSig$();\n/**\r\n * User Management Page - KHO MVG\r\n * Phân hệ 2.4 - Quản lý User nâng cao\r\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Container, Row, Col, Card, Button, Table, Badge, Form, Modal, Alert, Tab, Nav } from 'react-bootstrap';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\nimport PermissionManager from '../../components/Users/PermissionManager';\nimport AIConfigManager from '../../components/Users/AIConfigManagerComplete';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserManagement() {\n  _s();\n  var _selectedUser$project, _selectedUser$ai_conf, _selectedUser$user, _selectedUser$user2;\n  const {\n    isAdmin,\n    hasPermission\n  } = useAuth();\n  const {\n    showSuccess,\n    showError\n  } = useNotification();\n  const [loading, setLoading] = useState(true);\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [showUserModal, setShowUserModal] = useState(false);\n  const [showPermissionModal, setShowPermissionModal] = useState(false);\n  const [showAIConfigModal, setShowAIConfigModal] = useState(false);\n  // const [showActivityModal, setShowActivityModal] = useState(false);\n  const [activeTab, setActiveTab] = useState('list');\n\n  // Filter states\n  const [filters, setFilters] = useState({\n    search: '',\n    role: '',\n    page: 1,\n    limit: 20\n  });\n  useEffect(() => {\n    if (hasPermission('user_view') || isAdmin()) {\n      loadUsers();\n    }\n  }, [filters]);\n  const loadUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      console.log('Loading users with token:', token ? 'Present' : 'Missing');\n      console.log('Filters:', filters);\n      const response = await axios.get('/api/users', {\n        params: filters,\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log('Users API response:', response.data);\n      if (response.data.success) {\n        setUsers(response.data.data.users || []);\n      } else {\n        throw new Error(response.data.message || 'Failed to load users');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error loading users:', error);\n      showError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'Lỗi tải danh sách người dùng');\n      setUsers([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters, showError]);\n  useEffect(() => {\n    if (hasPermission('user_read') || isAdmin) {\n      loadUsers();\n    }\n  }, [hasPermission, isAdmin, loadUsers]);\n  const handleViewUser = async userId => {\n    try {\n      const token = localStorage.getItem('token');\n      console.log('Viewing user:', userId);\n      const response = await axios.get(`/api/users/${userId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log('User details response:', response.data);\n      setSelectedUser(response.data.data || response.data.user);\n      setShowUserModal(true);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error viewing user:', error);\n      showError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Lỗi tải thông tin người dùng');\n    }\n  };\n  const handleShowPermissions = async userId => {\n    try {\n      const token = localStorage.getItem('token');\n      console.log('Loading permissions for user:', userId);\n\n      // Get user info first\n      const response = await axios.get(`/api/users/${userId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log('User permissions response:', response.data);\n      if (response.data.success) {\n        const userData = response.data.data;\n        console.log('Setting selected user data:', userData);\n        setSelectedUser(userData);\n        setShowPermissionModal(true);\n      } else {\n        throw new Error('Failed to load user data');\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error loading user permissions:', error);\n      showError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Lỗi tải quyền hạn người dùng');\n    }\n  };\n  const handleShowAIConfigs = async userId => {\n    try {\n      const token = localStorage.getItem('token');\n      console.log('Loading AI configs for user:', userId);\n\n      // Get user info first\n      const userResponse = await axios.get(`/api/users/${userId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      // Then try to get AI configs\n      try {\n        const aiResponse = await axios.get(`/api/ai-assistant/user-configs`, {\n          params: {\n            user_id: userId\n          },\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        setSelectedUser({\n          ...userResponse.data.data,\n          ai_configurations: aiResponse.data.data || []\n        });\n      } catch (aiError) {\n        console.log('AI configs endpoint not found, using basic user data');\n        setSelectedUser(userResponse.data.data);\n      }\n      setShowAIConfigModal(true);\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error loading AI configs:', error);\n      showError(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Lỗi tải cấu hình AI');\n    }\n  };\n  const handleShowActivity = async userId => {\n    try {\n      const response = await axios.get(`/api/users/${userId}/activity-logs`);\n      setSelectedUser(prev => ({\n        ...prev,\n        activity_logs: response.data.data.logs\n      }));\n      // setShowActivityModal(true);\n    } catch (error) {\n      showError('Lỗi tải lịch sử hoạt động');\n    }\n  };\n\n  // Add AI configuration for user\n  // const handleAddAIConfig = async (userId, configData) => {\n  //   try {\n  //     await axios.post(`/api/users/${userId}/ai-configs`, configData);\n  //     showSuccess('Thêm cấu hình AI thành công');\n  //     handleShowAIConfigs(userId); // Refresh configs\n  //   } catch (error) {\n  //     showError(error.response?.data?.message || 'Lỗi thêm cấu hình AI');\n  //   }\n  // };\n\n  const getRoleBadge = role => {\n    const roleMap = {\n      admin: {\n        variant: 'danger',\n        label: 'Admin'\n      },\n      manager: {\n        variant: 'success',\n        label: 'Manager'\n      },\n      staff: {\n        variant: 'primary',\n        label: 'Staff'\n      },\n      viewer: {\n        variant: 'secondary',\n        label: 'Viewer'\n      }\n    };\n    const roleInfo = roleMap[role] || {\n      variant: 'secondary',\n      label: role\n    };\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      bg: roleInfo.variant,\n      children: roleInfo.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 12\n    }, this);\n  };\n  const getStatusBadge = isActive => {\n    return isActive ? /*#__PURE__*/_jsxDEV(Badge, {\n      bg: \"success\",\n      children: \"Ho\\u1EA1t \\u0111\\u1ED9ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n      bg: \"secondary\",\n      children: \"V\\xF4 hi\\u1EC7u h\\xF3a\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      text: \"\\u0110ang t\\u1EA3i danh s\\xE1ch ng\\u01B0\\u1EDDi d\\xF9ng...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAdmin() && !hasPermission('user_view')) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-1\",\n              children: \"Qu\\u1EA3n l\\xFD Ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-0\",\n              children: \"Ph\\xE2n h\\u1EC7 2.4 - Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng v\\xE0 ph\\xE2n quy\\u1EC1n n\\xE2ng cao\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), hasPermission('user_create') && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), \"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"border-0 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        className: \"bg-white border-0\",\n        children: /*#__PURE__*/_jsxDEV(Nav, {\n          variant: \"tabs\",\n          className: \"border-0\",\n          activeKey: activeTab,\n          onSelect: setActiveTab,\n          children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"list\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-users me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), \"Danh s\\xE1ch ng\\u01B0\\u1EDDi d\\xF9ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), isAdmin() && /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"activity\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-history me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this), \"L\\u1ECBch s\\u1EED ho\\u1EA1t \\u0111\\u1ED9ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"ai-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-robot me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), \"Th\\u1ED1ng k\\xEA AI\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Tab.Content, {\n          children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n            eventKey: \"list\",\n            className: activeTab === 'list' ? 'show active' : '',\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  placeholder: \"T\\xECm ki\\u1EBFm ng\\u01B0\\u1EDDi d\\xF9ng...\",\n                  value: filters.search,\n                  onChange: e => setFilters(prev => ({\n                    ...prev,\n                    search: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                  value: filters.role,\n                  onChange: e => setFilters(prev => ({\n                    ...prev,\n                    role: e.target.value\n                  })),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"T\\u1EA5t c\\u1EA3 vai tr\\xF2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"admin\",\n                    children: \"Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"manager\",\n                    children: \"Manager\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"staff\",\n                    children: \"Staff\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"viewer\",\n                    children: \"Viewer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  onClick: () => setFilters({\n                    search: '',\n                    role: '',\n                    page: 1,\n                    limit: 20\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this), \"X\\xF3a b\\u1ED9 l\\u1ECDc\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                hover: true,\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Vai tr\\xF2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Tr\\u1EA1ng th\\xE1i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"D\\u1EF1 \\xE1n \\u0111\\u01B0\\u1EE3c g\\xE1n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"AI Configs\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Ho\\u1EA1t \\u0111\\u1ED9ng cu\\u1ED1i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Thao t\\xE1c\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: users.map(userItem => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"fw-bold\",\n                          children: userItem.full_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 313,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                          className: \"text-muted\",\n                          children: [userItem.username, \" \\u2022 \", userItem.email]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: getRoleBadge(userItem.role)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: getStatusBadge(userItem.is_active)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"info\",\n                        children: userItem.assigned_projects || 0\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"warning\",\n                        children: userItem.ai_configs_count || 0\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: userItem.last_activity ? new Date(userItem.last_activity).toLocaleDateString('vi-VN') : 'Chưa có'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"btn-group\",\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-primary\",\n                          size: \"sm\",\n                          onClick: () => handleViewUser(userItem.id),\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-eye\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 340,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 335,\n                          columnNumber: 29\n                        }, this), hasPermission('user_permissions_manage') && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-success\",\n                          size: \"sm\",\n                          onClick: () => handleShowPermissions(userItem.id),\n                          title: \"Qu\\u1EA3n l\\xFD quy\\u1EC1n h\\u1EA1n\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-key\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 350,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 344,\n                          columnNumber: 31\n                        }, this), hasPermission('user_ai_manage') && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-warning\",\n                          size: \"sm\",\n                          onClick: () => handleShowAIConfigs(userItem.id),\n                          title: \"C\\u1EA5u h\\xECnh AI\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-robot\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 361,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 355,\n                          columnNumber: 31\n                        }, this), (isAdmin() || hasPermission('user_logs_view')) && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outline-info\",\n                          size: \"sm\",\n                          onClick: () => handleShowActivity(userItem.id),\n                          title: \"L\\u1ECBch s\\u1EED ho\\u1EA1t \\u0111\\u1ED9ng\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-history\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 372,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 366,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 25\n                    }, this)]\n                  }, userItem.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), isAdmin() && /*#__PURE__*/_jsxDEV(Tab.Pane, {\n            eventKey: \"activity\",\n            className: activeTab === 'activity' ? 'show active' : '',\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"info\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-info-circle me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), \"T\\xEDnh n\\u0103ng xem l\\u1ECBch s\\u1EED ho\\u1EA1t \\u0111\\u1ED9ng t\\u1ED5ng h\\u1EE3p s\\u1EBD \\u0111\\u01B0\\u1EE3c tri\\u1EC3n khai \\u1EDF component ri\\xEAng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n            eventKey: \"ai-stats\",\n            className: activeTab === 'ai-stats' ? 'show active' : '',\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"border-0 shadow-sm text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-users fa-2x text-primary mb-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"mb-1\",\n                      children: users.filter(u => u.ai_configs_count > 0).length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-muted mb-0\",\n                      children: \"Users c\\xF3 AI config\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"border-0 shadow-sm text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-robot fa-2x text-success mb-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"mb-1\",\n                      children: users.reduce((sum, u) => sum + (u.ai_configs_count || 0), 0)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-muted mb-0\",\n                      children: \"T\\u1ED5ng AI configs\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"border-0 shadow-sm text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-chart-line fa-2x text-warning mb-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"mb-1\",\n                      children: \"$0.00\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-muted mb-0\",\n                      children: \"Chi ph\\xED AI th\\xE1ng n\\xE0y\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"mb-0\",\n                  children: \"Ph\\xE2n b\\u1ED1 AI Providers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Alert, {\n                  variant: \"info\",\n                  children: \"Chart th\\u1ED1ng k\\xEA AI providers s\\u1EBD \\u0111\\u01B0\\u1EE3c tri\\u1EC3n khai v\\u1EDBi d\\u1EEF li\\u1EC7u th\\u1EF1c t\\u1EBF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showUserModal,\n      onHide: () => setShowUserModal(false),\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Chi ti\\u1EBFt ng\\u01B0\\u1EDDi d\\xF9ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: selectedUser && /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Th\\xF4ng tin c\\u01A1 b\\u1EA3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"T\\xEAn:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 24\n                }, this), \" \", selectedUser.user.full_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Username:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 24\n                }, this), \" \", selectedUser.user.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 24\n                }, this), \" \", selectedUser.user.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Vai tr\\xF2:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 24\n                }, this), \" \", getRoleBadge(selectedUser.user.role)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tr\\u1EA1ng th\\xE1i:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 24\n                }, this), \" \", getStatusBadge(selectedUser.user.is_active)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Th\\u1ED1ng k\\xEA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"D\\u1EF1 \\xE1n \\u0111\\u01B0\\u1EE3c g\\xE1n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 24\n                }, this), \" \", ((_selectedUser$project = selectedUser.project_permissions) === null || _selectedUser$project === void 0 ? void 0 : _selectedUser$project.length) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"AI Configs:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 24\n                }, this), \" \", ((_selectedUser$ai_conf = selectedUser.ai_configurations) === null || _selectedUser$ai_conf === void 0 ? void 0 : _selectedUser$ai_conf.length) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\xE0y t\\u1EA1o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 24\n                }, this), \" \", new Date(selectedUser.user.created_at).toLocaleDateString('vi-VN')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0110\\u0103ng nh\\u1EADp cu\\u1ED1i:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 24\n                }, this), \" \", selectedUser.user.last_login ? new Date(selectedUser.user.last_login).toLocaleDateString('vi-VN') : 'Chưa có']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => setShowUserModal(false),\n          children: \"\\u0110\\xF3ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AIConfigManager, {\n      user: selectedUser,\n      userId: (selectedUser === null || selectedUser === void 0 ? void 0 : (_selectedUser$user = selectedUser.user) === null || _selectedUser$user === void 0 ? void 0 : _selectedUser$user.id) || (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.id),\n      show: showAIConfigModal,\n      onHide: () => {\n        setShowAIConfigModal(false);\n        setSelectedUser(null);\n      },\n      onSave: () => {\n        loadUsers();\n        showSuccess('Cấu hình AI đã được cập nhật thành công!');\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PermissionManager, {\n      user: selectedUser,\n      userId: (selectedUser === null || selectedUser === void 0 ? void 0 : (_selectedUser$user2 = selectedUser.user) === null || _selectedUser$user2 === void 0 ? void 0 : _selectedUser$user2.id) || (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.id),\n      show: showPermissionModal,\n      onHide: () => {\n        setShowPermissionModal(false);\n        setSelectedUser(null);\n      },\n      onSave: () => {\n        loadUsers();\n        showSuccess('Cập nhật quyền hạn thành công!');\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n}\n_s(UserManagement, \"/OYo9cFTUUKvKKNg6PoOOb9+9gU=\", false, function () {\n  return [useAuth, useNotification];\n});\n_c = UserManagement;\nexport default UserManagement;\nvar _c;\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Row","Col","Card","Button","Table","Badge","Form","Modal","Alert","Tab","Nav","useAuth","useNotification","LoadingSpinner","PermissionManager","AIConfigManager","axios","jsxDEV","_jsxDEV","UserManagement","_s","_selectedUser$project","_selectedUser$ai_conf","_selectedUser$user","_selectedUser$user2","isAdmin","hasPermission","showSuccess","showError","loading","setLoading","users","setUsers","selectedUser","setSelectedUser","showUserModal","setShowUserModal","showPermissionModal","setShowPermissionModal","showAIConfigModal","setShowAIConfigModal","activeTab","setActiveTab","filters","setFilters","search","role","page","limit","loadUsers","token","localStorage","getItem","console","log","response","get","params","headers","data","success","Error","message","error","_error$response","_error$response$data","handleViewUser","userId","user","_error$response2","_error$response2$data","handleShowPermissions","userData","_error$response3","_error$response3$data","handleShowAIConfigs","userResponse","aiResponse","user_id","ai_configurations","aiError","_error$response4","_error$response4$data","handleShowActivity","prev","activity_logs","logs","getRoleBadge","roleMap","admin","variant","label","manager","staff","viewer","roleInfo","bg","children","fileName","_jsxFileName","lineNumber","columnNumber","getStatusBadge","isActive","text","className","fluid","Header","activeKey","onSelect","Item","Link","eventKey","Body","Content","Pane","md","Control","type","placeholder","value","onChange","e","target","Select","onClick","hover","map","userItem","full_name","username","email","is_active","assigned_projects","ai_configs_count","last_activity","Date","toLocaleDateString","size","id","title","filter","u","length","reduce","sum","show","onHide","closeButton","Title","project_permissions","created_at","last_login","Footer","onSave","_c","$RefreshReg$"],"sources":["C:/KinhDoanh/client/src/pages/Users/UserManagement.js"],"sourcesContent":["/**\r\n * User Management Page - KHO MVG\r\n * Phân hệ 2.4 - Quản lý User nâng cao\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Container, Row, Col, Card, Button, Table, Badge, Form, Modal, Alert, Tab, Nav } from 'react-bootstrap';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\r\nimport PermissionManager from '../../components/Users/PermissionManager';\r\nimport AIConfigManager from '../../components/Users/AIConfigManagerComplete';\r\nimport axios from 'axios';\r\n\r\nfunction UserManagement() {\r\n  const { isAdmin, hasPermission } = useAuth();\r\n  const { showSuccess, showError } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [showUserModal, setShowUserModal] = useState(false);\r\n  const [showPermissionModal, setShowPermissionModal] = useState(false);\r\n  const [showAIConfigModal, setShowAIConfigModal] = useState(false);\r\n  // const [showActivityModal, setShowActivityModal] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('list');\r\n\r\n  // Filter states\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    role: '',\r\n    page: 1,\r\n    limit: 20\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (hasPermission('user_view') || isAdmin()) {\r\n      loadUsers();\r\n    }\r\n  }, [filters]);\r\n\r\n  const loadUsers = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      console.log('Loading users with token:', token ? 'Present' : 'Missing');\r\n      console.log('Filters:', filters);\r\n      \r\n      const response = await axios.get('/api/users', { \r\n        params: filters,\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      console.log('Users API response:', response.data);\r\n      \r\n      if (response.data.success) {\r\n        setUsers(response.data.data.users || []);\r\n      } else {\r\n        throw new Error(response.data.message || 'Failed to load users');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading users:', error);\r\n      showError(error.response?.data?.message || error.message || 'Lỗi tải danh sách người dùng');\r\n      setUsers([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, showError]);\r\n\r\n  useEffect(() => {\r\n    if (hasPermission('user_read') || isAdmin) {\r\n      loadUsers();\r\n    }\r\n  }, [hasPermission, isAdmin, loadUsers]);\r\n\r\n  const handleViewUser = async (userId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Viewing user:', userId);\r\n      \r\n      const response = await axios.get(`/api/users/${userId}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      console.log('User details response:', response.data);\r\n      \r\n      setSelectedUser(response.data.data || response.data.user);\r\n      setShowUserModal(true);\r\n    } catch (error) {\r\n      console.error('Error viewing user:', error);\r\n      showError(error.response?.data?.message || 'Lỗi tải thông tin người dùng');\r\n    }\r\n  };\r\n\r\n  const handleShowPermissions = async (userId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Loading permissions for user:', userId);\r\n      \r\n      // Get user info first\r\n      const response = await axios.get(`/api/users/${userId}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      console.log('User permissions response:', response.data);\r\n      \r\n      if (response.data.success) {\r\n        const userData = response.data.data;\r\n        console.log('Setting selected user data:', userData);\r\n        setSelectedUser(userData);\r\n        setShowPermissionModal(true);\r\n      } else {\r\n        throw new Error('Failed to load user data');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading user permissions:', error);\r\n      showError(error.response?.data?.message || 'Lỗi tải quyền hạn người dùng');\r\n    }\r\n  };\r\n\r\n  const handleShowAIConfigs = async (userId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Loading AI configs for user:', userId);\r\n      \r\n      // Get user info first\r\n      const userResponse = await axios.get(`/api/users/${userId}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      // Then try to get AI configs\r\n      try {\r\n        const aiResponse = await axios.get(`/api/ai-assistant/user-configs`, {\r\n          params: { user_id: userId },\r\n          headers: { 'Authorization': `Bearer ${token}` }\r\n        });\r\n        \r\n        setSelectedUser({\r\n          ...userResponse.data.data,\r\n          ai_configurations: aiResponse.data.data || []\r\n        });\r\n      } catch (aiError) {\r\n        console.log('AI configs endpoint not found, using basic user data');\r\n        setSelectedUser(userResponse.data.data);\r\n      }\r\n      \r\n      setShowAIConfigModal(true);\r\n    } catch (error) {\r\n      console.error('Error loading AI configs:', error);\r\n      showError(error.response?.data?.message || 'Lỗi tải cấu hình AI');\r\n    }\r\n  };\r\n\r\n  const handleShowActivity = async (userId) => {\r\n    try {\r\n      const response = await axios.get(`/api/users/${userId}/activity-logs`);\r\n      setSelectedUser(prev => ({\r\n        ...prev,\r\n        activity_logs: response.data.data.logs\r\n      }));\r\n      // setShowActivityModal(true);\r\n    } catch (error) {\r\n      showError('Lỗi tải lịch sử hoạt động');\r\n    }\r\n  };\r\n\r\n  // Add AI configuration for user\r\n  // const handleAddAIConfig = async (userId, configData) => {\r\n  //   try {\r\n  //     await axios.post(`/api/users/${userId}/ai-configs`, configData);\r\n  //     showSuccess('Thêm cấu hình AI thành công');\r\n  //     handleShowAIConfigs(userId); // Refresh configs\r\n  //   } catch (error) {\r\n  //     showError(error.response?.data?.message || 'Lỗi thêm cấu hình AI');\r\n  //   }\r\n  // };\r\n\r\n  const getRoleBadge = (role) => {\r\n    const roleMap = {\r\n      admin: { variant: 'danger', label: 'Admin' },\r\n      manager: { variant: 'success', label: 'Manager' },\r\n      staff: { variant: 'primary', label: 'Staff' },\r\n      viewer: { variant: 'secondary', label: 'Viewer' }\r\n    };\r\n    \r\n    const roleInfo = roleMap[role] || { variant: 'secondary', label: role };\r\n    return <Badge bg={roleInfo.variant}>{roleInfo.label}</Badge>;\r\n  };\r\n\r\n  const getStatusBadge = (isActive) => {\r\n    return isActive ? \r\n      <Badge bg=\"success\">Hoạt động</Badge> : \r\n      <Badge bg=\"secondary\">Vô hiệu hóa</Badge>;\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner text=\"Đang tải danh sách người dùng...\" />;\r\n  }\r\n\r\n  if (!isAdmin() && !hasPermission('user_view')) {\r\n    return (\r\n      <Container className=\"mt-5\">\r\n        <Alert variant=\"danger\" className=\"text-center\">\r\n          <h4>Không có quyền truy cập</h4>\r\n          <p>Bạn không có quyền quản lý người dùng.</p>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"p-4\">\r\n      {/* Page Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <h2 className=\"mb-1\">Quản lý Người dùng</h2>\r\n              <p className=\"text-muted mb-0\">\r\n                Phân hệ 2.4 - Quản lý người dùng và phân quyền nâng cao\r\n              </p>\r\n            </div>\r\n            {hasPermission('user_create') && (\r\n              <Button variant=\"primary\">\r\n                <i className=\"fas fa-plus me-2\"></i>\r\n                Thêm người dùng\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Tabs */}\r\n      <Card className=\"border-0 shadow-sm\">\r\n        <Card.Header className=\"bg-white border-0\">\r\n          <Nav variant=\"tabs\" className=\"border-0\" activeKey={activeTab} onSelect={setActiveTab}>\r\n            <Nav.Item>\r\n              <Nav.Link eventKey=\"list\">\r\n                <i className=\"fas fa-users me-2\"></i>\r\n                Danh sách người dùng\r\n              </Nav.Link>\r\n            </Nav.Item>\r\n            {isAdmin() && (\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"activity\">\r\n                  <i className=\"fas fa-history me-2\"></i>\r\n                  Lịch sử hoạt động\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            )}\r\n            <Nav.Item>\r\n              <Nav.Link eventKey=\"ai-stats\">\r\n                <i className=\"fas fa-robot me-2\"></i>\r\n                Thống kê AI\r\n              </Nav.Link>\r\n            </Nav.Item>\r\n          </Nav>\r\n        </Card.Header>\r\n\r\n        <Card.Body>\r\n          <Tab.Content>\r\n            {/* User List Tab */}\r\n            <Tab.Pane eventKey=\"list\" className={activeTab === 'list' ? 'show active' : ''}>\r\n              {/* Filters */}\r\n              <Row className=\"mb-3\">\r\n                <Col md={4}>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Tìm kiếm người dùng...\"\r\n                    value={filters.search}\r\n                    onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))}\r\n                  />\r\n                </Col>\r\n                <Col md={3}>\r\n                  <Form.Select\r\n                    value={filters.role}\r\n                    onChange={(e) => setFilters(prev => ({ ...prev, role: e.target.value }))}\r\n                  >\r\n                    <option value=\"\">Tất cả vai trò</option>\r\n                    <option value=\"admin\">Admin</option>\r\n                    <option value=\"manager\">Manager</option>\r\n                    <option value=\"staff\">Staff</option>\r\n                    <option value=\"viewer\">Viewer</option>\r\n                  </Form.Select>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <Button variant=\"outline-secondary\" onClick={() => setFilters({ search: '', role: '', page: 1, limit: 20 })}>\r\n                    <i className=\"fas fa-times me-2\"></i>\r\n                    Xóa bộ lọc\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n\r\n              {/* Users Table */}\r\n              <div className=\"table-responsive\">\r\n                <Table hover>\r\n                  <thead className=\"bg-light\">\r\n                    <tr>\r\n                      <th>Người dùng</th>\r\n                      <th>Vai trò</th>\r\n                      <th>Trạng thái</th>\r\n                      <th>Dự án được gán</th>\r\n                      <th>AI Configs</th>\r\n                      <th>Hoạt động cuối</th>\r\n                      <th>Thao tác</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {users.map((userItem) => (\r\n                      <tr key={userItem.id}>\r\n                        <td>\r\n                          <div>\r\n                            <div className=\"fw-bold\">{userItem.full_name}</div>\r\n                            <small className=\"text-muted\">\r\n                              {userItem.username} • {userItem.email}\r\n                            </small>\r\n                          </div>\r\n                        </td>\r\n                        <td>{getRoleBadge(userItem.role)}</td>\r\n                        <td>{getStatusBadge(userItem.is_active)}</td>\r\n                        <td>\r\n                          <Badge bg=\"info\">{userItem.assigned_projects || 0}</Badge>\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg=\"warning\">{userItem.ai_configs_count || 0}</Badge>\r\n                        </td>\r\n                        <td>\r\n                          {userItem.last_activity ? \r\n                            new Date(userItem.last_activity).toLocaleDateString('vi-VN') : \r\n                            'Chưa có'\r\n                          }\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"btn-group\">\r\n                            <Button\r\n                              variant=\"outline-primary\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleViewUser(userItem.id)}\r\n                            >\r\n                              <i className=\"fas fa-eye\"></i>\r\n                            </Button>\r\n                            \r\n                            {hasPermission('user_permissions_manage') && (\r\n                              <Button\r\n                                variant=\"outline-success\"\r\n                                size=\"sm\"\r\n                                onClick={() => handleShowPermissions(userItem.id)}\r\n                                title=\"Quản lý quyền hạn\"\r\n                              >\r\n                                <i className=\"fas fa-key\"></i>\r\n                              </Button>\r\n                            )}\r\n                            \r\n                            {hasPermission('user_ai_manage') && (\r\n                              <Button\r\n                                variant=\"outline-warning\"\r\n                                size=\"sm\"\r\n                                onClick={() => handleShowAIConfigs(userItem.id)}\r\n                                title=\"Cấu hình AI\"\r\n                              >\r\n                                <i className=\"fas fa-robot\"></i>\r\n                              </Button>\r\n                            )}\r\n                            \r\n                            {(isAdmin() || hasPermission('user_logs_view')) && (\r\n                              <Button\r\n                                variant=\"outline-info\"\r\n                                size=\"sm\"\r\n                                onClick={() => handleShowActivity(userItem.id)}\r\n                                title=\"Lịch sử hoạt động\"\r\n                              >\r\n                                <i className=\"fas fa-history\"></i>\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              </div>\r\n            </Tab.Pane>\r\n\r\n            {/* Activity Log Tab (Admin only) */}\r\n            {isAdmin() && (\r\n              <Tab.Pane eventKey=\"activity\" className={activeTab === 'activity' ? 'show active' : ''}>\r\n                <Alert variant=\"info\">\r\n                  <i className=\"fas fa-info-circle me-2\"></i>\r\n                  Tính năng xem lịch sử hoạt động tổng hợp sẽ được triển khai ở component riêng\r\n                </Alert>\r\n              </Tab.Pane>\r\n            )}\r\n\r\n            {/* AI Statistics Tab */}\r\n            <Tab.Pane eventKey=\"ai-stats\" className={activeTab === 'ai-stats' ? 'show active' : ''}>\r\n              <Row>\r\n                <Col md={4}>\r\n                  <Card className=\"border-0 shadow-sm text-center\">\r\n                    <Card.Body>\r\n                      <i className=\"fas fa-users fa-2x text-primary mb-2\"></i>\r\n                      <h4 className=\"mb-1\">{users.filter(u => u.ai_configs_count > 0).length}</h4>\r\n                      <p className=\"text-muted mb-0\">Users có AI config</p>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <Card className=\"border-0 shadow-sm text-center\">\r\n                    <Card.Body>\r\n                      <i className=\"fas fa-robot fa-2x text-success mb-2\"></i>\r\n                      <h4 className=\"mb-1\">{users.reduce((sum, u) => sum + (u.ai_configs_count || 0), 0)}</h4>\r\n                      <p className=\"text-muted mb-0\">Tổng AI configs</p>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <Card className=\"border-0 shadow-sm text-center\">\r\n                    <Card.Body>\r\n                      <i className=\"fas fa-chart-line fa-2x text-warning mb-2\"></i>\r\n                      <h4 className=\"mb-1\">$0.00</h4>\r\n                      <p className=\"text-muted mb-0\">Chi phí AI tháng này</p>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Card className=\"mt-4\">\r\n                <Card.Header>\r\n                  <h6 className=\"mb-0\">Phân bố AI Providers</h6>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <Alert variant=\"info\">\r\n                    Chart thống kê AI providers sẽ được triển khai với dữ liệu thực tế\r\n                  </Alert>\r\n                </Card.Body>\r\n              </Card>\r\n            </Tab.Pane>\r\n          </Tab.Content>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* User Detail Modal */}\r\n      <Modal show={showUserModal} onHide={() => setShowUserModal(false)} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Chi tiết người dùng</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {selectedUser && (\r\n            <Row>\r\n              <Col md={6}>\r\n                <h6>Thông tin cơ bản</h6>\r\n                <div className=\"info-group\">\r\n                  <div><strong>Tên:</strong> {selectedUser.user.full_name}</div>\r\n                  <div><strong>Username:</strong> {selectedUser.user.username}</div>\r\n                  <div><strong>Email:</strong> {selectedUser.user.email}</div>\r\n                  <div><strong>Vai trò:</strong> {getRoleBadge(selectedUser.user.role)}</div>\r\n                  <div><strong>Trạng thái:</strong> {getStatusBadge(selectedUser.user.is_active)}</div>\r\n                </div>\r\n              </Col>\r\n              <Col md={6}>\r\n                <h6>Thống kê</h6>\r\n                <div className=\"info-group\">\r\n                  <div><strong>Dự án được gán:</strong> {selectedUser.project_permissions?.length || 0}</div>\r\n                  <div><strong>AI Configs:</strong> {selectedUser.ai_configurations?.length || 0}</div>\r\n                  <div><strong>Ngày tạo:</strong> {new Date(selectedUser.user.created_at).toLocaleDateString('vi-VN')}</div>\r\n                  <div><strong>Đăng nhập cuối:</strong> {selectedUser.user.last_login ? new Date(selectedUser.user.last_login).toLocaleDateString('vi-VN') : 'Chưa có'}</div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowUserModal(false)}>\r\n            Đóng\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      {/* AI Configuration Manager - Phân hệ 2.4.3 */}\r\n      <AIConfigManager\r\n        user={selectedUser}\r\n        userId={selectedUser?.user?.id || selectedUser?.id}\r\n        show={showAIConfigModal}\r\n        onHide={() => {\r\n          setShowAIConfigModal(false);\r\n          setSelectedUser(null);\r\n        }}\r\n        onSave={() => {\r\n          loadUsers();\r\n          showSuccess('Cấu hình AI đã được cập nhật thành công!');\r\n        }}\r\n      />\r\n\r\n      {/* Permission Manager Modal */}\r\n      <PermissionManager\r\n        user={selectedUser}\r\n        userId={selectedUser?.user?.id || selectedUser?.id}\r\n        show={showPermissionModal}\r\n        onHide={() => {\r\n          setShowPermissionModal(false);\r\n          setSelectedUser(null);\r\n        }}\r\n        onSave={() => {\r\n          loadUsers();\r\n          showSuccess('Cập nhật quyền hạn thành công!');\r\n        }}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default UserManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}