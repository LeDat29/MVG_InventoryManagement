{"ast":null,"code":"import _objectSpread from\"D:/MinhVietGroup/InventoryProject/MVG_InventoryManagement/KinhDoanh/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * Task Manager Component\r\n * Qu·∫£n l√Ω c√¥ng vi·ªác ƒë·ªãnh k·ª≥ cho d·ª± √°n\r\n */import React,{useState,useEffect}from'react';import{Card,Button,Badge,Table,Modal,Form,Row,Col,Tab,Nav}from'react-bootstrap';import TaskForm from'./TaskForm';import TaskCalendar from'./TaskCalendar';import'./TaskManager.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TASK_TYPES={fire_safety:{label:'Ph√≤ng ch√°y',icon:'üî•',color:'danger'},security:{label:'An ninh',icon:'üîí',color:'warning'},maintenance:{label:'B·∫£o tr√¨',icon:'üîß',color:'info'},inspection:{label:'Ki·ªÉm tra',icon:'üîç',color:'primary'},cleaning:{label:'V·ªá sinh',icon:'üßπ',color:'success'},equipment_check:{label:'Thi·∫øt b·ªã',icon:'‚öôÔ∏è',color:'secondary'},other:{label:'Kh√°c',icon:'üìã',color:'dark'}};const STATUS_LABELS={pending:{label:'Ch·ªù x·ª≠ l√Ω',variant:'secondary'},in_progress:{label:'ƒêang l√†m',variant:'primary'},completed:{label:'Ho√†n th√†nh',variant:'success'},overdue:{label:'Qu√° h·∫°n',variant:'danger'},cancelled:{label:'ƒê√£ h·ªßy',variant:'dark'}};const PRIORITY_LABELS={low:{label:'Th·∫•p',variant:'secondary'},medium:{label:'Trung b√¨nh',variant:'info'},high:{label:'Cao',variant:'warning'},critical:{label:'Kh·∫©n c·∫•p',variant:'danger'}};function TaskManager(_ref){var _PRIORITY_LABELS$sele,_PRIORITY_LABELS$sele2,_STATUS_LABELS$select,_STATUS_LABELS$select2;let{projectId,projectName}=_ref;const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(true);const[showForm,setShowForm]=useState(false);const[editingTask,setEditingTask]=useState(null);const[selectedTask,setSelectedTask]=useState(null);const[showDetailModal,setShowDetailModal]=useState(false);const[activeTab,setActiveTab]=useState('list');// Filters\nconst[filters,setFilters]=useState({status:'',task_type:'',assigned_to:''});const[stats,setStats]=useState({total:0,pending:0,in_progress:0,completed:0,overdue:0});useEffect(()=>{if(projectId){loadTasks();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[projectId,filters]);const loadTasks=async()=>{setLoading(true);try{const token=localStorage.getItem('token');const queryParams=new URLSearchParams(filters);const response=await fetch(\"/api/projects/\".concat(projectId,\"/tasks?\").concat(queryParams),{headers:{'Authorization':\"Bearer \".concat(token)}});const data=await response.json();if(data.success){setTasks(data.data.tasks||[]);calculateStats(data.data.tasks||[]);}}catch(error){console.error('Error loading tasks:',error);}finally{setLoading(false);}};const calculateStats=taskList=>{const stats={total:taskList.length,pending:taskList.filter(t=>t.status==='pending').length,in_progress:taskList.filter(t=>t.status==='in_progress').length,completed:taskList.filter(t=>t.status==='completed').length,overdue:taskList.filter(t=>t.status==='overdue').length};setStats(stats);};const handleCreateTask=()=>{setEditingTask(null);setShowForm(true);};const handleEditTask=task=>{setEditingTask(task);setShowForm(true);};const handleDeleteTask=async taskId=>{if(!window.confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a c√¥ng vi·ªác n√†y?'))return;try{const token=localStorage.getItem('token');const response=await fetch(\"/api/projects/\".concat(projectId,\"/tasks/\").concat(taskId),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){loadTasks();}}catch(error){console.error('Error deleting task:',error);}};const handleCompleteTask=async taskId=>{const notes=prompt('Ghi ch√∫ ho√†n th√†nh (t√πy ch·ªçn):');try{const token=localStorage.getItem('token');const response=await fetch(\"/api/projects/\".concat(projectId,\"/tasks/\").concat(taskId,\"/complete\"),{method:'PATCH',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({completion_notes:notes})});if(response.ok){loadTasks();}}catch(error){console.error('Error completing task:',error);}};const handleViewDetail=async taskId=>{try{const token=localStorage.getItem('token');const response=await fetch(\"/api/projects/\".concat(projectId,\"/tasks/\").concat(taskId),{headers:{'Authorization':\"Bearer \".concat(token)}});const data=await response.json();if(data.success){setSelectedTask(data.data);setShowDetailModal(true);}}catch(error){console.error('Error loading task detail:',error);}};const formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString('vi-VN');};const getDaysUntilDue=dueDate=>{const today=new Date();const due=new Date(dueDate);const diffTime=due-today;const diffDays=Math.ceil(diffTime/(1000*60*60*24));return diffDays;};const getTaskTypeInfo=type=>TASK_TYPES[type]||TASK_TYPES.other;return/*#__PURE__*/_jsxs(\"div\",{className:\"task-manager\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"task-header mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-1\",children:\"\\uD83D\\uDCCB Qu\\u1EA3n l\\xFD c\\xF4ng vi\\u1EC7c\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:projectName})]}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleCreateTask,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Th\\xEAm c\\xF4ng vi\\u1EC7c\"]})]})}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-1\",children:stats.total}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"T\\u1ED5ng s\\u1ED1\"})]})})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card border-secondary\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-1 text-secondary\",children:stats.pending}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Ch\\u1EDD x\\u1EED l\\xFD\"})]})})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card border-primary\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-1 text-primary\",children:stats.in_progress}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"\\u0110ang l\\xE0m\"})]})})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card border-success\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-1 text-success\",children:stats.completed}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Ho\\xE0n th\\xE0nh\"})]})})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card border-danger\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-1 text-danger\",children:stats.overdue}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Qu\\xE1 h\\u1EA1n\"})]})})})]}),/*#__PURE__*/_jsx(Tab.Container,{activeKey:activeTab,onSelect:setActiveTab,children:/*#__PURE__*/_jsxs(Card,{className:\"border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-white\",children:/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",className:\"border-0\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"list\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-list me-2\"}),\"Danh s\\xE1ch\"]})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"calendar\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar me-2\"}),\"L\\u1ECBch\"]})})]})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"T\\u1EA5t c\\u1EA3 tr\\u1EA1ng th\\xE1i\"}),Object.entries(STATUS_LABELS).map(_ref2=>{let[key,val]=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:key,children:val.label},key);})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",value:filters.task_type,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{task_type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"T\\u1EA5t c\\u1EA3 lo\\u1EA1i c\\xF4ng vi\\u1EC7c\"}),Object.entries(TASK_TYPES).map(_ref3=>{let[key,val]=_ref3;return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[val.icon,\" \",val.label]},key);})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:()=>setFilters({status:'',task_type:'',assigned_to:''}),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times me-1\"}),\"X\\xF3a b\\u1ED9 l\\u1ECDc\"]})})]}),/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"list\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-muted\",children:\"\\u0110ang t\\u1EA3i...\"})]}):tasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-inbox fa-3x text-muted mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Ch\\u01B0a c\\xF3 c\\xF4ng vi\\u1EC7c n\\xE0o.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'50px'},children:\"\\u01AFu ti\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"C\\xF4ng vi\\u1EC7c\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'120px'},children:\"Lo\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'120px'},children:\"Ng\\u01B0\\u1EDDi th\\u1EF1c hi\\u1EC7n\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'100px'},children:\"H\\u1EA1n\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'100px'},children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'150px'},children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tasks.map(task=>{var _PRIORITY_LABELS$task,_STATUS_LABELS$task$s,_STATUS_LABELS$task$s2;const daysUntil=getDaysUntilDue(task.due_date);const typeInfo=getTaskTypeInfo(task.task_type);return/*#__PURE__*/_jsxs(\"tr\",{className:task.status==='overdue'?'table-danger':'',children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:((_PRIORITY_LABELS$task=PRIORITY_LABELS[task.priority])===null||_PRIORITY_LABELS$task===void 0?void 0:_PRIORITY_LABELS$task.variant)||'secondary',children:task.priority==='critical'?'üî¥':task.priority==='high'?'üü†':task.priority==='medium'?'üü°':'‚ö™'})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:task.title}),task.description&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[task.description.substring(0,50),\"...\"]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Badge,{bg:typeInfo.color,children:[typeInfo.icon,\" \",typeInfo.label]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"small\",{children:task.assigned_to_name||'Ch∆∞a g√°n'})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:formatDate(task.due_date)}),daysUntil>=0&&daysUntil<=7&&task.status!=='completed'&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-warning\",children:[\"C\\xF2n \",daysUntil,\" ng\\xE0y\"]}),daysUntil<0&&task.status!=='completed'&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-danger\",children:[\"Tr\\u1EC5 \",Math.abs(daysUntil),\" ng\\xE0y\"]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:((_STATUS_LABELS$task$s=STATUS_LABELS[task.status])===null||_STATUS_LABELS$task$s===void 0?void 0:_STATUS_LABELS$task$s.variant)||'secondary',children:((_STATUS_LABELS$task$s2=STATUS_LABELS[task.status])===null||_STATUS_LABELS$task$s2===void 0?void 0:_STATUS_LABELS$task$s2.label)||task.status})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group btn-group-sm\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",size:\"sm\",onClick:()=>handleViewDetail(task.id),title:\"Xem chi ti\\u1EBFt\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})}),task.status!=='completed'&&/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",size:\"sm\",onClick:()=>handleCompleteTask(task.id),title:\"Ho\\xE0n th\\xE0nh\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>handleEditTask(task),title:\"S\\u1EEDa\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>handleDeleteTask(task.id),title:\"X\\xF3a\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})})]},task.id);})})]})})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"calendar\",children:/*#__PURE__*/_jsx(TaskCalendar,{tasks:tasks,onTaskClick:handleViewDetail})})]})]})]})}),/*#__PURE__*/_jsx(TaskForm,{show:showForm,onHide:()=>setShowForm(false),projectId:projectId,task:editingTask,onSave:()=>{setShowForm(false);loadTasks();}}),selectedTask&&/*#__PURE__*/_jsxs(Modal,{show:showDetailModal,onHide:()=>setShowDetailModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Chi ti\\u1EBFt c\\xF4ng vi\\u1EC7c\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Th\\xF4ng tin chung\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ti\\xEAu \\u0111\\u1EC1:\"}),\" \",selectedTask.task.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xF4 t\\u1EA3:\"}),\" \",selectedTask.task.description||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Lo\\u1EA1i:\"}),' ',/*#__PURE__*/_jsx(Badge,{bg:getTaskTypeInfo(selectedTask.task.task_type).color,children:getTaskTypeInfo(selectedTask.task.task_type).label})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u01AFu ti\\xEAn:\"}),' ',/*#__PURE__*/_jsx(Badge,{bg:(_PRIORITY_LABELS$sele=PRIORITY_LABELS[selectedTask.task.priority])===null||_PRIORITY_LABELS$sele===void 0?void 0:_PRIORITY_LABELS$sele.variant,children:(_PRIORITY_LABELS$sele2=PRIORITY_LABELS[selectedTask.task.priority])===null||_PRIORITY_LABELS$sele2===void 0?void 0:_PRIORITY_LABELS$sele2.label})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tr\\u1EA1ng th\\xE1i:\"}),' ',/*#__PURE__*/_jsx(Badge,{bg:(_STATUS_LABELS$select=STATUS_LABELS[selectedTask.task.status])===null||_STATUS_LABELS$select===void 0?void 0:_STATUS_LABELS$select.variant,children:(_STATUS_LABELS$select2=STATUS_LABELS[selectedTask.task.status])===null||_STATUS_LABELS$select2===void 0?void 0:_STATUS_LABELS$select2.label})]})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"L\\u1ECBch tr\\xECnh\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u:\"}),\" \",formatDate(selectedTask.task.start_date)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"H\\u1EA1n ch\\xF3t:\"}),\" \",formatDate(selectedTask.task.due_date)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\u1EA7n su\\u1EA5t:\"}),\" \",selectedTask.task.frequency]}),selectedTask.task.is_recurring&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"L\\u1EA7n k\\u1EBF ti\\u1EBFp:\"}),\" \",formatDate(selectedTask.task.next_due_date)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\u01B0\\u1EDDi th\\u1EF1c hi\\u1EC7n:\"}),\" \",selectedTask.task.assigned_to_name||'Ch∆∞a g√°n']})]})]}),selectedTask.task.completed_at&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 pt-3 border-top\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Th\\xF4ng tin ho\\xE0n th\\xE0nh\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ho\\xE0n th\\xE0nh l\\xFAc:\"}),\" \",formatDate(selectedTask.task.completed_at)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\u01B0\\u1EDDi ho\\xE0n th\\xE0nh:\"}),\" \",selectedTask.task.completed_by_name]}),selectedTask.task.completion_notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ghi ch\\xFA:\"}),\" \",selectedTask.task.completion_notes]})]}),selectedTask.comments&&selectedTask.comments.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 pt-3 border-top\",children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"B\\xECnh lu\\u1EADn (\",selectedTask.comments.length,\")\"]}),selectedTask.comments.map(comment=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 p-2 bg-light rounded\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[comment.user_name,\" - \",formatDate(comment.created_at)]}),/*#__PURE__*/_jsx(\"div\",{children:comment.comment})]},comment.id))]})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowDetailModal(false),children:\"\\u0110\\xF3ng\"})})]})]});}export default TaskManager;","map":{"version":3,"names":["React","useState","useEffect","Card","Button","Badge","Table","Modal","Form","Row","Col","Tab","Nav","TaskForm","TaskCalendar","jsx","_jsx","jsxs","_jsxs","TASK_TYPES","fire_safety","label","icon","color","security","maintenance","inspection","cleaning","equipment_check","other","STATUS_LABELS","pending","variant","in_progress","completed","overdue","cancelled","PRIORITY_LABELS","low","medium","high","critical","TaskManager","_ref","_PRIORITY_LABELS$sele","_PRIORITY_LABELS$sele2","_STATUS_LABELS$select","_STATUS_LABELS$select2","projectId","projectName","tasks","setTasks","loading","setLoading","showForm","setShowForm","editingTask","setEditingTask","selectedTask","setSelectedTask","showDetailModal","setShowDetailModal","activeTab","setActiveTab","filters","setFilters","status","task_type","assigned_to","stats","setStats","total","loadTasks","token","localStorage","getItem","queryParams","URLSearchParams","response","fetch","concat","headers","data","json","success","calculateStats","error","console","taskList","length","filter","t","handleCreateTask","handleEditTask","task","handleDeleteTask","taskId","window","confirm","method","ok","handleCompleteTask","notes","prompt","body","JSON","stringify","completion_notes","handleViewDetail","formatDate","dateString","Date","toLocaleDateString","getDaysUntilDue","dueDate","today","due","diffTime","diffDays","Math","ceil","getTaskTypeInfo","type","className","children","onClick","md","Body","Container","activeKey","onSelect","Header","Item","Link","eventKey","Select","size","value","onChange","e","_objectSpread","target","Object","entries","map","_ref2","key","val","_ref3","Content","Pane","hover","style","width","_PRIORITY_LABELS$task","_STATUS_LABELS$task$s","_STATUS_LABELS$task$s2","daysUntil","due_date","typeInfo","bg","priority","title","description","substring","assigned_to_name","abs","id","onTaskClick","show","onHide","onSave","closeButton","Title","start_date","frequency","is_recurring","next_due_date","completed_at","completed_by_name","comments","comment","user_name","created_at","Footer"],"sources":["D:/MinhVietGroup/InventoryProject/MVG_InventoryManagement/KinhDoanh/client/src/components/Tasks/TaskManager.js"],"sourcesContent":["/**\r\n * Task Manager Component\r\n * Qu·∫£n l√Ω c√¥ng vi·ªác ƒë·ªãnh k·ª≥ cho d·ª± √°n\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Card, Button, Badge, Table, Modal, Form, Row, Col, Tab, Nav } from 'react-bootstrap';\r\nimport TaskForm from './TaskForm';\r\nimport TaskCalendar from './TaskCalendar';\r\nimport './TaskManager.css';\r\n\r\nconst TASK_TYPES = {\r\n  fire_safety: { label: 'Ph√≤ng ch√°y', icon: 'üî•', color: 'danger' },\r\n  security: { label: 'An ninh', icon: 'üîí', color: 'warning' },\r\n  maintenance: { label: 'B·∫£o tr√¨', icon: 'üîß', color: 'info' },\r\n  inspection: { label: 'Ki·ªÉm tra', icon: 'üîç', color: 'primary' },\r\n  cleaning: { label: 'V·ªá sinh', icon: 'üßπ', color: 'success' },\r\n  equipment_check: { label: 'Thi·∫øt b·ªã', icon: '‚öôÔ∏è', color: 'secondary' },\r\n  other: { label: 'Kh√°c', icon: 'üìã', color: 'dark' }\r\n};\r\n\r\nconst STATUS_LABELS = {\r\n  pending: { label: 'Ch·ªù x·ª≠ l√Ω', variant: 'secondary' },\r\n  in_progress: { label: 'ƒêang l√†m', variant: 'primary' },\r\n  completed: { label: 'Ho√†n th√†nh', variant: 'success' },\r\n  overdue: { label: 'Qu√° h·∫°n', variant: 'danger' },\r\n  cancelled: { label: 'ƒê√£ h·ªßy', variant: 'dark' }\r\n};\r\n\r\nconst PRIORITY_LABELS = {\r\n  low: { label: 'Th·∫•p', variant: 'secondary' },\r\n  medium: { label: 'Trung b√¨nh', variant: 'info' },\r\n  high: { label: 'Cao', variant: 'warning' },\r\n  critical: { label: 'Kh·∫©n c·∫•p', variant: 'danger' }\r\n};\r\n\r\nfunction TaskManager({ projectId, projectName }) {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('list');\r\n  \r\n  // Filters\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    task_type: '',\r\n    assigned_to: ''\r\n  });\r\n\r\n  const [stats, setStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    in_progress: 0,\r\n    completed: 0,\r\n    overdue: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      loadTasks();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [projectId, filters]);\r\n\r\n  const loadTasks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters);\r\n      \r\n      const response = await fetch(`/api/projects/${projectId}/tasks?${queryParams}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setTasks(data.data.tasks || []);\r\n        calculateStats(data.data.tasks || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading tasks:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateStats = (taskList) => {\r\n    const stats = {\r\n      total: taskList.length,\r\n      pending: taskList.filter(t => t.status === 'pending').length,\r\n      in_progress: taskList.filter(t => t.status === 'in_progress').length,\r\n      completed: taskList.filter(t => t.status === 'completed').length,\r\n      overdue: taskList.filter(t => t.status === 'overdue').length\r\n    };\r\n    setStats(stats);\r\n  };\r\n\r\n  const handleCreateTask = () => {\r\n    setEditingTask(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEditTask = (task) => {\r\n    setEditingTask(task);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDeleteTask = async (taskId) => {\r\n    if (!window.confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a c√¥ng vi·ªác n√†y?')) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/projects/${projectId}/tasks/${taskId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        loadTasks();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting task:', error);\r\n    }\r\n  };\r\n\r\n  const handleCompleteTask = async (taskId) => {\r\n    const notes = prompt('Ghi ch√∫ ho√†n th√†nh (t√πy ch·ªçn):');\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/projects/${projectId}/tasks/${taskId}/complete`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ completion_notes: notes })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        loadTasks();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error completing task:', error);\r\n    }\r\n  };\r\n\r\n  const handleViewDetail = async (taskId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/projects/${projectId}/tasks/${taskId}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setSelectedTask(data.data);\r\n        setShowDetailModal(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading task detail:', error);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('vi-VN');\r\n  };\r\n\r\n  const getDaysUntilDue = (dueDate) => {\r\n    const today = new Date();\r\n    const due = new Date(dueDate);\r\n    const diffTime = due - today;\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return diffDays;\r\n  };\r\n\r\n  const getTaskTypeInfo = (type) => TASK_TYPES[type] || TASK_TYPES.other;\r\n\r\n  return (\r\n    <div className=\"task-manager\">\r\n      {/* Header */}\r\n      <div className=\"task-header mb-4\">\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <h4 className=\"mb-1\">üìã Qu·∫£n l√Ω c√¥ng vi·ªác</h4>\r\n            <p className=\"text-muted mb-0\">{projectName}</p>\r\n          </div>\r\n          <Button variant=\"primary\" onClick={handleCreateTask}>\r\n            <i className=\"fas fa-plus me-2\"></i>\r\n            Th√™m c√¥ng vi·ªác\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={2}>\r\n          <Card className=\"stat-card\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1\">{stats.total}</h3>\r\n              <small className=\"text-muted\">T·ªïng s·ªë</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-secondary\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-secondary\">{stats.pending}</h3>\r\n              <small className=\"text-muted\">Ch·ªù x·ª≠ l√Ω</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-primary\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-primary\">{stats.in_progress}</h3>\r\n              <small className=\"text-muted\">ƒêang l√†m</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-success\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-success\">{stats.completed}</h3>\r\n              <small className=\"text-muted\">Ho√†n th√†nh</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Card className=\"stat-card border-danger\">\r\n            <Card.Body className=\"text-center\">\r\n              <h3 className=\"mb-1 text-danger\">{stats.overdue}</h3>\r\n              <small className=\"text-muted\">Qu√° h·∫°n</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Tabs */}\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        <Card className=\"border-0 shadow-sm\">\r\n          <Card.Header className=\"bg-white\">\r\n            <Nav variant=\"tabs\" className=\"border-0\">\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"list\">\r\n                  <i className=\"fas fa-list me-2\"></i>\r\n                  Danh s√°ch\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"calendar\">\r\n                  <i className=\"fas fa-calendar me-2\"></i>\r\n                  L·ªãch\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav>\r\n          </Card.Header>\r\n\r\n          <Card.Body>\r\n            {/* Filters */}\r\n            <Row className=\"mb-3\">\r\n              <Col md={3}>\r\n                <Form.Select\r\n                  size=\"sm\"\r\n                  value={filters.status}\r\n                  onChange={(e) => setFilters({ ...filters, status: e.target.value })}\r\n                >\r\n                  <option value=\"\">T·∫•t c·∫£ tr·∫°ng th√°i</option>\r\n                  {Object.entries(STATUS_LABELS).map(([key, val]) => (\r\n                    <option key={key} value={key}>{val.label}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Col>\r\n              <Col md={3}>\r\n                <Form.Select\r\n                  size=\"sm\"\r\n                  value={filters.task_type}\r\n                  onChange={(e) => setFilters({ ...filters, task_type: e.target.value })}\r\n                >\r\n                  <option value=\"\">T·∫•t c·∫£ lo·∫°i c√¥ng vi·ªác</option>\r\n                  {Object.entries(TASK_TYPES).map(([key, val]) => (\r\n                    <option key={key} value={key}>{val.icon} {val.label}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Col>\r\n              <Col md={3}>\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  size=\"sm\"\r\n                  onClick={() => setFilters({ status: '', task_type: '', assigned_to: '' })}\r\n                >\r\n                  <i className=\"fas fa-times me-1\"></i>\r\n                  X√≥a b·ªô l·ªçc\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Tab.Content>\r\n              {/* List View */}\r\n              <Tab.Pane eventKey=\"list\">\r\n                {loading ? (\r\n                  <div className=\"text-center py-5\">\r\n                    <div className=\"spinner-border text-primary\"></div>\r\n                    <p className=\"mt-2 text-muted\">ƒêang t·∫£i...</p>\r\n                  </div>\r\n                ) : tasks.length === 0 ? (\r\n                  <div className=\"text-center py-5\">\r\n                    <i className=\"fas fa-inbox fa-3x text-muted mb-3\"></i>\r\n                    <p className=\"text-muted\">Ch∆∞a c√≥ c√¥ng vi·ªác n√†o.</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"table-responsive\">\r\n                    <Table hover>\r\n                      <thead className=\"bg-light\">\r\n                        <tr>\r\n                          <th style={{ width: '50px' }}>∆Øu ti√™n</th>\r\n                          <th>C√¥ng vi·ªác</th>\r\n                          <th style={{ width: '120px' }}>Lo·∫°i</th>\r\n                          <th style={{ width: '120px' }}>Ng∆∞·ªùi th·ª±c hi·ªán</th>\r\n                          <th style={{ width: '100px' }}>H·∫°n</th>\r\n                          <th style={{ width: '100px' }}>Tr·∫°ng th√°i</th>\r\n                          <th style={{ width: '150px' }}>Thao t√°c</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {tasks.map(task => {\r\n                          const daysUntil = getDaysUntilDue(task.due_date);\r\n                          const typeInfo = getTaskTypeInfo(task.task_type);\r\n                          \r\n                          return (\r\n                            <tr key={task.id} className={task.status === 'overdue' ? 'table-danger' : ''}>\r\n                              <td>\r\n                                <Badge bg={PRIORITY_LABELS[task.priority]?.variant || 'secondary'}>\r\n                                  {task.priority === 'critical' ? 'üî¥' : \r\n                                   task.priority === 'high' ? 'üü†' :\r\n                                   task.priority === 'medium' ? 'üü°' : '‚ö™'}\r\n                                </Badge>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"fw-bold\">{task.title}</div>\r\n                                {task.description && (\r\n                                  <small className=\"text-muted\">{task.description.substring(0, 50)}...</small>\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                <Badge bg={typeInfo.color}>\r\n                                  {typeInfo.icon} {typeInfo.label}\r\n                                </Badge>\r\n                              </td>\r\n                              <td>\r\n                                <small>{task.assigned_to_name || 'Ch∆∞a g√°n'}</small>\r\n                              </td>\r\n                              <td>\r\n                                <div>{formatDate(task.due_date)}</div>\r\n                                {daysUntil >= 0 && daysUntil <= 7 && task.status !== 'completed' && (\r\n                                  <small className=\"text-warning\">C√≤n {daysUntil} ng√†y</small>\r\n                                )}\r\n                                {daysUntil < 0 && task.status !== 'completed' && (\r\n                                  <small className=\"text-danger\">Tr·ªÖ {Math.abs(daysUntil)} ng√†y</small>\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                <Badge bg={STATUS_LABELS[task.status]?.variant || 'secondary'}>\r\n                                  {STATUS_LABELS[task.status]?.label || task.status}\r\n                                </Badge>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"btn-group btn-group-sm\">\r\n                                  <Button\r\n                                    variant=\"outline-info\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => handleViewDetail(task.id)}\r\n                                    title=\"Xem chi ti·∫øt\"\r\n                                  >\r\n                                    <i className=\"fas fa-eye\"></i>\r\n                                  </Button>\r\n                                  \r\n                                  {task.status !== 'completed' && (\r\n                                    <Button\r\n                                      variant=\"outline-success\"\r\n                                      size=\"sm\"\r\n                                      onClick={() => handleCompleteTask(task.id)}\r\n                                      title=\"Ho√†n th√†nh\"\r\n                                    >\r\n                                      <i className=\"fas fa-check\"></i>\r\n                                    </Button>\r\n                                  )}\r\n                                  \r\n                                  <Button\r\n                                    variant=\"outline-primary\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => handleEditTask(task)}\r\n                                    title=\"S·ª≠a\"\r\n                                  >\r\n                                    <i className=\"fas fa-edit\"></i>\r\n                                  </Button>\r\n                                  \r\n                                  <Button\r\n                                    variant=\"outline-danger\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => handleDeleteTask(task.id)}\r\n                                    title=\"X√≥a\"\r\n                                  >\r\n                                    <i className=\"fas fa-trash\"></i>\r\n                                  </Button>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </Table>\r\n                  </div>\r\n                )}\r\n              </Tab.Pane>\r\n\r\n              {/* Calendar View */}\r\n              <Tab.Pane eventKey=\"calendar\">\r\n                <TaskCalendar tasks={tasks} onTaskClick={handleViewDetail} />\r\n              </Tab.Pane>\r\n            </Tab.Content>\r\n          </Card.Body>\r\n        </Card>\r\n      </Tab.Container>\r\n\r\n      {/* Task Form Modal */}\r\n      <TaskForm\r\n        show={showForm}\r\n        onHide={() => setShowForm(false)}\r\n        projectId={projectId}\r\n        task={editingTask}\r\n        onSave={() => {\r\n          setShowForm(false);\r\n          loadTasks();\r\n        }}\r\n      />\r\n\r\n      {/* Task Detail Modal */}\r\n      {selectedTask && (\r\n        <Modal show={showDetailModal} onHide={() => setShowDetailModal(false)} size=\"lg\">\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Chi ti·∫øt c√¥ng vi·ªác</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col md={6}>\r\n                <h6>Th√¥ng tin chung</h6>\r\n                <div className=\"mb-2\"><strong>Ti√™u ƒë·ªÅ:</strong> {selectedTask.task.title}</div>\r\n                <div className=\"mb-2\"><strong>M√¥ t·∫£:</strong> {selectedTask.task.description || 'N/A'}</div>\r\n                <div className=\"mb-2\">\r\n                  <strong>Lo·∫°i:</strong>{' '}\r\n                  <Badge bg={getTaskTypeInfo(selectedTask.task.task_type).color}>\r\n                    {getTaskTypeInfo(selectedTask.task.task_type).label}\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <strong>∆Øu ti√™n:</strong>{' '}\r\n                  <Badge bg={PRIORITY_LABELS[selectedTask.task.priority]?.variant}>\r\n                    {PRIORITY_LABELS[selectedTask.task.priority]?.label}\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"mb-2\">\r\n                  <strong>Tr·∫°ng th√°i:</strong>{' '}\r\n                  <Badge bg={STATUS_LABELS[selectedTask.task.status]?.variant}>\r\n                    {STATUS_LABELS[selectedTask.task.status]?.label}\r\n                  </Badge>\r\n                </div>\r\n              </Col>\r\n              <Col md={6}>\r\n                <h6>L·ªãch tr√¨nh</h6>\r\n                <div className=\"mb-2\"><strong>Ng√†y b·∫Øt ƒë·∫ßu:</strong> {formatDate(selectedTask.task.start_date)}</div>\r\n                <div className=\"mb-2\"><strong>H·∫°n ch√≥t:</strong> {formatDate(selectedTask.task.due_date)}</div>\r\n                <div className=\"mb-2\"><strong>T·∫ßn su·∫•t:</strong> {selectedTask.task.frequency}</div>\r\n                {selectedTask.task.is_recurring && (\r\n                  <div className=\"mb-2\"><strong>L·∫ßn k·∫ø ti·∫øp:</strong> {formatDate(selectedTask.task.next_due_date)}</div>\r\n                )}\r\n                <div className=\"mb-2\"><strong>Ng∆∞·ªùi th·ª±c hi·ªán:</strong> {selectedTask.task.assigned_to_name || 'Ch∆∞a g√°n'}</div>\r\n              </Col>\r\n            </Row>\r\n\r\n            {selectedTask.task.completed_at && (\r\n              <div className=\"mt-3 pt-3 border-top\">\r\n                <h6>Th√¥ng tin ho√†n th√†nh</h6>\r\n                <div className=\"mb-2\"><strong>Ho√†n th√†nh l√∫c:</strong> {formatDate(selectedTask.task.completed_at)}</div>\r\n                <div className=\"mb-2\"><strong>Ng∆∞·ªùi ho√†n th√†nh:</strong> {selectedTask.task.completed_by_name}</div>\r\n                {selectedTask.task.completion_notes && (\r\n                  <div className=\"mb-2\"><strong>Ghi ch√∫:</strong> {selectedTask.task.completion_notes}</div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {selectedTask.comments && selectedTask.comments.length > 0 && (\r\n              <div className=\"mt-3 pt-3 border-top\">\r\n                <h6>B√¨nh lu·∫≠n ({selectedTask.comments.length})</h6>\r\n                {selectedTask.comments.map(comment => (\r\n                  <div key={comment.id} className=\"mb-2 p-2 bg-light rounded\">\r\n                    <small className=\"text-muted\">{comment.user_name} - {formatDate(comment.created_at)}</small>\r\n                    <div>{comment.comment}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={() => setShowDetailModal(false)}>\r\n              ƒê√≥ng\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TaskManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}