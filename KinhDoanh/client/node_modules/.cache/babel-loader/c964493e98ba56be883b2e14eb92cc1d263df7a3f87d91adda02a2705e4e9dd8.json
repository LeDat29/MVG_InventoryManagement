{"ast":null,"code":"/**\r\n * Google Map Wrapper Component\r\n * Wrapper cho Google Maps với các settings cơ bản\r\n */import React from'react';import{GoogleMap,useJsApiLoader}from'@react-google-maps/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GOOGLE_MAPS_LIBRARIES=['drawing','geometry'];const mapContainerStyle={width:'100%',height:'600px'};const defaultCenter={lat:10.762622,// Hồ Chí Minh\nlng:106.660172};const mapOptions={disableDefaultUI:false,zoomControl:true,streetViewControl:true,mapTypeControl:true,fullscreenControl:true,clickableIcons:false,mapTypeId:'satellite',// satellite view for warehouses\ntilt:0};function GoogleMapWrapper(_ref){let{center,zoom=16,children,onMapLoad,onMapClick}=_ref;const{isLoaded,loadError}=useJsApiLoader({googleMapsApiKey:process.env.REACT_APP_GOOGLE_MAPS_API_KEY||'',libraries:GOOGLE_MAPS_LIBRARIES});const[,setMap]=React.useState(null);const mapRef=React.useRef(null);const onLoad=React.useCallback(mapInstance=>{setMap(mapInstance);mapRef.current=mapInstance;if(onMapLoad){onMapLoad(mapInstance);}},[onMapLoad]);const onUnmount=React.useCallback(()=>{setMap(null);mapRef.current=null;},[]);// Auto-center map when center prop changes\nReact.useEffect(()=>{if(mapRef.current&&center){mapRef.current.panTo(center);mapRef.current.setZoom(zoom);}},[center,zoom]);const handleMapClick=React.useCallback(event=>{if(onMapClick){onMapClick(event.latLng.lat(),event.latLng.lng());}},[onMapClick]);if(loadError){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center',color:'red'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u274C L\\u1ED7i t\\u1EA3i Google Maps\"}),/*#__PURE__*/_jsx(\"p\",{children:loadError.message}),/*#__PURE__*/_jsx(\"p\",{children:\"Vui l\\xF2ng ki\\u1EC3m tra:\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{textAlign:'left',display:'inline-block'},children:[/*#__PURE__*/_jsx(\"li\",{children:\"REACT_APP_GOOGLE_MAPS_API_KEY trong file .env\"}),/*#__PURE__*/_jsx(\"li\",{children:\"API key \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c enable Maps JavaScript API\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Billing \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c setup (n\\u1EBFu c\\u1EA7n)\"})]})]});}if(!isLoaded){return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"\\u0110ang t\\u1EA3i b\\u1EA3n \\u0111\\u1ED3...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"\\u0110ang t\\u1EA3i Google Maps...\"})]});}return/*#__PURE__*/_jsx(GoogleMap,{mapContainerStyle:mapContainerStyle,center:center||defaultCenter,zoom:zoom,onLoad:onLoad,onUnmount:onUnmount,onClick:handleMapClick,options:mapOptions,children:children});}export default GoogleMapWrapper;","map":{"version":3,"names":["React","GoogleMap","useJsApiLoader","jsx","_jsx","jsxs","_jsxs","GOOGLE_MAPS_LIBRARIES","mapContainerStyle","width","height","defaultCenter","lat","lng","mapOptions","disableDefaultUI","zoomControl","streetViewControl","mapTypeControl","fullscreenControl","clickableIcons","mapTypeId","tilt","GoogleMapWrapper","_ref","center","zoom","children","onMapLoad","onMapClick","isLoaded","loadError","googleMapsApiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","libraries","setMap","useState","mapRef","useRef","onLoad","useCallback","mapInstance","current","onUnmount","useEffect","panTo","setZoom","handleMapClick","event","latLng","style","padding","textAlign","color","message","display","className","role","onClick","options"],"sources":["C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/src/components/Map/GoogleMapWrapper.js"],"sourcesContent":["/**\r\n * Google Map Wrapper Component\r\n * Wrapper cho Google Maps với các settings cơ bản\r\n */\r\n\r\nimport React from 'react';\r\nimport { GoogleMap, useJsApiLoader } from '@react-google-maps/api';\r\n\r\nconst GOOGLE_MAPS_LIBRARIES = ['drawing', 'geometry'];\r\n\r\nconst mapContainerStyle = {\r\n  width: '100%',\r\n  height: '600px'\r\n};\r\n\r\nconst defaultCenter = {\r\n  lat: 10.762622, // Hồ Chí Minh\r\n  lng: 106.660172\r\n};\r\n\r\nconst mapOptions = {\r\n  disableDefaultUI: false,\r\n  zoomControl: true,\r\n  streetViewControl: true,\r\n  mapTypeControl: true,\r\n  fullscreenControl: true,\r\n  clickableIcons: false,\r\n  mapTypeId: 'satellite', // satellite view for warehouses\r\n  tilt: 0\r\n};\r\n\r\nfunction GoogleMapWrapper({ center, zoom = 16, children, onMapLoad, onMapClick }) {\r\n  const { isLoaded, loadError } = useJsApiLoader({\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY || '',\r\n    libraries: GOOGLE_MAPS_LIBRARIES,\r\n  });\r\n\r\n  const [, setMap] = React.useState(null);\r\n  const mapRef = React.useRef(null);\r\n\r\n  const onLoad = React.useCallback((mapInstance) => {\r\n    setMap(mapInstance);\r\n    mapRef.current = mapInstance;\r\n    if (onMapLoad) {\r\n      onMapLoad(mapInstance);\r\n    }\r\n  }, [onMapLoad]);\r\n\r\n  const onUnmount = React.useCallback(() => {\r\n    setMap(null);\r\n    mapRef.current = null;\r\n  }, []);\r\n\r\n  // Auto-center map when center prop changes\r\n  React.useEffect(() => {\r\n    if (mapRef.current && center) {\r\n      mapRef.current.panTo(center);\r\n      mapRef.current.setZoom(zoom);\r\n    }\r\n  }, [center, zoom]);\r\n\r\n  const handleMapClick = React.useCallback((event) => {\r\n    if (onMapClick) {\r\n      onMapClick(event.latLng.lat(), event.latLng.lng());\r\n    }\r\n  }, [onMapClick]);\r\n\r\n  if (loadError) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center', color: 'red' }}>\r\n        <h4>❌ Lỗi tải Google Maps</h4>\r\n        <p>{loadError.message}</p>\r\n        <p>Vui lòng kiểm tra:</p>\r\n        <ul style={{ textAlign: 'left', display: 'inline-block' }}>\r\n          <li>REACT_APP_GOOGLE_MAPS_API_KEY trong file .env</li>\r\n          <li>API key đã được enable Maps JavaScript API</li>\r\n          <li>Billing đã được setup (nếu cần)</li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isLoaded) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center' }}>\r\n        <div className=\"spinner-border text-primary\" role=\"status\">\r\n          <span className=\"visually-hidden\">Đang tải bản đồ...</span>\r\n        </div>\r\n        <p className=\"mt-2\">Đang tải Google Maps...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <GoogleMap\r\n      mapContainerStyle={mapContainerStyle}\r\n      center={center || defaultCenter}\r\n      zoom={zoom}\r\n      onLoad={onLoad}\r\n      onUnmount={onUnmount}\r\n      onClick={handleMapClick}\r\n      options={mapOptions}\r\n    >\r\n      {children}\r\n    </GoogleMap>\r\n  );\r\n}\r\n\r\nexport default GoogleMapWrapper;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}