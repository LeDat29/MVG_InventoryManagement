{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * Project Detail Page - KHO MVG\r\n * Chi tiết dự án với Google Maps và quản lý zones\r\n */import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button,Badge,Tab,Nav,Table,Modal,Alert,Form}from'react-bootstrap';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useNotification}from'../../contexts/NotificationContext';import axios from'axios';import LoadingSpinner from'../../components/Common/LoadingSpinner';import ProjectMapView from'../../components/Map/ProjectMapView';import TaskManager from'../../components/Tasks/TaskManager';import'./ProjectDetail.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ProjectDetail(){var _project$owner_info,_project$owner_info2,_project$owner_info3,_project$project_dire,_project$project_dire2,_project$project_dire3,_project$project_dire4,_project$project_mana,_project$project_mana2,_project$project_mana3,_project$project_mana4,_project$legal_docume,_project$legal_docume2,_project$legal_docume3;const{id}=useParams();const navigate=useNavigate();const{hasPermission}=useAuth();const{showNotification}=useNotification();const[loading,setLoading]=useState(true);const[project,setProject]=useState(null);const[zones,setZones]=useState([]);const[activeTab,setActiveTab]=useState('overview');const[showZoneModal,setShowZoneModal]=useState(false);const[selectedZone,setSelectedZone]=useState(null);const[showAddZoneModal,setShowAddZoneModal]=useState(false);const[showDocumentModal,setShowDocumentModal]=useState(false);const[uploadedDocuments,setUploadedDocuments]=useState([]);const[isDocumentServiceAvailable,setIsDocumentServiceAvailable]=useState(true);const[isHeaderCollapsed,setIsHeaderCollapsed]=useState(false);useEffect(()=>{let scrollTimeout;const scrollThreshold=500;// Tăng ngưỡng cuộn để ổn định hơn (trước là 100)\nconst debounceDelay=50;// Giảm độ trễ debounce để phản ứng nhanh hơn một chút\nconst handleScroll=()=>{clearTimeout(scrollTimeout);scrollTimeout=setTimeout(()=>{if(window.scrollY>scrollThreshold){setIsHeaderCollapsed(true);}else{setIsHeaderCollapsed(false);}},debounceDelay);};window.addEventListener('scroll',handleScroll);return()=>{window.removeEventListener('scroll',handleScroll);clearTimeout(scrollTimeout);};},[]);// Mock project data\nconst mockProject={id:parseInt(id),name:'Kho xưởng Bình Dương',code:'KX-BD-001',description:'Khu kho xưởng hiện đại với đầy đủ tiện ích và hạ tầng logistics.',address:'123 Đường ABC, Thuận An, Bình Dương',province:'Bình Dương',district:'Thuận An',ward:'Phường An Thạnh',latitude:10.9045,longitude:106.7213,status:'operational',total_area:15000,used_area:12000,available_area:3000,fixed_area:500,owner_info:{name:'Công ty TNHH ABC',phone:'0123456789',email:'contact@abc.com'},project_director:{name:'Nguyễn Văn Kiên',phone:'0987654321',email:'kien@abc.com',position:'Giám đốc dự án'},project_manager:{name:'Trần Thị Liên',phone:'0976543210',email:'lien@abc.com',position:'Người quản lý dự án'},legal_documents:{business_license:'GP-123456789',construction_permit:'XD-987654321',fire_safety_cert:'PCCC-111222333'},created_at:'2024-01-15',created_by_username:'admin'};const mockZones=[{id:1,zone_code:'A1',zone_name:'Khu vực A1',area:500,status:'rented',rental_price:150000,tenant_info:{customer_code:'KH001',company_name:'Công ty XYZ',contact_person:'Nguyễn Văn A',contract_number:'HD240001',end_date:'2024-12-31'}},{id:2,zone_code:'A2',zone_name:'Khu vực A2',area:750,status:'available',rental_price:140000,tenant_info:null},{id:3,zone_code:'B1',zone_name:'Khu vực B1',area:600,status:'deposited',rental_price:160000,tenant_info:{customer_code:'KH002',company_name:'Công ty DEF',contact_person:'Trần Thị B',contract_number:'HD240002',end_date:'2024-06-30'}},{id:4,zone_code:'C1',zone_name:'Khu vực C1 - Văn phòng',area:200,status:'maintenance',rental_price:0,tenant_info:null}];useEffect(()=>{// Simulate API call\nsetTimeout(()=>{setProject(mockProject);setZones(mockZones);setLoading(false);},1000);},[id,mockProject,mockZones]);useEffect(()=>{// Fetch uploaded documents for this project\nconst fetchDocuments=async()=>{try{const resp=await axios.get('/api/documents',{params:{resource_type:'project',resource_id:id}});if(resp.data&&resp.data.success){const files=resp.data.data.files.map(f=>({id:f._id||f.id,name:f.originalname||f.name||f.filename,filename:f.filename,size:f.size,mimetype:f.mimetype,uploadedAt:f.uploaded_at||f.uploadedAt,category_id:f.category_id,resource_type:f.resource_type,resource_id:f.resource_id}));setUploadedDocuments(files);}}catch(err){console.error('Error fetching documents',err);setIsDocumentServiceAvailable(false);showNotification('Không tải được danh sách tài liệu. Vui lòng thử lại sau.','warning');}};fetchDocuments();},[id,showNotification]);const getStatusBadge=status=>{const statusMap={operational:{variant:'success',label:'Hoạt động'},construction:{variant:'warning',label:'Xây dựng'},planning:{variant:'info',label:'Lên kế hoạch'},maintenance:{variant:'secondary',label:'Bảo trì'}};const statusInfo=statusMap[status]||{variant:'secondary',label:status};return/*#__PURE__*/_jsx(Badge,{bg:statusInfo.variant,children:statusInfo.label});};const getZoneStatusBadge=status=>{const statusMap={available:{variant:'danger',label:'Chưa cho thuê',color:'#dc3545'},rented:{variant:'success',label:'Đã cho thuê',color:'#28a745'},deposited:{variant:'warning',label:'Đã cọc',color:'#ffc107'},maintenance:{variant:'secondary',label:'Bảo trì',color:'#6c757d'}};const statusInfo=statusMap[status]||{variant:'secondary',label:status,color:'#6c757d'};return/*#__PURE__*/_jsx(Badge,{bg:statusInfo.variant,style:{color:status==='deposited'?'#000':'#fff'},children:statusInfo.label});};const formatCurrency=amount=>{return new Intl.NumberFormat('vi-VN',{style:'currency',currency:'VND'}).format(amount).replace('₫','đ');};const formatArea=area=>{return new Intl.NumberFormat('vi-VN').format(area)+' m²';};const handleZoneClick=zone=>{setSelectedZone(zone);setShowZoneModal(true);};const calculateOccupancyStats=()=>{const stats={total:zones.length,available:zones.filter(z=>z.status==='available').length,rented:zones.filter(z=>z.status==='rented').length,deposited:zones.filter(z=>z.status==='deposited').length,maintenance:zones.filter(z=>z.status==='maintenance').length};const totalArea=zones.reduce((sum,zone)=>sum+zone.area,0);const rentedArea=zones.filter(z=>z.status==='rented').reduce((sum,zone)=>sum+zone.area,0);const occupancyRate=totalArea>0?Math.round(rentedArea/totalArea*100):0;return _objectSpread(_objectSpread({},stats),{},{occupancyRate,totalArea,rentedArea});};const handleAddZone=newZone=>{setZones([...zones,newZone]);setShowAddZoneModal(false);};const handleEditZone=updatedZone=>{setZones(zones.map(z=>z.id===updatedZone.id?updatedZone:z));setShowZoneModal(false);};const handleDeleteZone=zoneId=>{if(window.confirm('Bạn có chắc muốn xóa kho này?')){setZones(zones.filter(z=>z.id!==zoneId));}};const handleDocumentUpload=async e=>{if(!isDocumentServiceAvailable){showNotification('Dịch vụ tài liệu không khả dụng. Vui lòng thử lại sau.','warning');return;}const files=Array.from(e.target.files);if(files.length===0)return;const formData=new FormData();files.forEach(f=>formData.append('files',f));formData.append('resource_type','project');formData.append('resource_id',id);try{const resp=await axios.post('/api/documents/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});if(resp.data&&resp.data.success){// The server returns list of uploaded files metadata\nconst uploaded=resp.data.data.files.map(f=>({id:f.id||f._id,name:f.originalname||f.filename,filename:f.filename,size:f.size,mimetype:f.mimetype,uploadedAt:new Date().toISOString(),resource_type:'project',resource_id:id}));setUploadedDocuments(prevDocs=>[...uploaded,...prevDocs]);showNotification(\"\\u0110\\xE3 t\\u1EA3i l\\xEAn \".concat(uploaded.length,\" t\\xE0i li\\u1EC7u.\"),'success');}}catch(error){console.error('Upload failed',error);showNotification('Tải lên thất bại. Vui lòng thử lại.','danger');}finally{e.target.value='';}};const handleViewDocument=doc=>{try{if(doc.filename){const url=\"/uploads/documents/\".concat(doc.filename);window.open(url,'_blank');showNotification(\"\\u0110ang m\\u1EDF t\\xE0i li\\u1EC7u: \".concat(doc.name),'info');return;}if(doc.url){window.open(doc.url,'_blank');showNotification(\"\\u0110ang m\\u1EDF t\\xE0i li\\u1EC7u: \".concat(doc.name),'info');return;}showNotification('Không có đường dẫn để mở tài liệu.','warning');}catch(err){showNotification('Không thể mở tài liệu.','danger');}};const handleDownloadDocument=async doc=>{try{if(doc.id){const resp=await axios.get(\"/api/documents/download/\".concat(doc.id),{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([resp.data]));const a=document.createElement('a');a.href=url;a.download=doc.name;document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);showNotification(\"\\u0110ang t\\u1EA3i xu\\u1ED1ng t\\xE0i li\\u1EC7u: \".concat(doc.name),'info');return;}if(doc.url){const a=document.createElement('a');a.href=doc.url;a.download=doc.name;document.body.appendChild(a);a.click();document.body.removeChild(a);showNotification(\"\\u0110ang t\\u1EA3i xu\\u1ED1ng t\\xE0i li\\u1EC7u: \".concat(doc.name),'info');return;}showNotification('Tập tin không tồn tại để tải xuống.','warning');}catch(err){console.error('Error downloading',err);showNotification('Tải xuống thất bại.','danger');}};const handleDeleteDocument=async docId=>{if(!window.confirm('Bạn có chắc muốn xóa tài liệu này?'))return;try{const resp=await axios.delete(\"/api/documents/\".concat(docId));if(resp.data&&resp.data.success){setUploadedDocuments(prev=>prev.filter(d=>d.id!==docId));showNotification('Đã xóa tài liệu.','success');}}catch(err){console.error('Delete failed',err);showNotification('Xóa tài liệu thất bại.','danger');}};const stats=calculateOccupancyStats();if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{text:\"\\u0110ang t\\u1EA3i th\\xF4ng tin d\\u1EF1 \\xE1n...\"});}if(!project){return/*#__PURE__*/_jsx(Container,{className:\"mt-5\",children:/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Kh\\xF4ng t\\xECm th\\u1EA5y d\\u1EF1 \\xE1n\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"D\\u1EF1 \\xE1n v\\u1EDBi ID \",id,\" kh\\xF4ng t\\u1ED3n t\\u1EA1i ho\\u1EB7c \\u0111\\xE3 b\\u1ECB x\\xF3a.\"]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>navigate('/projects'),children:\"Quay l\\u1EA1i danh s\\xE1ch d\\u1EF1 \\xE1n\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"project-detail-page p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky-top-container \".concat(isHeaderCollapsed?'collapsed':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"project-header mb-4 \".concat(isHeaderCollapsed?'collapsed':''),children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",className:\"me-3\",onClick:()=>navigate('/projects'),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-0\",children:project.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted me-3\",children:[\"M\\xE3: \",project.code]}),getStatusBadge(project.status)]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:project.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[hasPermission('project_update')&&/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",onClick:()=>navigate(\"/projects/\".concat(id,\"/edit\")),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit me-2\"}),\"Ch\\u1EC9nh s\\u1EEDa\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-download me-2\"}),\"Xu\\u1EA5t b\\xE1o c\\xE1o\"]})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"statistics-container mb-4 \".concat(isHeaderCollapsed?'collapsed':''),children:/*#__PURE__*/_jsxs(Row,{className:\"g-3\",children:[/*#__PURE__*/_jsx(Col,{lg:3,md:6,sm:12,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm h-100\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted mb-3\",children:\"T\\u1ED5ng Di\\u1EC7n T\\xEDch\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-end mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-primary\",children:formatArea(project.total_area)}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-expand-arrows-alt fa-lg text-primary opacity-25\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:\"\\u0110\\xE3 cho thu\\xEA:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-success\",children:formatArea(zones.filter(z=>z.status==='rented').reduce((sum,z)=>sum+z.area,0))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-warning\",children:\"\\u0110\\xE3 c\\u1ECDc:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-warning\",children:formatArea(zones.filter(z=>z.status==='deposited').reduce((sum,z)=>sum+z.area,0))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"C\\xF2n tr\\u1ED1ng:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-danger\",children:formatArea(zones.filter(z=>z.status==='available').reduce((sum,z)=>sum+z.area,0))})]})]})]})})}),/*#__PURE__*/_jsx(Col,{lg:3,md:6,sm:12,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm h-100\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted mb-3\",children:\"T\\u1EF7 L\\u1EC7 Thu\\xEA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-end mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold text-success\",children:[stats.occupancyRate,\"%\"]}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-percentage fa-lg text-success opacity-25\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{height:'8px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar bg-success\",style:{width:\"\".concat(stats.occupancyRate,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0110\\xE3 thu\\xEA:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[stats.rented,\" kho\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0110\\xE3 c\\u1ECDc:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[stats.deposited,\" kho\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"C\\xF2n tr\\u1ED1ng:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",children:[stats.available,\" kho\"]})]})]})]})})}),/*#__PURE__*/_jsx(Col,{lg:3,md:6,sm:12,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm h-100\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted mb-3\",children:\"S\\u1ED1 Kho\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-end mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-info\",children:stats.total}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-th-large fa-lg text-info opacity-25\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:\"\\u0110\\xE3 thu\\xEA:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-success\",children:stats.rented})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-warning\",children:\"\\u0110\\xE3 c\\u1ECDc:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-warning\",children:stats.deposited})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"C\\xF2n tr\\u1ED1ng:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-danger\",children:stats.available})]})]})]})})}),/*#__PURE__*/_jsx(Col,{lg:3,md:6,sm:12,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm h-100\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted mb-3\",children:\"Doanh Thu/Th\\xE1ng\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-end mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-warning\",children:formatCurrency(zones.filter(z=>z.status==='rented').reduce((sum,z)=>sum+z.rental_price*z.area,0))}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line fa-lg text-warning opacity-25\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"T\\u1EEB cho thu\\xEA:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:formatCurrency(zones.filter(z=>z.status==='rented').reduce((sum,z)=>sum+z.rental_price*z.area,0))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ti\\u1EC1m n\\u0103ng:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:formatCurrency(zones.filter(z=>z.status==='available').reduce((sum,z)=>sum+z.rental_price*z.area,0))})]})]})]})})})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"border-bottom-0\",children:/*#__PURE__*/_jsx(Tab.Container,{activeKey:activeTab,onSelect:setActiveTab,children:/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",className:\"border-0\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"overview\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2\"}),\"Th\\xF4ng tin chung\"]})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"zones\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-th-large me-2\"}),\"Qu\\u1EA3n l\\xFD kho (\",zones.length,\")\"]})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"map\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map me-2\"}),\"B\\u1EA3n \\u0111\\u1ED3\"]})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"tasks\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tasks me-2\"}),\"C\\xF4ng vi\\u1EC7c\"]})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"documents\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-folder me-2\"}),\"H\\u1ED3 s\\u01A1 ph\\xE1p l\\xFD\"]})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"team\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users me-2\"}),\"\\u0110\\u1ED9i d\\u1EF1 \\xE1n\"]})})]})})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Tab.Container,{activeKey:activeTab,children:/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"overview\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"Th\\xF4ng tin d\\u1EF1 \\xE1n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn d\\u1EF1 \\xE1n:\"}),\" \",project.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE3 d\\u1EF1 \\xE1n:\"}),\" \",project.code]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xF4 t\\u1EA3:\"}),\" \",project.description]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110\\u1ECBa ch\\u1EC9:\"}),\" \",project.address]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\u1EC9nh/Th\\xE0nh:\"}),\" \",project.province]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tr\\u1EA1ng th\\xE1i:\"}),\" \",getStatusBadge(project.status)]})]})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"Th\\xF4ng tin ch\\u1EE7 s\\u1EDF h\\u1EEFu\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn:\"}),\" \",(_project$owner_info=project.owner_info)===null||_project$owner_info===void 0?void 0:_project$owner_info.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110i\\u1EC7n tho\\u1EA1i:\"}),\" \",(_project$owner_info2=project.owner_info)===null||_project$owner_info2===void 0?void 0:_project$owner_info2.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",(_project$owner_info3=project.owner_info)===null||_project$owner_info3===void 0?void 0:_project$owner_info3.email]})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3 mt-4\",children:\"Gi\\xE1m \\u0111\\u1ED1c d\\u1EF1 \\xE1n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn:\"}),\" \",(_project$project_dire=project.project_director)===null||_project$project_dire===void 0?void 0:_project$project_dire.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ch\\u1EE9c v\\u1EE5:\"}),\" \",(_project$project_dire2=project.project_director)===null||_project$project_dire2===void 0?void 0:_project$project_dire2.position]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110i\\u1EC7n tho\\u1EA1i:\"}),\" \",(_project$project_dire3=project.project_director)===null||_project$project_dire3===void 0?void 0:_project$project_dire3.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",(_project$project_dire4=project.project_director)===null||_project$project_dire4===void 0?void 0:_project$project_dire4.email]})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3 mt-4\",children:\"Ng\\u01B0\\u1EDDi qu\\u1EA3n l\\xFD d\\u1EF1 \\xE1n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn:\"}),\" \",(_project$project_mana=project.project_manager)===null||_project$project_mana===void 0?void 0:_project$project_mana.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ch\\u1EE9c v\\u1EE5:\"}),\" \",(_project$project_mana2=project.project_manager)===null||_project$project_mana2===void 0?void 0:_project$project_mana2.position]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110i\\u1EC7n tho\\u1EA1i:\"}),\" \",(_project$project_mana3=project.project_manager)===null||_project$project_mana3===void 0?void 0:_project$project_mana3.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",(_project$project_mana4=project.project_manager)===null||_project$project_mana4===void 0?void 0:_project$project_mana4.email]})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3 mt-4\",children:\"Th\\u1ED1ng k\\xEA di\\u1EC7n t\\xEDch\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\u1ED5ng di\\u1EC7n t\\xEDch:\"}),\" \",formatArea(project.total_area)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110\\xE3 s\\u1EED d\\u1EE5ng:\"}),\" \",formatArea(project.used_area)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\xF2n tr\\u1ED1ng:\"}),\" \",formatArea(project.available_area)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\u1ED1 \\u0111\\u1ECBnh:\"}),\" \",formatArea(project.fixed_area)]})]})]})]})}),/*#__PURE__*/_jsxs(Tab.Pane,{eventKey:\"zones\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Danh s\\xE1ch kho\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline-success\",size:\"sm\",onClick:()=>{const input=document.createElement('input');input.type='file';input.accept='.dxf,.pdf,.dwg,.png,.jpg,.jpeg';input.onchange=e=>{const file=e.target.files[0];if(file){alert(\"\\u0110\\xE3 import b\\u1EA3n v\\u1EBD: \".concat(file.name));}};input.click();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-import me-2\"}),\"Import b\\u1EA3n v\\u1EBD\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",size:\"sm\",onClick:()=>setShowAddZoneModal(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Th\\xEAm kho\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3 flex-wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-2\",style:{width:'16px',height:'16px',backgroundColor:'#dc3545',borderRadius:'2px'}}),/*#__PURE__*/_jsxs(\"span\",{className:\"small\",children:[\"Ch\\u01B0a cho thu\\xEA (\",stats.available,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-2\",style:{width:'16px',height:'16px',backgroundColor:'#28a745',borderRadius:'2px'}}),/*#__PURE__*/_jsxs(\"span\",{className:\"small\",children:[\"\\u0110\\xE3 cho thu\\xEA (\",stats.rented,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-2\",style:{width:'16px',height:'16px',backgroundColor:'#ffc107',borderRadius:'2px'}}),/*#__PURE__*/_jsxs(\"span\",{className:\"small\",children:[\"\\u0110\\xE3 c\\u1ECDc (\",stats.deposited,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-2\",style:{width:'16px',height:'16px',backgroundColor:'#6c757d',borderRadius:'2px'}}),/*#__PURE__*/_jsxs(\"span\",{className:\"small\",children:[\"B\\u1EA3o tr\\xEC (\",stats.maintenance,\")\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3 kho\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Di\\u1EC7n t\\xEDch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\xE1 thu\\xEA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kh\\xE1ch thu\\xEA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:zones.map(zone=>/*#__PURE__*/_jsxs(\"tr\",{style:{cursor:'pointer'},onClick:()=>handleZoneClick(zone),children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:zone.zone_code}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:zone.zone_name})]})}),/*#__PURE__*/_jsx(\"td\",{children:formatArea(zone.area)}),/*#__PURE__*/_jsx(\"td\",{children:getZoneStatusBadge(zone.status)}),/*#__PURE__*/_jsx(\"td\",{children:zone.rental_price>0?formatCurrency(zone.rental_price)+'/m²/tháng':'-'}),/*#__PURE__*/_jsx(\"td\",{children:zone.tenant_info?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-medium\",children:zone.tenant_info.company_name}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:zone.tenant_info.contact_person})]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"-\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:e=>{e.stopPropagation();handleZoneClick(zone);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})})})]},zone.id))})]})})]}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"map\",children:/*#__PURE__*/_jsx(ProjectMapView,{project:project,zones:zones,onZoneClick:zone=>{setSelectedZone(zone);setShowZoneModal(true);},showLegend:true})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"tasks\",children:/*#__PURE__*/_jsx(TaskManager,{projectId:id,projectName:project===null||project===void 0?void 0:project.name})}),/*#__PURE__*/_jsxs(Tab.Pane,{eventKey:\"documents\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"H\\u1ED3 s\\u01A1 ph\\xE1p l\\xFD\"}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 bg-light\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Gi\\u1EA5y ph\\xE9p kinh doanh\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:((_project$legal_docume=project.legal_documents)===null||_project$legal_docume===void 0?void 0:_project$legal_docume.business_license)||'Chưa có'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Gi\\u1EA5y ph\\xE9p x\\xE2y d\\u1EF1ng\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:((_project$legal_docume2=project.legal_documents)===null||_project$legal_docume2===void 0?void 0:_project$legal_docume2.construction_permit)||'Chưa có'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Ch\\u1EE9ng nh\\u1EADn PCCC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:((_project$legal_docume3=project.legal_documents)===null||_project$legal_docume3===void 0?void 0:_project$legal_docume3.fire_safety_cert)||'Chưa có'})]})]})})})}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"T\\xE0i li\\u1EC7u d\\u1EF1 \\xE1n\"}),!isDocumentServiceAvailable?/*#__PURE__*/_jsxs(Alert,{variant:\"warning\",children:[/*#__PURE__*/_jsxs(Alert.Heading,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),\"D\\u1ECBch v\\u1EE5 t\\xE0i li\\u1EC7u kh\\xF4ng kh\\u1EA3 d\\u1EE5ng\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Kh\\xF4ng th\\u1EC3 k\\u1EBFt n\\u1ED1i \\u0111\\u1EBFn d\\u1ECBch v\\u1EE5 t\\xE0i li\\u1EC7u. Ch\\u1EE9c n\\u0103ng upload v\\xE0 xem file s\\u1EBD b\\u1ECB v\\xF4 hi\\u1EC7u h\\xF3a. Vui l\\xF2ng ki\\u1EC3m tra l\\u1EA1i k\\u1EBFt n\\u1ED1i ho\\u1EB7c li\\xEAn h\\u1EC7 qu\\u1EA3n tr\\u1ECB vi\\xEAn.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",onClick:()=>setShowDocumentModal(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-upload me-2\"}),\"Upload t\\xE0i li\\u1EC7u\"]})}),uploadedDocuments.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{hover:true,className:\"border\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn t\\xE0i li\\u1EC7u\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dung l\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y upload\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'120px'},children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:uploadedDocuments.map(doc=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file me-2 text-primary\"}),doc.name]}),/*#__PURE__*/_jsxs(\"td\",{children:[(doc.size/1024).toFixed(2),\" KB\"]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(doc.uploadedAt).toLocaleDateString('vi-VN')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",title:\"Xem\",onClick:()=>handleViewDocument(doc),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",size:\"sm\",title:\"T\\u1EA3i xu\\u1ED1ng\",onClick:()=>handleDownloadDocument(doc),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-download\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",title:\"X\\xF3a\",onClick:()=>handleDeleteDocument(doc.id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})})]},doc.id))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5 border rounded bg-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-alt fa-3x text-muted mb-3 d-block\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Ch\\u01B0a c\\xF3 t\\xE0i li\\u1EC7u n\\xE0o \\u0111\\u01B0\\u1EE3c upload\"})]})]})]}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"team\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{className:\"border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light border-0\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-tie me-2 text-primary\"}),\"Gi\\xE1m \\u0111\\u1ED1c D\\u1EF1 \\xE1n\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:project.project_director?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary text-white rounded-circle p-3 me-3\",style:{width:'60px',height:'60px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user fa-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 fw-bold\",children:project.project_director.name}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:project.project_director.position})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",project.project_director.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110i\\u1EC7n tho\\u1EA1i:\"}),\" \",project.project_director.phone]})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted text-center\",children:\"Ch\\u01B0a c\\xF3 gi\\xE1m \\u0111\\u1ED1c \\u0111\\u01B0\\u1EE3c ch\\u1EC9 \\u0111\\u1ECBnh\"})})]})}),/*#__PURE__*/_jsx(Col,{lg:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{className:\"border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Header,{className:\"bg-light border-0\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clipboard-list me-2 text-info\"}),\"Ng\\u01B0\\u1EDDi Qu\\u1EA3n l\\xFD D\\u1EF1 \\xE1n\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:project.project_manager?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-info text-white rounded-circle p-3 me-3\",style:{width:'60px',height:'60px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user fa-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 fw-bold\",children:project.project_manager.name}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:project.project_manager.position})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",project.project_manager.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110i\\u1EC7n tho\\u1EA1i:\"}),\" \",project.project_manager.phone]})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted text-center\",children:\"Ch\\u01B0a c\\xF3 ng\\u01B0\\u1EDDi qu\\u1EA3n l\\xFD \\u0111\\u01B0\\u1EE3c ch\\u1EC9 \\u0111\\u1ECBnh\"})})]})})]})})]})})})]}),/*#__PURE__*/_jsxs(Modal,{show:showZoneModal,onHide:()=>setShowZoneModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Chi ti\\u1EBFt Kho \",selectedZone===null||selectedZone===void 0?void 0:selectedZone.zone_code]})}),/*#__PURE__*/_jsx(Modal.Body,{children:selectedZone&&/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Th\\xF4ng tin kho\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE3 kho:\"}),\" \",selectedZone.zone_code]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn:\"}),\" \",selectedZone.zone_name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Di\\u1EC7n t\\xEDch:\"}),\" \",formatArea(selectedZone.area)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tr\\u1EA1ng th\\xE1i:\"}),\" \",getZoneStatusBadge(selectedZone.status)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gi\\xE1 thu\\xEA:\"}),\" \",selectedZone.rental_price>0?formatCurrency(selectedZone.rental_price)+'/m²/tháng':'-']})]})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Th\\xF4ng tin kh\\xE1ch thu\\xEA\"}),selectedZone.tenant_info?/*#__PURE__*/_jsxs(\"div\",{className:\"info-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\xF4ng ty:\"}),\" \",selectedZone.tenant_info.company_name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\u01B0\\u1EDDi li\\xEAn h\\u1EC7:\"}),\" \",selectedZone.tenant_info.contact_person]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u1ED1 h\\u1EE3p \\u0111\\u1ED3ng:\"}),\" \",selectedZone.tenant_info.contract_number]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y h\\u1EBFt h\\u1EA1n:\"}),\" \",new Date(selectedZone.tenant_info.end_date).toLocaleDateString('vi-VN')]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Ch\\u01B0a c\\xF3 kh\\xE1ch thu\\xEA\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowZoneModal(false),children:\"\\u0110\\xF3ng\"}),hasPermission('zone_update')&&/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Ch\\u1EC9nh s\\u1EEDa kho\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showDocumentModal,onHide:()=>setShowDocumentModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Upload T\\xE0i li\\u1EC7u D\\u1EF1 \\xE1n\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5 border-2 border-dashed rounded\",style:{borderStyle:'dashed'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:handleDocumentUpload,style:{display:'none'},id:\"fileInput\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"fileInput\",style:{cursor:'pointer',width:'100%'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cloud-upload-alt fa-3x text-primary mb-3 d-block\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"K\\xE9o th\\u1EA3 ho\\u1EB7c click \\u0111\\u1EC3 ch\\u1ECDn t\\xE0i li\\u1EC7u\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"H\\u1ED7 tr\\u1EE3 c\\xE1c \\u0111\\u1ECBnh d\\u1EA1ng: PDF, DOC, DOCX, XLS, XLSX, IMG, JPG, PNG\"})]})]}),uploadedDocuments.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"T\\xE0i li\\u1EC7u \\u0111\\xE3 ch\\u1ECDn (\",uploadedDocuments.length,\"):\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:uploadedDocuments.map(doc=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file me-2\"}),doc.name]}),/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[(doc.size/1024).toFixed(2),\" KB\"]})]},doc.id))})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowDocumentModal(false),children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>{setShowDocumentModal(false);if(uploadedDocuments.length>0){showNotification(\"\\u0110\\xE3 upload \".concat(uploadedDocuments.length,\" t\\xE0i li\\u1EC7u th\\xE0nh c\\xF4ng!\"),'success');}},children:\"Ho\\xE0n t\\u1EA5t upload\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showAddZoneModal,onHide:()=>setShowAddZoneModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Th\\xEAm Kho M\\u1EDBi\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2\"}),\"Form th\\xEAm kho s\\u1EBD \\u0111\\u01B0\\u1EE3c hi\\u1EC3n th\\u1ECB t\\u1EA1i \\u0111\\xE2y\"]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"M\\xE3 Kho\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"V\\xED d\\u1EE5: A1\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"T\\xEAn Kho\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"V\\xED d\\u1EE5: Khu v\\u1EF1c A1\"})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Di\\u1EC7n t\\xEDch (m\\xB2)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"500\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Gi\\xE1 thu\\xEA (\\u0111/m\\xB2/th\\xE1ng)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"150000\"})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsxs(Form.Select,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"available\",children:\"Ch\\u01B0a cho thu\\xEA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rented\",children:\"\\u0110\\xE3 cho thu\\xEA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deposited\",children:\"\\u0110\\xE3 c\\u1ECDc\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maintenance\",children:\"B\\u1EA3o tr\\xEC\"})]})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowAddZoneModal(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>setShowAddZoneModal(false),children:\"L\\u01B0u Kho\"})]})]})]});}export default ProjectDetail;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Badge","Tab","Nav","Table","Modal","Alert","Form","useParams","useNavigate","useAuth","useNotification","axios","LoadingSpinner","ProjectMapView","TaskManager","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProjectDetail","_project$owner_info","_project$owner_info2","_project$owner_info3","_project$project_dire","_project$project_dire2","_project$project_dire3","_project$project_dire4","_project$project_mana","_project$project_mana2","_project$project_mana3","_project$project_mana4","_project$legal_docume","_project$legal_docume2","_project$legal_docume3","id","navigate","hasPermission","showNotification","loading","setLoading","project","setProject","zones","setZones","activeTab","setActiveTab","showZoneModal","setShowZoneModal","selectedZone","setSelectedZone","showAddZoneModal","setShowAddZoneModal","showDocumentModal","setShowDocumentModal","uploadedDocuments","setUploadedDocuments","isDocumentServiceAvailable","setIsDocumentServiceAvailable","isHeaderCollapsed","setIsHeaderCollapsed","scrollTimeout","scrollThreshold","debounceDelay","handleScroll","clearTimeout","setTimeout","window","scrollY","addEventListener","removeEventListener","mockProject","parseInt","name","code","description","address","province","district","ward","latitude","longitude","status","total_area","used_area","available_area","fixed_area","owner_info","phone","email","project_director","position","project_manager","legal_documents","business_license","construction_permit","fire_safety_cert","created_at","created_by_username","mockZones","zone_code","zone_name","area","rental_price","tenant_info","customer_code","company_name","contact_person","contract_number","end_date","fetchDocuments","resp","get","params","resource_type","resource_id","data","success","files","map","f","_id","originalname","filename","size","mimetype","uploadedAt","uploaded_at","category_id","err","console","error","getStatusBadge","statusMap","operational","variant","label","construction","planning","maintenance","statusInfo","bg","children","getZoneStatusBadge","available","color","rented","deposited","style","formatCurrency","amount","Intl","NumberFormat","currency","format","replace","formatArea","handleZoneClick","zone","calculateOccupancyStats","stats","total","length","filter","z","totalArea","reduce","sum","rentedArea","occupancyRate","Math","round","_objectSpread","handleAddZone","newZone","handleEditZone","updatedZone","handleDeleteZone","zoneId","confirm","handleDocumentUpload","e","Array","from","target","formData","FormData","forEach","append","post","headers","uploaded","Date","toISOString","prevDocs","concat","value","handleViewDocument","doc","url","open","handleDownloadDocument","responseType","URL","createObjectURL","Blob","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleDeleteDocument","docId","delete","prev","d","text","className","onClick","lg","md","sm","Body","height","width","Header","activeKey","onSelect","Item","Link","eventKey","Content","Pane","input","type","accept","onchange","file","alert","backgroundColor","borderRadius","hover","cursor","stopPropagation","onZoneClick","showLegend","projectId","projectName","Heading","toFixed","toLocaleDateString","title","display","alignItems","justifyContent","show","onHide","closeButton","Title","Footer","borderStyle","multiple","onChange","htmlFor","Group","Label","Control","placeholder","Select"],"sources":["C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/src/pages/Projects/ProjectDetail.js"],"sourcesContent":["/**\r\n * Project Detail Page - KHO MVG\r\n * Chi tiết dự án với Google Maps và quản lý zones\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Button, Badge, Tab, Nav, Table, Modal, Alert, Form } from 'react-bootstrap';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport axios from 'axios';\r\nimport LoadingSpinner from '../../components/Common/LoadingSpinner';\r\nimport ProjectMapView from '../../components/Map/ProjectMapView';\r\nimport TaskManager from '../../components/Tasks/TaskManager';\r\nimport './ProjectDetail.css';\r\n\r\nfunction ProjectDetail() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { hasPermission } = useAuth();\r\n  const { showNotification } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [project, setProject] = useState(null);\r\n  const [zones, setZones] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [showZoneModal, setShowZoneModal] = useState(false);\r\n  const [selectedZone, setSelectedZone] = useState(null);\r\n  const [showAddZoneModal, setShowAddZoneModal] = useState(false);\r\n  const [showDocumentModal, setShowDocumentModal] = useState(false);\r\n  const [uploadedDocuments, setUploadedDocuments] = useState([]);\r\n  const [isDocumentServiceAvailable, setIsDocumentServiceAvailable] = useState(true);\r\n  const [isHeaderCollapsed, setIsHeaderCollapsed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let scrollTimeout;\r\n    const scrollThreshold = 500; // Tăng ngưỡng cuộn để ổn định hơn (trước là 100)\r\n    const debounceDelay = 50; // Giảm độ trễ debounce để phản ứng nhanh hơn một chút\r\n\r\n    const handleScroll = () => {\r\n      clearTimeout(scrollTimeout);\r\n      scrollTimeout = setTimeout(() => {\r\n        if (window.scrollY > scrollThreshold) {\r\n          setIsHeaderCollapsed(true);\r\n        } else {\r\n          setIsHeaderCollapsed(false);\r\n        }\r\n      }, debounceDelay);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n      clearTimeout(scrollTimeout);\r\n    };\r\n  }, []);\r\n\r\n  // Mock project data\r\n  const mockProject = {\r\n    id: parseInt(id),\r\n    name: 'Kho xưởng Bình Dương',\r\n    code: 'KX-BD-001',\r\n    description: 'Khu kho xưởng hiện đại với đầy đủ tiện ích và hạ tầng logistics.',\r\n    address: '123 Đường ABC, Thuận An, Bình Dương',\r\n    province: 'Bình Dương',\r\n    district: 'Thuận An',\r\n    ward: 'Phường An Thạnh',\r\n    latitude: 10.9045,\r\n    longitude: 106.7213,\r\n    status: 'operational',\r\n    total_area: 15000,\r\n    used_area: 12000,\r\n    available_area: 3000,\r\n    fixed_area: 500,\r\n    owner_info: {\r\n      name: 'Công ty TNHH ABC',\r\n      phone: '0123456789',\r\n      email: 'contact@abc.com'\r\n    },\r\n    project_director: {\r\n      name: 'Nguyễn Văn Kiên',\r\n      phone: '0987654321',\r\n      email: 'kien@abc.com',\r\n      position: 'Giám đốc dự án'\r\n    },\r\n    project_manager: {\r\n      name: 'Trần Thị Liên',\r\n      phone: '0976543210',\r\n      email: 'lien@abc.com',\r\n      position: 'Người quản lý dự án'\r\n    },\r\n    legal_documents: {\r\n      business_license: 'GP-123456789',\r\n      construction_permit: 'XD-987654321',\r\n      fire_safety_cert: 'PCCC-111222333'\r\n    },\r\n    created_at: '2024-01-15',\r\n    created_by_username: 'admin'\r\n  };\r\n\r\n  const mockZones = [\r\n    {\r\n      id: 1,\r\n      zone_code: 'A1',\r\n      zone_name: 'Khu vực A1',\r\n      area: 500,\r\n      status: 'rented',\r\n      rental_price: 150000,\r\n      tenant_info: {\r\n        customer_code: 'KH001',\r\n        company_name: 'Công ty XYZ',\r\n        contact_person: 'Nguyễn Văn A',\r\n        contract_number: 'HD240001',\r\n        end_date: '2024-12-31'\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      zone_code: 'A2',\r\n      zone_name: 'Khu vực A2',\r\n      area: 750,\r\n      status: 'available',\r\n      rental_price: 140000,\r\n      tenant_info: null\r\n    },\r\n    {\r\n      id: 3,\r\n      zone_code: 'B1',\r\n      zone_name: 'Khu vực B1',\r\n      area: 600,\r\n      status: 'deposited',\r\n      rental_price: 160000,\r\n      tenant_info: {\r\n        customer_code: 'KH002',\r\n        company_name: 'Công ty DEF',\r\n        contact_person: 'Trần Thị B',\r\n        contract_number: 'HD240002',\r\n        end_date: '2024-06-30'\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      zone_code: 'C1',\r\n      zone_name: 'Khu vực C1 - Văn phòng',\r\n      area: 200,\r\n      status: 'maintenance',\r\n      rental_price: 0,\r\n      tenant_info: null\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Simulate API call\r\n    setTimeout(() => {\r\n      setProject(mockProject);\r\n      setZones(mockZones);\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, [id, mockProject, mockZones]);\r\n\r\n  useEffect(() => {\r\n    // Fetch uploaded documents for this project\r\n    const fetchDocuments = async () => {\r\n      try {\r\n        const resp = await axios.get('/api/documents', { params: { resource_type: 'project', resource_id: id } });\r\n        if (resp.data && resp.data.success) {\r\n          const files = resp.data.data.files.map(f => ({\r\n            id: f._id || f.id,\r\n            name: f.originalname || f.name || f.filename,\r\n            filename: f.filename,\r\n            size: f.size,\r\n            mimetype: f.mimetype,\r\n            uploadedAt: f.uploaded_at || f.uploadedAt,\r\n            category_id: f.category_id,\r\n            resource_type: f.resource_type,\r\n            resource_id: f.resource_id\r\n          }));\r\n          setUploadedDocuments(files);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching documents', err);\r\n        setIsDocumentServiceAvailable(false);\r\n        showNotification(\r\n          'Không tải được danh sách tài liệu. Vui lòng thử lại sau.',\r\n          'warning'\r\n        );\r\n      }\r\n    };\r\n\r\n    fetchDocuments();\r\n  }, [id, showNotification]);\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusMap = {\r\n      operational: { variant: 'success', label: 'Hoạt động' },\r\n      construction: { variant: 'warning', label: 'Xây dựng' },\r\n      planning: { variant: 'info', label: 'Lên kế hoạch' },\r\n      maintenance: { variant: 'secondary', label: 'Bảo trì' }\r\n    };\r\n    \r\n    const statusInfo = statusMap[status] || { variant: 'secondary', label: status };\r\n    return <Badge bg={statusInfo.variant}>{statusInfo.label}</Badge>;\r\n  };\r\n\r\n  const getZoneStatusBadge = (status) => {\r\n    const statusMap = {\r\n      available: { variant: 'danger', label: 'Chưa cho thuê', color: '#dc3545' },\r\n      rented: { variant: 'success', label: 'Đã cho thuê', color: '#28a745' },\r\n      deposited: { variant: 'warning', label: 'Đã cọc', color: '#ffc107' },\r\n      maintenance: { variant: 'secondary', label: 'Bảo trì', color: '#6c757d' }\r\n    };\r\n    \r\n    const statusInfo = statusMap[status] || { variant: 'secondary', label: status, color: '#6c757d' };\r\n    return (\r\n      <Badge bg={statusInfo.variant} style={{ color: status === 'deposited' ? '#000' : '#fff' }}>\r\n        {statusInfo.label}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(amount).replace('₫', 'đ');\r\n  };\r\n\r\n  const formatArea = (area) => {\r\n    return new Intl.NumberFormat('vi-VN').format(area) + ' m²';\r\n  };\r\n\r\n  const handleZoneClick = (zone) => {\r\n    setSelectedZone(zone);\r\n    setShowZoneModal(true);\r\n  };\r\n\r\n  const calculateOccupancyStats = () => {\r\n    const stats = {\r\n      total: zones.length,\r\n      available: zones.filter(z => z.status === 'available').length,\r\n      rented: zones.filter(z => z.status === 'rented').length,\r\n      deposited: zones.filter(z => z.status === 'deposited').length,\r\n      maintenance: zones.filter(z => z.status === 'maintenance').length\r\n    };\r\n    \r\n    const totalArea = zones.reduce((sum, zone) => sum + zone.area, 0);\r\n    const rentedArea = zones.filter(z => z.status === 'rented').reduce((sum, zone) => sum + zone.area, 0);\r\n    const occupancyRate = totalArea > 0 ? Math.round((rentedArea / totalArea) * 100) : 0;\r\n    \r\n    return { ...stats, occupancyRate, totalArea, rentedArea };\r\n  };\r\n\r\n  const handleAddZone = (newZone) => {\r\n    setZones([...zones, newZone]);\r\n    setShowAddZoneModal(false);\r\n  };\r\n\r\n  const handleEditZone = (updatedZone) => {\r\n    setZones(zones.map(z => z.id === updatedZone.id ? updatedZone : z));\r\n    setShowZoneModal(false);\r\n  };\r\n\r\n  const handleDeleteZone = (zoneId) => {\r\n    if (window.confirm('Bạn có chắc muốn xóa kho này?')) {\r\n      setZones(zones.filter(z => z.id !== zoneId));\r\n    }\r\n  };\r\n\r\n  const handleDocumentUpload = async (e) => {\r\n    if (!isDocumentServiceAvailable) {\r\n      showNotification('Dịch vụ tài liệu không khả dụng. Vui lòng thử lại sau.', 'warning');\r\n      return;\r\n    }\r\n    const files = Array.from(e.target.files);\r\n    if (files.length === 0) return;\r\n    const formData = new FormData();\r\n    files.forEach(f => formData.append('files', f));\r\n    formData.append('resource_type', 'project');\r\n    formData.append('resource_id', id);\r\n\r\n    try {\r\n      const resp = await axios.post('/api/documents/upload', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      if (resp.data && resp.data.success) {\r\n        // The server returns list of uploaded files metadata\r\n        const uploaded = resp.data.data.files.map(f => ({\r\n          id: f.id || f._id,\r\n          name: f.originalname || f.filename,\r\n          filename: f.filename,\r\n          size: f.size,\r\n          mimetype: f.mimetype,\r\n          uploadedAt: new Date().toISOString(),\r\n          resource_type: 'project',\r\n          resource_id: id\r\n        }));\r\n\r\n        setUploadedDocuments(prevDocs => [...uploaded, ...prevDocs]);\r\n        showNotification(`Đã tải lên ${uploaded.length} tài liệu.`, 'success');\r\n      }\r\n    } catch (error) {\r\n      console.error('Upload failed', error);\r\n      showNotification('Tải lên thất bại. Vui lòng thử lại.', 'danger');\r\n    } finally {\r\n      e.target.value = '';\r\n    }\r\n  };\r\n\r\n  const handleViewDocument = (doc) => {\r\n    try {\r\n      if (doc.filename) {\r\n        const url = `/uploads/documents/${doc.filename}`;\r\n        window.open(url, '_blank');\r\n        showNotification(`Đang mở tài liệu: ${doc.name}`, 'info');\r\n        return;\r\n      }\r\n\r\n      if (doc.url) {\r\n        window.open(doc.url, '_blank');\r\n        showNotification(`Đang mở tài liệu: ${doc.name}`, 'info');\r\n        return;\r\n      }\r\n\r\n      showNotification('Không có đường dẫn để mở tài liệu.', 'warning');\r\n    } catch (err) {\r\n      showNotification('Không thể mở tài liệu.', 'danger');\r\n    }\r\n  };\r\n\r\n  const handleDownloadDocument = async (doc) => {\r\n    try {\r\n      if (doc.id) {\r\n        const resp = await axios.get(`/api/documents/download/${doc.id}`, { responseType: 'blob' });\r\n        const url = window.URL.createObjectURL(new Blob([resp.data]));\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = doc.name;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        window.URL.revokeObjectURL(url);\r\n        showNotification(`Đang tải xuống tài liệu: ${doc.name}`, 'info');\r\n        return;\r\n      }\r\n\r\n      if (doc.url) {\r\n        const a = document.createElement('a');\r\n        a.href = doc.url;\r\n        a.download = doc.name;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        showNotification(`Đang tải xuống tài liệu: ${doc.name}`, 'info');\r\n        return;\r\n      }\r\n\r\n      showNotification('Tập tin không tồn tại để tải xuống.', 'warning');\r\n    } catch (err) {\r\n      console.error('Error downloading', err);\r\n      showNotification('Tải xuống thất bại.', 'danger');\r\n    }\r\n  };\r\n\r\n  const handleDeleteDocument = async (docId) => {\r\n    if (!window.confirm('Bạn có chắc muốn xóa tài liệu này?')) return;\r\n    try {\r\n      const resp = await axios.delete(`/api/documents/${docId}`);\r\n      if (resp.data && resp.data.success) {\r\n        setUploadedDocuments(prev => prev.filter(d => d.id !== docId));\r\n        showNotification('Đã xóa tài liệu.', 'success');\r\n      }\r\n    } catch (err) {\r\n      console.error('Delete failed', err);\r\n      showNotification('Xóa tài liệu thất bại.', 'danger');\r\n    }\r\n  };\r\n\r\n  const stats = calculateOccupancyStats();\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner text=\"Đang tải thông tin dự án...\" />;\r\n  }\r\n\r\n  if (!project) {\r\n    return (\r\n      <Container className=\"mt-5\">\r\n        <Alert variant=\"danger\" className=\"text-center\">\r\n          <h4>Không tìm thấy dự án</h4>\r\n          <p>Dự án với ID {id} không tồn tại hoặc đã bị xóa.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate('/projects')}>\r\n            Quay lại danh sách dự án\r\n          </Button>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-detail-page p-4\">\r\n      <div className={`sticky-top-container ${isHeaderCollapsed ? 'collapsed' : ''}`}>\r\n        {/* Header */}\r\n        <div className={`project-header mb-4 ${isHeaderCollapsed ? 'collapsed' : ''}`}>\r\n          <Row>\r\n            <Col>\r\n              <div className=\"d-flex justify-content-between align-items-start\">\r\n                <div>\r\n                  <div className=\"d-flex align-items-center mb-2\">\r\n                    <Button \r\n                      variant=\"outline-secondary\" \r\n                      size=\"sm\" \r\n                      className=\"me-3\"\r\n                      onClick={() => navigate('/projects')}\r\n                    >\r\n                      <i className=\"fas fa-arrow-left\"></i>\r\n                    </Button>\r\n                    <div>\r\n                      <h2 className=\"mb-0\">{project.name}</h2>\r\n                      <div className=\"d-flex align-items-center mt-1\">\r\n                        <span className=\"text-muted me-3\">Mã: {project.code}</span>\r\n                        {getStatusBadge(project.status)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-muted mb-0\">{project.address}</p>\r\n                </div>\r\n                \r\n                <div className=\"d-flex gap-2\">\r\n                  {hasPermission('project_update') && (\r\n                    <Button \r\n                      variant=\"outline-primary\"\r\n                      onClick={() => navigate(`/projects/${id}/edit`)}\r\n                    >\r\n                      <i className=\"fas fa-edit me-2\"></i>\r\n                      Chỉnh sửa\r\n                    </Button>\r\n                  )}\r\n                  <Button variant=\"outline-secondary\">\r\n                    <i className=\"fas fa-download me-2\"></i>\r\n                    Xuất báo cáo\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        {/* Statistics Cards - Responsive Layout */}\r\n        <div className={`statistics-container mb-4 ${isHeaderCollapsed ? 'collapsed' : ''}`}>\r\n        <Row className=\"g-3\">\r\n          <Col lg={3} md={6} sm={12}>\r\n            <Card className=\"border-0 shadow-sm h-100\">\r\n              <Card.Body>\r\n                <h6 className=\"text-muted mb-3\">Tổng Diện Tích</h6>\r\n                <div className=\"mb-3\">\r\n                  <div className=\"d-flex justify-content-between align-items-end mb-2\">\r\n                    <span className=\"fw-bold text-primary\">{formatArea(project.total_area)}</span>\r\n                    <i className=\"fas fa-expand-arrows-alt fa-lg text-primary opacity-25\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"small\">\r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <span className=\"text-success\">Đã cho thuê:</span>\r\n                    <span className=\"fw-bold text-success\">{formatArea(zones.filter(z => z.status === 'rented').reduce((sum, z) => sum + z.area, 0))}</span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <span className=\"text-warning\">Đã cọc:</span>\r\n                    <span className=\"fw-bold text-warning\">{formatArea(zones.filter(z => z.status === 'deposited').reduce((sum, z) => sum + z.area, 0))}</span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <span className=\"text-danger\">Còn trống:</span>\r\n                    <span className=\"fw-bold text-danger\">{formatArea(zones.filter(z => z.status === 'available').reduce((sum, z) => sum + z.area, 0))}</span>\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n\r\n          <Col lg={3} md={6} sm={12}>\r\n            <Card className=\"border-0 shadow-sm h-100\">\r\n              <Card.Body>\r\n                <h6 className=\"text-muted mb-3\">Tỷ Lệ Thuê</h6>\r\n                <div className=\"mb-3\">\r\n                  <div className=\"d-flex justify-content-between align-items-end mb-2\">\r\n                    <span className=\"fw-bold text-success\">{stats.occupancyRate}%</span>\r\n                    <i className=\"fas fa-percentage fa-lg text-success opacity-25\"></i>\r\n                  </div>\r\n                  <div className=\"progress\" style={{ height: '8px' }}>\r\n                    <div className=\"progress-bar bg-success\" style={{ width: `${stats.occupancyRate}%` }}></div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"small\">\r\n                  <div className=\"d-flex justify-content-between mb-1\">\r\n                    <span>Đã thuê:</span>\r\n                    <span className=\"fw-bold\">{stats.rented} kho</span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between mb-1\">\r\n                    <span>Đã cọc:</span>\r\n                    <span className=\"fw-bold\">{stats.deposited} kho</span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <span>Còn trống:</span>\r\n                    <span className=\"fw-bold\">{stats.available} kho</span>\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n\r\n          <Col lg={3} md={6} sm={12}>\r\n            <Card className=\"border-0 shadow-sm h-100\">\r\n              <Card.Body>\r\n                <h6 className=\"text-muted mb-3\">Số Kho</h6>\r\n                <div className=\"mb-3\">\r\n                  <div className=\"d-flex justify-content-between align-items-end mb-2\">\r\n                    <span className=\"fw-bold text-info\">{stats.total}</span>\r\n                    <i className=\"fas fa-th-large fa-lg text-info opacity-25\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"small\">\r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <span className=\"text-success\">Đã thuê:</span>\r\n                    <span className=\"fw-bold text-success\">{stats.rented}</span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <span className=\"text-warning\">Đã cọc:</span>\r\n                    <span className=\"fw-bold text-warning\">{stats.deposited}</span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <span className=\"text-danger\">Còn trống:</span>\r\n                    <span className=\"fw-bold text-danger\">{stats.available}</span>\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n\r\n          <Col lg={3} md={6} sm={12}>\r\n            <Card className=\"border-0 shadow-sm h-100\">\r\n              <Card.Body>\r\n                <h6 className=\"text-muted mb-3\">Doanh Thu/Tháng</h6>\r\n                <div className=\"mb-3\">\r\n                  <div className=\"d-flex justify-content-between align-items-end mb-2\">\r\n                    <span className=\"fw-bold text-warning\">\r\n                      {formatCurrency(zones.filter(z => z.status === 'rented').reduce((sum, z) => sum + (z.rental_price * z.area), 0))}\r\n                    </span>\r\n                    <i className=\"fas fa-chart-line fa-lg text-warning opacity-25\"></i>\r\n                  </div>\r\n                </div>\r\n                <div className=\"small\">\r\n                  <div className=\"d-flex justify-content-between mb-1\">\r\n                    <span>Từ cho thuê:</span>\r\n                    <span className=\"fw-bold\">\r\n                      {formatCurrency(zones.filter(z => z.status === 'rented').reduce((sum, z) => sum + (z.rental_price * z.area), 0))}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <span>Tiềm năng:</span>\r\n                    <span className=\"fw-bold\">\r\n                      {formatCurrency(zones.filter(z => z.status === 'available').reduce((sum, z) => sum + (z.rental_price * z.area), 0))}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content Tabs */}\r\n      <Card className=\"border-0 shadow-sm\">\r\n        <Card.Header className=\"border-bottom-0\">\r\n          <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n            <Nav variant=\"tabs\" className=\"border-0\">\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"overview\">\r\n                  <i className=\"fas fa-info-circle me-2\"></i>\r\n                  Thông tin chung\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"zones\">\r\n                  <i className=\"fas fa-th-large me-2\"></i>\r\n                  Quản lý kho ({zones.length})\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"map\">\r\n                  <i className=\"fas fa-map me-2\"></i>\r\n                  Bản đồ\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"tasks\">\r\n                  <i className=\"fas fa-tasks me-2\"></i>\r\n                  Công việc\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"documents\">\r\n                  <i className=\"fas fa-folder me-2\"></i>\r\n                  Hồ sơ pháp lý\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"team\">\r\n                  <i className=\"fas fa-users me-2\"></i>\r\n                  Đội dự án\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            </Nav>\r\n          </Tab.Container>\r\n        </Card.Header>\r\n\r\n        <Card.Body>\r\n          <Tab.Container activeKey={activeTab}>\r\n            <Tab.Content>\r\n              {/* Overview Tab */}\r\n              <Tab.Pane eventKey=\"overview\">\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <h5 className=\"mb-3\">Thông tin dự án</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tên dự án:</strong> {project.name}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Mã dự án:</strong> {project.code}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Mô tả:</strong> {project.description}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Địa chỉ:</strong> {project.address}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Tỉnh/Thành:</strong> {project.province}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Trạng thái:</strong> {getStatusBadge(project.status)}\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <h5 className=\"mb-3\">Thông tin chủ sở hữu</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tên:</strong> {project.owner_info?.name}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Điện thoại:</strong> {project.owner_info?.phone}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Email:</strong> {project.owner_info?.email}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h5 className=\"mb-3 mt-4\">Giám đốc dự án</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tên:</strong> {project.project_director?.name}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Chức vụ:</strong> {project.project_director?.position}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Điện thoại:</strong> {project.project_director?.phone}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Email:</strong> {project.project_director?.email}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h5 className=\"mb-3 mt-4\">Người quản lý dự án</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tên:</strong> {project.project_manager?.name}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Chức vụ:</strong> {project.project_manager?.position}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Điện thoại:</strong> {project.project_manager?.phone}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Email:</strong> {project.project_manager?.email}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <h5 className=\"mb-3 mt-4\">Thống kê diện tích</h5>\r\n                    <div className=\"info-group\">\r\n                      <div className=\"info-item\">\r\n                        <strong>Tổng diện tích:</strong> {formatArea(project.total_area)}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Đã sử dụng:</strong> {formatArea(project.used_area)}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Còn trống:</strong> {formatArea(project.available_area)}\r\n                      </div>\r\n                      <div className=\"info-item\">\r\n                        <strong>Cố định:</strong> {formatArea(project.fixed_area)}\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </Tab.Pane>\r\n\r\n              {/* Zones Tab */}\r\n              <Tab.Pane eventKey=\"zones\">\r\n                <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                  <h5 className=\"mb-0\">Danh sách kho</h5>\r\n                  <div className=\"d-flex gap-2\">\r\n                    <Button \r\n                      variant=\"outline-success\" \r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        const input = document.createElement('input');\r\n                        input.type = 'file';\r\n                        input.accept = '.dxf,.pdf,.dwg,.png,.jpg,.jpeg';\r\n                        input.onchange = (e) => {\r\n                          const file = e.target.files[0];\r\n                          if (file) {\r\n                            alert(`Đã import bản vẽ: ${file.name}`);\r\n                          }\r\n                        };\r\n                        input.click();\r\n                      }}\r\n                    >\r\n                      <i className=\"fas fa-file-import me-2\"></i>\r\n                      Import bản vẽ\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"primary\" \r\n                      size=\"sm\"\r\n                      onClick={() => setShowAddZoneModal(true)}\r\n                    >\r\n                      <i className=\"fas fa-plus me-2\"></i>\r\n                      Thêm kho\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Zone Status Legend */}\r\n                <div className=\"mb-3\">\r\n                  <div className=\"d-flex gap-3 flex-wrap\">\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#dc3545', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\">Chưa cho thuê ({stats.available})</span>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#28a745', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\">Đã cho thuê ({stats.rented})</span>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#ffc107', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\">Đã cọc ({stats.deposited})</span>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <div className=\"me-2\" style={{ width: '16px', height: '16px', backgroundColor: '#6c757d', borderRadius: '2px' }}></div>\r\n                      <span className=\"small\">Bảo trì ({stats.maintenance})</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"table-responsive\">\r\n                  <Table hover>\r\n                    <thead className=\"bg-light\">\r\n                      <tr>\r\n                        <th>Mã kho</th>\r\n                        <th>Diện tích</th>\r\n                        <th>Trạng thái</th>\r\n                        <th>Giá thuê</th>\r\n                        <th>Khách thuê</th>\r\n                        <th>Thao tác</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {zones.map((zone) => (\r\n                        <tr \r\n                          key={zone.id} \r\n                          style={{ cursor: 'pointer' }}\r\n                          onClick={() => handleZoneClick(zone)}\r\n                        >\r\n                          <td>\r\n                            <div>\r\n                              <div className=\"fw-bold\">{zone.zone_code}</div>\r\n                              <small className=\"text-muted\">{zone.zone_name}</small>\r\n                            </div>\r\n                          </td>\r\n                          <td>{formatArea(zone.area)}</td>\r\n                          <td>{getZoneStatusBadge(zone.status)}</td>\r\n                          <td>\r\n                            {zone.rental_price > 0 ? \r\n                              formatCurrency(zone.rental_price) + '/m²/tháng' : \r\n                              '-'\r\n                            }\r\n                          </td>\r\n                          <td>\r\n                            {zone.tenant_info ? (\r\n                              <div>\r\n                                <div className=\"fw-medium\">{zone.tenant_info.company_name}</div>\r\n                                <small className=\"text-muted\">{zone.tenant_info.contact_person}</small>\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-muted\">-</span>\r\n                            )}\r\n                          </td>\r\n                          <td>\r\n                            <Button \r\n                              variant=\"outline-primary\" \r\n                              size=\"sm\"\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleZoneClick(zone);\r\n                              }}\r\n                            >\r\n                              <i className=\"fas fa-eye\"></i>\r\n                            </Button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                </div>\r\n              </Tab.Pane>\r\n\r\n              {/* Map Tab */}\r\n              <Tab.Pane eventKey=\"map\">\r\n                <ProjectMapView\r\n                  project={project}\r\n                  zones={zones}\r\n                  onZoneClick={(zone) => {\r\n                    setSelectedZone(zone);\r\n                    setShowZoneModal(true);\r\n                  }}\r\n                  showLegend={true}\r\n                />\r\n              </Tab.Pane>\r\n\r\n              {/* Tasks Tab */}\r\n              <Tab.Pane eventKey=\"tasks\">\r\n                <TaskManager projectId={id} projectName={project?.name} />\r\n              </Tab.Pane>\r\n\r\n              {/* Documents Tab */}\r\n              <Tab.Pane eventKey=\"documents\">\r\n                <h5 className=\"mb-3\">Hồ sơ pháp lý</h5>\r\n                <Row className=\"mb-4\">\r\n                  <Col md={6}>\r\n                    <Card className=\"border-0 bg-light\">\r\n                      <Card.Body>\r\n                        <div className=\"mb-2\">\r\n                          <small className=\"text-muted\">Giấy phép kinh doanh</small>\r\n                          <div className=\"fw-bold\">{project.legal_documents?.business_license || 'Chưa có'}</div>\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <small className=\"text-muted\">Giấy phép xây dựng</small>\r\n                          <div className=\"fw-bold\">{project.legal_documents?.construction_permit || 'Chưa có'}</div>\r\n                        </div>\r\n                        <div>\r\n                          <small className=\"text-muted\">Chứng nhận PCCC</small>\r\n                          <div className=\"fw-bold\">{project.legal_documents?.fire_safety_cert || 'Chưa có'}</div>\r\n                        </div>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <h5 className=\"mb-3\">Tài liệu dự án</h5>\r\n                \r\n                {!isDocumentServiceAvailable ? (\r\n                  <Alert variant=\"warning\">\r\n                    <Alert.Heading><i className=\"fas fa-exclamation-triangle me-2\"></i>Dịch vụ tài liệu không khả dụng</Alert.Heading>\r\n                    <p>\r\n                      Không thể kết nối đến dịch vụ tài liệu. Chức năng upload và xem file sẽ bị vô hiệu hóa. \r\n                      Vui lòng kiểm tra lại kết nối hoặc liên hệ quản trị viên.\r\n                    </p>\r\n                  </Alert>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"mb-3\">\r\n                      <Button \r\n                        variant=\"outline-primary\" \r\n                        onClick={() => setShowDocumentModal(true)}\r\n                      >\r\n                        <i className=\"fas fa-upload me-2\"></i>\r\n                        Upload tài liệu\r\n                      </Button>\r\n                    </div>\r\n\r\n                    {uploadedDocuments.length > 0 ? (\r\n                      <div className=\"table-responsive\">\r\n                        <Table hover className=\"border\">\r\n                          <thead className=\"bg-light\">\r\n                            <tr>\r\n                              <th>Tên tài liệu</th>\r\n                              <th>Dung lượng</th>\r\n                              <th>Ngày upload</th>\r\n                              <th style={{ width: '120px' }}>Thao tác</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {uploadedDocuments.map(doc => (\r\n                              <tr key={doc.id}>\r\n                                <td>\r\n                                  <i className=\"fas fa-file me-2 text-primary\"></i>\r\n                                  {doc.name}\r\n                                </td>\r\n                                <td>{(doc.size / 1024).toFixed(2)} KB</td>\r\n                                <td>{new Date(doc.uploadedAt).toLocaleDateString('vi-VN')}</td>\r\n                                <td>\r\n                                  <div className=\"d-flex gap-2\">\r\n                                    <Button\r\n                                      variant=\"outline-primary\"\r\n                                      size=\"sm\"\r\n                                      title=\"Xem\"\r\n                                      onClick={() => handleViewDocument(doc)}\r\n                                    >\r\n                                      <i className=\"fas fa-eye\"></i>\r\n                                    </Button>\r\n                                    <Button\r\n                                      variant=\"outline-success\"\r\n                                      size=\"sm\"\r\n                                      title=\"Tải xuống\"\r\n                                      onClick={() => handleDownloadDocument(doc)}\r\n                                    >\r\n                                      <i className=\"fas fa-download\"></i>\r\n                                    </Button>\r\n                                    <Button\r\n                                      variant=\"outline-danger\"\r\n                                      size=\"sm\"\r\n                                      title=\"Xóa\"\r\n                                      onClick={() => handleDeleteDocument(doc.id)}\r\n                                    >\r\n                                      <i className=\"fas fa-trash\"></i>\r\n                                    </Button>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </Table>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"text-center py-5 border rounded bg-light\">\r\n                        <i className=\"fas fa-file-alt fa-3x text-muted mb-3 d-block\"></i>\r\n                        <p className=\"text-muted mb-0\">Chưa có tài liệu nào được upload</p>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </Tab.Pane>\r\n\r\n              {/* Team Tab */}\r\n              <Tab.Pane eventKey=\"team\">\r\n                <Row>\r\n                  <Col lg={6} className=\"mb-4\">\r\n                    <Card className=\"border-0 shadow-sm\">\r\n                      <Card.Header className=\"bg-light border-0\">\r\n                        <h5 className=\"mb-0\">\r\n                          <i className=\"fas fa-user-tie me-2 text-primary\"></i>\r\n                          Giám đốc Dự án\r\n                        </h5>\r\n                      </Card.Header>\r\n                      <Card.Body>\r\n                        {project.project_director ? (\r\n                          <div>\r\n                            <div className=\"mb-3\">\r\n                              <div className=\"d-flex align-items-center mb-3\">\r\n                                <div className=\"bg-primary text-white rounded-circle p-3 me-3\" style={{ width: '60px', height: '60px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                  <i className=\"fas fa-user fa-lg\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <h6 className=\"mb-0 fw-bold\">{project.project_director.name}</h6>\r\n                                  <small className=\"text-muted\">{project.project_director.position}</small>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"info-group\">\r\n                              <div className=\"info-item\">\r\n                                <strong>Email:</strong> {project.project_director.email}\r\n                              </div>\r\n                              <div className=\"info-item\">\r\n                                <strong>Điện thoại:</strong> {project.project_director.phone}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ) : (\r\n                          <p className=\"text-muted text-center\">Chưa có giám đốc được chỉ định</p>\r\n                        )}\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n\r\n                  <Col lg={6} className=\"mb-4\">\r\n                    <Card className=\"border-0 shadow-sm\">\r\n                      <Card.Header className=\"bg-light border-0\">\r\n                        <h5 className=\"mb-0\">\r\n                          <i className=\"fas fa-clipboard-list me-2 text-info\"></i>\r\n                          Người Quản lý Dự án\r\n                        </h5>\r\n                      </Card.Header>\r\n                      <Card.Body>\r\n                        {project.project_manager ? (\r\n                          <div>\r\n                            <div className=\"mb-3\">\r\n                              <div className=\"d-flex align-items-center mb-3\">\r\n                                <div className=\"bg-info text-white rounded-circle p-3 me-3\" style={{ width: '60px', height: '60px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                  <i className=\"fas fa-user fa-lg\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <h6 className=\"mb-0 fw-bold\">{project.project_manager.name}</h6>\r\n                                  <small className=\"text-muted\">{project.project_manager.position}</small>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"info-group\">\r\n                              <div className=\"info-item\">\r\n                                <strong>Email:</strong> {project.project_manager.email}\r\n                              </div>\r\n                              <div className=\"info-item\">\r\n                                <strong>Điện thoại:</strong> {project.project_manager.phone}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ) : (\r\n                          <p className=\"text-muted text-center\">Chưa có người quản lý được chỉ định</p>\r\n                        )}\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                </Row>\r\n              </Tab.Pane>\r\n            </Tab.Content>\r\n          </Tab.Container>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Zone Detail Modal */}\r\n      <Modal show={showZoneModal} onHide={() => setShowZoneModal(false)} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            Chi tiết Kho {selectedZone?.zone_code}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {selectedZone && (\r\n            <Row>\r\n              <Col md={6}>\r\n                <h6>Thông tin kho</h6>\r\n                <div className=\"info-group\">\r\n                  <div className=\"info-item\">\r\n                    <strong>Mã kho:</strong> {selectedZone.zone_code}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Tên:</strong> {selectedZone.zone_name}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Diện tích:</strong> {formatArea(selectedZone.area)}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Trạng thái:</strong> {getZoneStatusBadge(selectedZone.status)}\r\n                  </div>\r\n                  <div className=\"info-item\">\r\n                    <strong>Giá thuê:</strong> {selectedZone.rental_price > 0 ? formatCurrency(selectedZone.rental_price) + '/m²/tháng' : '-'}\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n              <Col md={6}>\r\n                <h6>Thông tin khách thuê</h6>\r\n                {selectedZone.tenant_info ? (\r\n                  <div className=\"info-group\">\r\n                    <div className=\"info-item\">\r\n                      <strong>Công ty:</strong> {selectedZone.tenant_info.company_name}\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <strong>Người liên hệ:</strong> {selectedZone.tenant_info.contact_person}\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <strong>Số hợp đồng:</strong> {selectedZone.tenant_info.contract_number}\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <strong>Ngày hết hạn:</strong> {new Date(selectedZone.tenant_info.end_date).toLocaleDateString('vi-VN')}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-muted\">Chưa có khách thuê</p>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowZoneModal(false)}>\r\n            Đóng\r\n          </Button>\r\n          {hasPermission('zone_update') && (\r\n            <Button variant=\"primary\">\r\n              Chỉnh sửa kho\r\n            </Button>\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      {/* Upload Document Modal */}\r\n      <Modal show={showDocumentModal} onHide={() => setShowDocumentModal(false)} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Upload Tài liệu Dự án</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"text-center py-5 border-2 border-dashed rounded\" style={{ borderStyle: 'dashed' }}>\r\n            <input\r\n              type=\"file\"\r\n              multiple\r\n              onChange={handleDocumentUpload}\r\n              style={{ display: 'none' }}\r\n              id=\"fileInput\"\r\n            />\r\n            <label htmlFor=\"fileInput\" style={{ cursor: 'pointer', width: '100%' }}>\r\n              <i className=\"fas fa-cloud-upload-alt fa-3x text-primary mb-3 d-block\"></i>\r\n              <h6>Kéo thả hoặc click để chọn tài liệu</h6>\r\n              <small className=\"text-muted\">Hỗ trợ các định dạng: PDF, DOC, DOCX, XLS, XLSX, IMG, JPG, PNG</small>\r\n            </label>\r\n          </div>\r\n\r\n          {uploadedDocuments.length > 0 && (\r\n            <div className=\"mt-3\">\r\n              <h6>Tài liệu đã chọn ({uploadedDocuments.length}):</h6>\r\n              <ul className=\"list-group\">\r\n                {uploadedDocuments.map(doc => (\r\n                  <li key={doc.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    <span>\r\n                      <i className=\"fas fa-file me-2\"></i>\r\n                      {doc.name}\r\n                    </span>\r\n                    <Badge bg=\"secondary\">{(doc.size / 1024).toFixed(2)} KB</Badge>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowDocumentModal(false)}>\r\n            Đóng\r\n          </Button>\r\n          <Button \r\n            variant=\"primary\"\r\n            onClick={() => {\r\n              setShowDocumentModal(false);\r\n              if (uploadedDocuments.length > 0) {\r\n                showNotification(`Đã upload ${uploadedDocuments.length} tài liệu thành công!`, 'success');\r\n              }\r\n            }}\r\n          >\r\n            Hoàn tất upload\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      {/* Add/Edit Zone Modal */}\r\n      <Modal show={showAddZoneModal} onHide={() => setShowAddZoneModal(false)} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Thêm Kho Mới</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"alert alert-info mb-3\">\r\n            <i className=\"fas fa-info-circle me-2\"></i>\r\n            Form thêm kho sẽ được hiển thị tại đây\r\n          </div>\r\n\r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Mã Kho</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Ví dụ: A1\" />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Tên Kho</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Ví dụ: Khu vực A1\" />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Diện tích (m²)</Form.Label>\r\n                <Form.Control type=\"number\" placeholder=\"500\" />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Giá thuê (đ/m²/tháng)</Form.Label>\r\n                <Form.Control type=\"number\" placeholder=\"150000\" />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Trạng thái</Form.Label>\r\n            <Form.Select>\r\n              <option value=\"available\">Chưa cho thuê</option>\r\n              <option value=\"rented\">Đã cho thuê</option>\r\n              <option value=\"deposited\">Đã cọc</option>\r\n              <option value=\"maintenance\">Bảo trì</option>\r\n            </Form.Select>\r\n          </Form.Group>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowAddZoneModal(false)}>\r\n            Hủy\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => setShowAddZoneModal(false)}>\r\n            Lưu Kho\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProjectDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}