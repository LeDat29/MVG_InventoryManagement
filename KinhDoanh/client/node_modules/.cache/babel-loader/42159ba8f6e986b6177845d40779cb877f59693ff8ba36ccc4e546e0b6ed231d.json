{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * AI Configuration Manager - Ph√¢n h·ªá 2.4.3\r\n * Qu·∫£n l√Ω c·∫•u h√¨nh AI cho t·ª´ng user v·ªõi ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng\r\n */import React,{useState,useEffect,useCallback}from'react';import{Modal,Button,Alert,Tabs,Tab}from'react-bootstrap';import{ConfigListTab,AddEditConfigTab,ProvidersInfoTab}from'./AIConfigTabs';import{useAuth}from'../../contexts/AuthContext';import'./AIConfigManager.css';// ƒê·ªãnh nghƒ©a c√°c AI providers v·ªõi th√¥ng tin chi ti·∫øt\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AI_PROVIDERS=[{id:'openai',name:'OpenAI',icon:'ü§ñ',description:'GPT-3.5, GPT-4 (Free: $5 trial)',models:[{value:'gpt-3.5-turbo',label:'GPT-3.5 Turbo',cost:0.002},{value:'gpt-3.5-turbo-16k',label:'GPT-3.5 Turbo 16K',cost:0.004},{value:'gpt-4',label:'GPT-4',cost:0.03},{value:'gpt-4-turbo',label:'GPT-4 Turbo',cost:0.01},{value:'gpt-4o-mini',label:'GPT-4o Mini',cost:0.00015},{value:'gpt-4o',label:'GPT-4o',cost:0.005}],color:'success',websiteUrl:'https://platform.openai.com/api-keys',isFree:false,freeInfo:'$5 credit cho t√†i kho·∫£n m·ªõi'},{id:'google',name:'Google Gemini',icon:'‚ú®',description:'Gemini Pro (FREE 60 calls/min)',models:[{value:'gemini-pro',label:'Gemini Pro',cost:0.000},{value:'gemini-pro-vision',label:'Gemini Pro Vision',cost:0.000},{value:'gemini-1.5-pro',label:'Gemini 1.5 Pro',cost:0.000},{value:'gemini-1.5-flash',label:'Gemini 1.5 Flash',cost:0.000}],color:'primary',websiteUrl:'https://makersuite.google.com/app/apikey',isFree:true,freeInfo:'FREE: 60 requests/min, 1500/day'},{id:'anthropic',name:'Anthropic Claude',icon:'üß†',description:'Claude-3 Models (Free: $5 credit)',models:[{value:'claude-3-haiku-20240307',label:'Claude 3 Haiku',cost:0.00025},{value:'claude-3-sonnet-20240229',label:'Claude 3 Sonnet',cost:0.003},{value:'claude-3-opus-20240229',label:'Claude 3 Opus',cost:0.015},{value:'claude-3-5-sonnet-20241022',label:'Claude 3.5 Sonnet',cost:0.003}],color:'warning',websiteUrl:'https://console.anthropic.com/',isFree:false,freeInfo:'$5 credit cho t√†i kho·∫£n m·ªõi'},{id:'groq',name:'Groq',icon:'‚ö°',description:'Ultra-fast inference (FREE tier)',models:[{value:'llama-3.1-70b-versatile',label:'Llama 3.1 70B',cost:0.000},{value:'llama-3.1-8b-instant',label:'Llama 3.1 8B',cost:0.000},{value:'mixtral-8x7b-32768',label:'Mixtral 8x7B',cost:0.000},{value:'gemma-7b-it',label:'Gemma 7B',cost:0.000}],color:'info',websiteUrl:'https://console.groq.com/keys',isFree:true,freeInfo:'FREE: 30 requests/min, 14,400/day'},{id:'cohere',name:'Cohere',icon:'üîÆ',description:'Command-R Models (FREE tier)',models:[{value:'command-r',label:'Command R',cost:0.000},{value:'command-r-plus',label:'Command R+',cost:0.000},{value:'command-light',label:'Command Light',cost:0.000}],color:'secondary',websiteUrl:'https://dashboard.cohere.ai/api-keys',isFree:true,freeInfo:'FREE: 1000 requests/month'}];function AIConfigManager(_ref){var _user$user2,_user$user4,_user$user6;let{user,userId,show,onHide,onSave}=_ref;const{user:authUser}=useAuth();const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// AI Configurations\nconst[aiConfigs,setAIConfigs]=useState([]);const[activeTab,setActiveTab]=useState('list');// Form states for new/edit config\nconst[configForm,setConfigForm]=useState({id:null,provider:'',model_name:'',api_key:'',max_tokens:4000,temperature:0.7,cost_per_token:0.000,priority:1,is_active:true});const[showPassword,setShowPassword]=useState(false);const[testingConfig,setTestingConfig]=useState(null);useEffect(()=>{var _user$user;const currentUserId=userId||(user===null||user===void 0?void 0:(_user$user=user.user)===null||_user$user===void 0?void 0:_user$user.id)||(user===null||user===void 0?void 0:user.id)||(authUser===null||authUser===void 0?void 0:authUser.id);if(show&&currentUserId){loadAIConfigs();}},[show,userId,user===null||user===void 0?void 0:user.id,user===null||user===void 0?void 0:(_user$user2=user.user)===null||_user$user2===void 0?void 0:_user$user2.id,authUser===null||authUser===void 0?void 0:authUser.id]);// Removed loadAIConfigs dependency\nconst loadAIConfigs=useCallback(async()=>{try{var _user$user3;setLoading(true);setError('');const currentUserId=userId||(user===null||user===void 0?void 0:(_user$user3=user.user)===null||_user$user3===void 0?void 0:_user$user3.id)||(user===null||user===void 0?void 0:user.id)||(authUser===null||authUser===void 0?void 0:authUser.id);console.log('Loading AI configs for user:',currentUserId);if(!currentUserId){throw new Error('User ID not found');}const token=localStorage.getItem('token');const response=await fetch(\"/api/ai-configs/user-configs?user_id=\".concat(currentUserId),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){var _data$data,_data$data2,_data$data2$configs;const data=await response.json();setAIConfigs(((_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.configs)||[]);console.log('AI configs loaded:',((_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$configs=_data$data2.configs)===null||_data$data2$configs===void 0?void 0:_data$data2$configs.length)||0);}else if(response.status===404){// No configs yet - that's fine\nsetAIConfigs([]);}else{throw new Error(\"HTTP \".concat(response.status));}}catch(error){console.error('Error loading AI configs:',error);setError('Kh√¥ng th·ªÉ t·∫£i c·∫•u h√¨nh AI: '+error.message);setAIConfigs([]);}finally{setLoading(false);}},[userId,user===null||user===void 0?void 0:user.id,authUser===null||authUser===void 0?void 0:authUser.id,user===null||user===void 0?void 0:(_user$user4=user.user)===null||_user$user4===void 0?void 0:_user$user4.id]);// Handler functions\nconst handleEditConfig=config=>{setConfigForm({id:config.id,provider:config.provider,model_name:config.model_name,api_key:'',// Don't pre-fill for security\nmax_tokens:config.max_tokens,temperature:config.temperature,cost_per_token:config.cost_per_token,priority:config.priority,is_active:config.is_active});setActiveTab('add');};const handleDeleteConfig=async configId=>{if(!window.confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a c·∫•u h√¨nh AI n√†y?'))return;try{setLoading(true);const token=localStorage.getItem('token');const response=await fetch(\"/api/ai-configs/configs/\".concat(configId),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){setSuccess('X√≥a c·∫•u h√¨nh AI th√†nh c√¥ng!');loadAIConfigs();}else{throw new Error('Kh√¥ng th·ªÉ x√≥a c·∫•u h√¨nh');}}catch(error){setError('L·ªói khi x√≥a c·∫•u h√¨nh: '+error.message);}finally{setLoading(false);}};const handleTestConfig=async config=>{try{setTestingConfig(config.id);const token=localStorage.getItem('token');const response=await fetch(\"/api/ai-configs/test-config\",{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({config_id:config.id,test_message:'Hello, this is a test message.'})});if(response.ok){setSuccess('K·∫øt n·ªëi AI th√†nh c√¥ng!');}else{throw new Error('Test connection failed');}}catch(error){setError('L·ªói test k·∫øt n·ªëi: '+error.message);}finally{setTestingConfig(null);}};const handleToggleStatus=async(configId,newStatus)=>{try{const token=localStorage.getItem('token');const response=await fetch(\"/api/ai-configs/configs/\".concat(configId),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify({is_active:newStatus})});if(response.ok){setSuccess(\"C\\u1EA5u h\\xECnh \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c \".concat(newStatus?'k√≠ch ho·∫°t':'v√¥ hi·ªáu h√≥a',\"!\"));loadAIConfigs();}else{throw new Error('Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t tr·∫°ng th√°i');}}catch(error){setError('L·ªói c·∫≠p nh·∫≠t tr·∫°ng th√°i: '+error.message);}};const handleSaveConfig=async()=>{try{var _user$user5;setLoading(true);setError('');const currentUserId=userId||(user===null||user===void 0?void 0:(_user$user5=user.user)===null||_user$user5===void 0?void 0:_user$user5.id)||(user===null||user===void 0?void 0:user.id)||(authUser===null||authUser===void 0?void 0:authUser.id);const token=localStorage.getItem('token');const endpoint=configForm.id?\"/api/ai-configs/configs/\".concat(configForm.id):\"/api/ai-configs/configs\";const method=configForm.id?'PUT':'POST';const response=await fetch(endpoint,{method,headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(_objectSpread(_objectSpread({},configForm),{},{user_id:currentUserId}))});if(response.ok){setSuccess(\"\".concat(configForm.id?'C·∫≠p nh·∫≠t':'Th√™m',\" c\\u1EA5u h\\xECnh AI th\\xE0nh c\\xF4ng!\"));handleCancelEdit();loadAIConfigs();setActiveTab('list');}else{const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||'Kh√¥ng th·ªÉ l∆∞u c·∫•u h√¨nh');}}catch(error){setError('L·ªói l∆∞u c·∫•u h√¨nh: '+error.message);}finally{setLoading(false);}};const handleCancelEdit=()=>{setConfigForm({id:null,provider:'',model_name:'',api_key:'',max_tokens:4000,temperature:0.7,cost_per_token:0.000,priority:1,is_active:true});};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,size:\"xl\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-robot me-2\"}),\"C\\u1EA5u h\\xECnh AI - \",(user===null||user===void 0?void 0:(_user$user6=user.user)===null||_user$user6===void 0?void 0:_user$user6.full_name)||(user===null||user===void 0?void 0:user.full_name)||'User']})}),/*#__PURE__*/_jsxs(Modal.Body,{style:{maxHeight:'70vh',overflowY:'auto'},children:[error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(''),children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",dismissible:true,onClose:()=>setSuccess(''),children:success}),/*#__PURE__*/_jsxs(Alert,{variant:\"info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"Ph\\xE2n h\\u1EC7 2.4.3:\"}),\" Qu\\u1EA3n l\\xFD c\\u1EA5u h\\xECnh AI cho user - API keys, models, v\\xE0 settings\"]}),/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:setActiveTab,className:\"mb-3\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"list\",title:\"\\uD83D\\uDCCB Danh s\\xE1ch (\".concat(aiConfigs.length,\")\"),children:/*#__PURE__*/_jsx(ConfigListTab,{configs:aiConfigs,onEdit:handleEditConfig,onDelete:handleDeleteConfig,onTest:handleTestConfig,onToggleStatus:handleToggleStatus,testingConfig:testingConfig})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"add\",title:\"\\u2795 Th\\xEAm m\\u1EDBi\",children:/*#__PURE__*/_jsx(AddEditConfigTab,{config:configForm,onChange:setConfigForm,providers:AI_PROVIDERS,onSave:handleSaveConfig,onCancel:handleCancelEdit,showPassword:showPassword,onTogglePassword:()=>setShowPassword(!showPassword),loading:loading})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"providers\",title:\"\\uD83D\\uDD0D AI Providers\",children:/*#__PURE__*/_jsx(ProvidersInfoTab,{providers:AI_PROVIDERS})})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"\\u0110ang t\\u1EA3i...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-muted\",children:\"\\u0110ang t\\u1EA3i c\\u1EA5u h\\xECnh AI...\"})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onHide,children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:()=>setActiveTab('add'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Th\\xEAm c\\u1EA5u h\\xECnh AI\"]})]})]});}export default AIConfigManager;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Modal","Button","Alert","Tabs","Tab","ConfigListTab","AddEditConfigTab","ProvidersInfoTab","useAuth","jsx","_jsx","jsxs","_jsxs","AI_PROVIDERS","id","name","icon","description","models","value","label","cost","color","websiteUrl","isFree","freeInfo","AIConfigManager","_ref","_user$user2","_user$user4","_user$user6","user","userId","show","onHide","onSave","authUser","loading","setLoading","error","setError","success","setSuccess","aiConfigs","setAIConfigs","activeTab","setActiveTab","configForm","setConfigForm","provider","model_name","api_key","max_tokens","temperature","cost_per_token","priority","is_active","showPassword","setShowPassword","testingConfig","setTestingConfig","_user$user","currentUserId","loadAIConfigs","_user$user3","console","log","Error","token","localStorage","getItem","response","fetch","concat","headers","ok","_data$data","_data$data2","_data$data2$configs","data","json","configs","length","status","message","handleEditConfig","config","handleDeleteConfig","configId","window","confirm","method","handleTestConfig","body","JSON","stringify","config_id","test_message","handleToggleStatus","newStatus","handleSaveConfig","_user$user5","endpoint","_objectSpread","user_id","handleCancelEdit","errorData","catch","size","children","Header","closeButton","Title","className","full_name","Body","style","maxHeight","overflowY","variant","dismissible","onClose","activeKey","onSelect","eventKey","title","onEdit","onDelete","onTest","onToggleStatus","onChange","providers","onCancel","onTogglePassword","role","Footer","onClick"],"sources":["C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/src/components/Users/AIConfigManagerComplete.js"],"sourcesContent":["/**\r\n * AI Configuration Manager - Ph√¢n h·ªá 2.4.3\r\n * Qu·∫£n l√Ω c·∫•u h√¨nh AI cho t·ª´ng user v·ªõi ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Modal, Button, Alert, Tabs, Tab } from 'react-bootstrap';\r\nimport { ConfigListTab, AddEditConfigTab, ProvidersInfoTab } from './AIConfigTabs';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport './AIConfigManager.css';\r\n\r\n// ƒê·ªãnh nghƒ©a c√°c AI providers v·ªõi th√¥ng tin chi ti·∫øt\r\nconst AI_PROVIDERS = [\r\n  {\r\n    id: 'openai',\r\n    name: 'OpenAI',\r\n    icon: 'ü§ñ',\r\n    description: 'GPT-3.5, GPT-4 (Free: $5 trial)',\r\n    models: [\r\n      { value: 'gpt-3.5-turbo', label: 'GPT-3.5 Turbo', cost: 0.002 },\r\n      { value: 'gpt-3.5-turbo-16k', label: 'GPT-3.5 Turbo 16K', cost: 0.004 },\r\n      { value: 'gpt-4', label: 'GPT-4', cost: 0.03 },\r\n      { value: 'gpt-4-turbo', label: 'GPT-4 Turbo', cost: 0.01 },\r\n      { value: 'gpt-4o-mini', label: 'GPT-4o Mini', cost: 0.00015 },\r\n      { value: 'gpt-4o', label: 'GPT-4o', cost: 0.005 }\r\n    ],\r\n    color: 'success',\r\n    websiteUrl: 'https://platform.openai.com/api-keys',\r\n    isFree: false,\r\n    freeInfo: '$5 credit cho t√†i kho·∫£n m·ªõi'\r\n  },\r\n  {\r\n    id: 'google',\r\n    name: 'Google Gemini', \r\n    icon: '‚ú®',\r\n    description: 'Gemini Pro (FREE 60 calls/min)',\r\n    models: [\r\n      { value: 'gemini-pro', label: 'Gemini Pro', cost: 0.000 },\r\n      { value: 'gemini-pro-vision', label: 'Gemini Pro Vision', cost: 0.000 },\r\n      { value: 'gemini-1.5-pro', label: 'Gemini 1.5 Pro', cost: 0.000 },\r\n      { value: 'gemini-1.5-flash', label: 'Gemini 1.5 Flash', cost: 0.000 }\r\n    ],\r\n    color: 'primary',\r\n    websiteUrl: 'https://makersuite.google.com/app/apikey',\r\n    isFree: true,\r\n    freeInfo: 'FREE: 60 requests/min, 1500/day'\r\n  },\r\n  {\r\n    id: 'anthropic',\r\n    name: 'Anthropic Claude',\r\n    icon: 'üß†', \r\n    description: 'Claude-3 Models (Free: $5 credit)',\r\n    models: [\r\n      { value: 'claude-3-haiku-20240307', label: 'Claude 3 Haiku', cost: 0.00025 },\r\n      { value: 'claude-3-sonnet-20240229', label: 'Claude 3 Sonnet', cost: 0.003 },\r\n      { value: 'claude-3-opus-20240229', label: 'Claude 3 Opus', cost: 0.015 },\r\n      { value: 'claude-3-5-sonnet-20241022', label: 'Claude 3.5 Sonnet', cost: 0.003 }\r\n    ],\r\n    color: 'warning',\r\n    websiteUrl: 'https://console.anthropic.com/',\r\n    isFree: false,\r\n    freeInfo: '$5 credit cho t√†i kho·∫£n m·ªõi'\r\n  },\r\n  {\r\n    id: 'groq',\r\n    name: 'Groq',\r\n    icon: '‚ö°',\r\n    description: 'Ultra-fast inference (FREE tier)',\r\n    models: [\r\n      { value: 'llama-3.1-70b-versatile', label: 'Llama 3.1 70B', cost: 0.000 },\r\n      { value: 'llama-3.1-8b-instant', label: 'Llama 3.1 8B', cost: 0.000 },\r\n      { value: 'mixtral-8x7b-32768', label: 'Mixtral 8x7B', cost: 0.000 },\r\n      { value: 'gemma-7b-it', label: 'Gemma 7B', cost: 0.000 }\r\n    ],\r\n    color: 'info',\r\n    websiteUrl: 'https://console.groq.com/keys',\r\n    isFree: true,\r\n    freeInfo: 'FREE: 30 requests/min, 14,400/day'\r\n  },\r\n  {\r\n    id: 'cohere',\r\n    name: 'Cohere',\r\n    icon: 'üîÆ',\r\n    description: 'Command-R Models (FREE tier)', \r\n    models: [\r\n      { value: 'command-r', label: 'Command R', cost: 0.000 },\r\n      { value: 'command-r-plus', label: 'Command R+', cost: 0.000 },\r\n      { value: 'command-light', label: 'Command Light', cost: 0.000 }\r\n    ],\r\n    color: 'secondary',\r\n    websiteUrl: 'https://dashboard.cohere.ai/api-keys',\r\n    isFree: true,\r\n    freeInfo: 'FREE: 1000 requests/month'\r\n  }\r\n];\r\n\r\nfunction AIConfigManager({ user, userId, show, onHide, onSave }) {\r\n  const { user: authUser } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  \r\n  // AI Configurations\r\n  const [aiConfigs, setAIConfigs] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('list');\r\n  \r\n  // Form states for new/edit config\r\n  const [configForm, setConfigForm] = useState({\r\n    id: null,\r\n    provider: '',\r\n    model_name: '',\r\n    api_key: '',\r\n    max_tokens: 4000,\r\n    temperature: 0.7,\r\n    cost_per_token: 0.000,\r\n    priority: 1,\r\n    is_active: true\r\n  });\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [testingConfig, setTestingConfig] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const currentUserId = userId || user?.user?.id || user?.id || authUser?.id;\r\n    if (show && currentUserId) {\r\n      loadAIConfigs();\r\n    }\r\n  }, [show, userId, user?.id, user?.user?.id, authUser?.id]); // Removed loadAIConfigs dependency\r\n\r\n  const loadAIConfigs = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const currentUserId = userId || user?.user?.id || user?.id || authUser?.id;\r\n      console.log('Loading AI configs for user:', currentUserId);\r\n      \r\n      if (!currentUserId) {\r\n        throw new Error('User ID not found');\r\n      }\r\n\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/ai-configs/user-configs?user_id=${currentUserId}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setAIConfigs(data.data?.configs || []);\r\n        console.log('AI configs loaded:', data.data?.configs?.length || 0);\r\n      } else if (response.status === 404) {\r\n        // No configs yet - that's fine\r\n        setAIConfigs([]);\r\n      } else {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading AI configs:', error);\r\n      setError('Kh√¥ng th·ªÉ t·∫£i c·∫•u h√¨nh AI: ' + error.message);\r\n      setAIConfigs([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [userId, user?.id, authUser?.id, user?.user?.id]);\r\n\r\n  // Handler functions\r\n  const handleEditConfig = (config) => {\r\n    setConfigForm({\r\n      id: config.id,\r\n      provider: config.provider,\r\n      model_name: config.model_name,\r\n      api_key: '', // Don't pre-fill for security\r\n      max_tokens: config.max_tokens,\r\n      temperature: config.temperature,\r\n      cost_per_token: config.cost_per_token,\r\n      priority: config.priority,\r\n      is_active: config.is_active\r\n    });\r\n    setActiveTab('add');\r\n  };\r\n\r\n  const handleDeleteConfig = async (configId) => {\r\n    if (!window.confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a c·∫•u h√¨nh AI n√†y?')) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/ai-configs/configs/${configId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess('X√≥a c·∫•u h√¨nh AI th√†nh c√¥ng!');\r\n        loadAIConfigs();\r\n      } else {\r\n        throw new Error('Kh√¥ng th·ªÉ x√≥a c·∫•u h√¨nh');\r\n      }\r\n    } catch (error) {\r\n      setError('L·ªói khi x√≥a c·∫•u h√¨nh: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTestConfig = async (config) => {\r\n    try {\r\n      setTestingConfig(config.id);\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/ai-configs/test-config`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          config_id: config.id,\r\n          test_message: 'Hello, this is a test message.'\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess('K·∫øt n·ªëi AI th√†nh c√¥ng!');\r\n      } else {\r\n        throw new Error('Test connection failed');\r\n      }\r\n    } catch (error) {\r\n      setError('L·ªói test k·∫øt n·ªëi: ' + error.message);\r\n    } finally {\r\n      setTestingConfig(null);\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async (configId, newStatus) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/ai-configs/configs/${configId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ is_active: newStatus })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess(`C·∫•u h√¨nh ƒë√£ ƒë∆∞·ª£c ${newStatus ? 'k√≠ch ho·∫°t' : 'v√¥ hi·ªáu h√≥a'}!`);\r\n        loadAIConfigs();\r\n      } else {\r\n        throw new Error('Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t tr·∫°ng th√°i');\r\n      }\r\n    } catch (error) {\r\n      setError('L·ªói c·∫≠p nh·∫≠t tr·∫°ng th√°i: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleSaveConfig = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const currentUserId = userId || user?.user?.id || user?.id || authUser?.id;\r\n      const token = localStorage.getItem('token');\r\n      \r\n      const endpoint = configForm.id \r\n        ? `/api/ai-configs/configs/${configForm.id}`\r\n        : `/api/ai-configs/configs`;\r\n      \r\n      const method = configForm.id ? 'PUT' : 'POST';\r\n      \r\n      const response = await fetch(endpoint, {\r\n        method,\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          ...configForm,\r\n          user_id: currentUserId\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess(`${configForm.id ? 'C·∫≠p nh·∫≠t' : 'Th√™m'} c·∫•u h√¨nh AI th√†nh c√¥ng!`);\r\n        handleCancelEdit();\r\n        loadAIConfigs();\r\n        setActiveTab('list');\r\n      } else {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.message || 'Kh√¥ng th·ªÉ l∆∞u c·∫•u h√¨nh');\r\n      }\r\n    } catch (error) {\r\n      setError('L·ªói l∆∞u c·∫•u h√¨nh: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setConfigForm({\r\n      id: null,\r\n      provider: '',\r\n      model_name: '',\r\n      api_key: '',\r\n      max_tokens: 4000,\r\n      temperature: 0.7,\r\n      cost_per_token: 0.000,\r\n      priority: 1,\r\n      is_active: true\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} size=\"xl\">\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>\r\n          <i className=\"fas fa-robot me-2\"></i>\r\n          C·∫•u h√¨nh AI - {user?.user?.full_name || user?.full_name || 'User'}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      \r\n      <Modal.Body style={{ maxHeight: '70vh', overflowY: 'auto' }}>\r\n        {error && <Alert variant=\"danger\" dismissible onClose={() => setError('')}>{error}</Alert>}\r\n        {success && <Alert variant=\"success\" dismissible onClose={() => setSuccess('')}>{success}</Alert>}\r\n        \r\n        <Alert variant=\"info\">\r\n          <i className=\"fas fa-info-circle me-2\"></i>\r\n          <strong>Ph√¢n h·ªá 2.4.3:</strong> Qu·∫£n l√Ω c·∫•u h√¨nh AI cho user - API keys, models, v√† settings\r\n        </Alert>\r\n\r\n        <Tabs activeKey={activeTab} onSelect={setActiveTab} className=\"mb-3\">\r\n          <Tab eventKey=\"list\" title={`üìã Danh s√°ch (${aiConfigs.length})`}>\r\n            <ConfigListTab \r\n              configs={aiConfigs}\r\n              onEdit={handleEditConfig}\r\n              onDelete={handleDeleteConfig}\r\n              onTest={handleTestConfig}\r\n              onToggleStatus={handleToggleStatus}\r\n              testingConfig={testingConfig}\r\n            />\r\n          </Tab>\r\n          \r\n          <Tab eventKey=\"add\" title=\"‚ûï Th√™m m·ªõi\">\r\n            <AddEditConfigTab\r\n              config={configForm}\r\n              onChange={setConfigForm}\r\n              providers={AI_PROVIDERS}\r\n              onSave={handleSaveConfig}\r\n              onCancel={handleCancelEdit}\r\n              showPassword={showPassword}\r\n              onTogglePassword={() => setShowPassword(!showPassword)}\r\n              loading={loading}\r\n            />\r\n          </Tab>\r\n          \r\n          <Tab eventKey=\"providers\" title=\"üîç AI Providers\">\r\n            <ProvidersInfoTab providers={AI_PROVIDERS} />\r\n          </Tab>\r\n        </Tabs>\r\n\r\n        {loading && (\r\n          <div className=\"text-center py-4\">\r\n            <div className=\"spinner-border text-primary\" role=\"status\">\r\n              <span className=\"visually-hidden\">ƒêang t·∫£i...</span>\r\n            </div>\r\n            <p className=\"mt-2 text-muted\">ƒêang t·∫£i c·∫•u h√¨nh AI...</p>\r\n          </div>\r\n        )}\r\n\r\n      </Modal.Body>\r\n      \r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={onHide}>\r\n          ƒê√≥ng\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={() => setActiveTab('add')}>\r\n          <i className=\"fas fa-plus me-2\"></i>\r\n          Th√™m c·∫•u h√¨nh AI\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AIConfigManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}