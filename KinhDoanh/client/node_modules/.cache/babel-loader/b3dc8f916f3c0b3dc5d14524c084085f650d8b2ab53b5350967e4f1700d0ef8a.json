{"ast":null,"code":"/**\r\n * Error Logger Utility - KHO MVG Client\r\n * Centralized error logging and reporting service\r\n */\n\nclass ErrorLogger {\n  /**\r\n   * Log error to console (development) and send to server (production)\r\n   */\n  static async logError(error, context = {}) {\n    const errorData = {\n      message: error.message || 'Unknown error',\n      stack: error.stack,\n      context: {\n        ...context,\n        url: window.location.href,\n        userAgent: navigator.userAgent,\n        timestamp: new Date().toISOString()\n      }\n    };\n\n    // Always log to console in development\n    if (!this.isProduction) {\n      console.error('[ErrorLogger]', errorData);\n    }\n\n    // Send to server for tracking\n    try {\n      await fetch(this.apiEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(errorData)\n      });\n    } catch (sendError) {\n      // Silently fail if error reporting fails\n      if (!this.isProduction) {\n        console.warn('Failed to send error to server:', sendError);\n      }\n    }\n    return errorData;\n  }\n\n  /**\r\n   * Log warning\r\n   */\n  static logWarning(message, context = {}) {\n    const warningData = {\n      level: 'warning',\n      message,\n      context,\n      timestamp: new Date().toISOString()\n    };\n    if (!this.isProduction) {\n      console.warn('[Warning]', warningData);\n    }\n    return warningData;\n  }\n\n  /**\r\n   * Log info (development only)\r\n   */\n  static logInfo(message, data = {}) {\n    if (!this.isProduction) {\n      console.log('[Info]', message, data);\n    }\n  }\n\n  /**\r\n   * Track user action for analytics\r\n   */\n  static async trackAction(action, data = {}) {\n    if (!this.isProduction) {\n      console.log('[Track]', action, data);\n    }\n    try {\n      await fetch('/api/client-analytics', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          action,\n          data,\n          timestamp: new Date().toISOString()\n        })\n      });\n    } catch (error) {\n      // Silently fail\n    }\n  }\n\n  /**\r\n   * Create error boundary handler\r\n   */\n  static createErrorBoundaryHandler(componentName) {\n    return (error, errorInfo) => {\n      this.logError(error, {\n        component: componentName,\n        errorInfo: errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.componentStack\n      });\n    };\n  }\n}\nErrorLogger.isProduction = process.env.NODE_ENV === 'production';\nErrorLogger.apiEndpoint = '/api/client-errors';\nexport default ErrorLogger;","map":{"version":3,"names":["ErrorLogger","logError","error","context","errorData","message","stack","url","window","location","href","userAgent","navigator","timestamp","Date","toISOString","isProduction","console","fetch","apiEndpoint","method","headers","localStorage","getItem","body","JSON","stringify","sendError","warn","logWarning","warningData","level","logInfo","data","log","trackAction","action","createErrorBoundaryHandler","componentName","errorInfo","component","componentStack","process","env","NODE_ENV"],"sources":["C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/src/utils/errorLogger.js"],"sourcesContent":["/**\r\n * Error Logger Utility - KHO MVG Client\r\n * Centralized error logging and reporting service\r\n */\r\n\r\nclass ErrorLogger {\r\n    static isProduction = process.env.NODE_ENV === 'production';\r\n    static apiEndpoint = '/api/client-errors';\r\n\r\n    /**\r\n     * Log error to console (development) and send to server (production)\r\n     */\r\n    static async logError(error, context = {}) {\r\n        const errorData = {\r\n            message: error.message || 'Unknown error',\r\n            stack: error.stack,\r\n            context: {\r\n                ...context,\r\n                url: window.location.href,\r\n                userAgent: navigator.userAgent,\r\n                timestamp: new Date().toISOString()\r\n            }\r\n        };\r\n\r\n        // Always log to console in development\r\n        if (!this.isProduction) {\r\n            console.error('[ErrorLogger]', errorData);\r\n        }\r\n\r\n        // Send to server for tracking\r\n        try {\r\n            await fetch(this.apiEndpoint, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                },\r\n                body: JSON.stringify(errorData)\r\n            });\r\n        } catch (sendError) {\r\n            // Silently fail if error reporting fails\r\n            if (!this.isProduction) {\r\n                console.warn('Failed to send error to server:', sendError);\r\n            }\r\n        }\r\n\r\n        return errorData;\r\n    }\r\n\r\n    /**\r\n     * Log warning\r\n     */\r\n    static logWarning(message, context = {}) {\r\n        const warningData = {\r\n            level: 'warning',\r\n            message,\r\n            context,\r\n            timestamp: new Date().toISOString()\r\n        };\r\n\r\n        if (!this.isProduction) {\r\n            console.warn('[Warning]', warningData);\r\n        }\r\n\r\n        return warningData;\r\n    }\r\n\r\n    /**\r\n     * Log info (development only)\r\n     */\r\n    static logInfo(message, data = {}) {\r\n        if (!this.isProduction) {\r\n            console.log('[Info]', message, data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Track user action for analytics\r\n     */\r\n    static async trackAction(action, data = {}) {\r\n        if (!this.isProduction) {\r\n            console.log('[Track]', action, data);\r\n        }\r\n\r\n        try {\r\n            await fetch('/api/client-analytics', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                },\r\n                body: JSON.stringify({\r\n                    action,\r\n                    data,\r\n                    timestamp: new Date().toISOString()\r\n                })\r\n            });\r\n        } catch (error) {\r\n            // Silently fail\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create error boundary handler\r\n     */\r\n    static createErrorBoundaryHandler(componentName) {\r\n        return (error, errorInfo) => {\r\n            this.logError(error, {\r\n                component: componentName,\r\n                errorInfo: errorInfo?.componentStack\r\n            });\r\n        };\r\n    }\r\n}\r\n\r\nexport default ErrorLogger;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,WAAW,CAAC;EAId;AACJ;AACA;EACI,aAAaC,QAAQA,CAACC,KAAK,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;IACvC,MAAMC,SAAS,GAAG;MACdC,OAAO,EAAEH,KAAK,CAACG,OAAO,IAAI,eAAe;MACzCC,KAAK,EAAEJ,KAAK,CAACI,KAAK;MAClBH,OAAO,EAAE;QACL,GAAGA,OAAO;QACVI,GAAG,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI;QACzBC,SAAS,EAAEC,SAAS,CAACD,SAAS;QAC9BE,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACtC;IACJ,CAAC;;IAED;IACA,IAAI,CAAC,IAAI,CAACC,YAAY,EAAE;MACpBC,OAAO,CAACf,KAAK,CAAC,eAAe,EAAEE,SAAS,CAAC;IAC7C;;IAEA;IACA,IAAI;MACA,MAAMc,KAAK,CAAC,IAAI,CAACC,WAAW,EAAE;QAC1BC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC5D,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACtB,SAAS;MAClC,CAAC,CAAC;IACN,CAAC,CAAC,OAAOuB,SAAS,EAAE;MAChB;MACA,IAAI,CAAC,IAAI,CAACX,YAAY,EAAE;QACpBC,OAAO,CAACW,IAAI,CAAC,iCAAiC,EAAED,SAAS,CAAC;MAC9D;IACJ;IAEA,OAAOvB,SAAS;EACpB;;EAEA;AACJ;AACA;EACI,OAAOyB,UAAUA,CAACxB,OAAO,EAAEF,OAAO,GAAG,CAAC,CAAC,EAAE;IACrC,MAAM2B,WAAW,GAAG;MAChBC,KAAK,EAAE,SAAS;MAChB1B,OAAO;MACPF,OAAO;MACPU,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACtC,CAAC;IAED,IAAI,CAAC,IAAI,CAACC,YAAY,EAAE;MACpBC,OAAO,CAACW,IAAI,CAAC,WAAW,EAAEE,WAAW,CAAC;IAC1C;IAEA,OAAOA,WAAW;EACtB;;EAEA;AACJ;AACA;EACI,OAAOE,OAAOA,CAAC3B,OAAO,EAAE4B,IAAI,GAAG,CAAC,CAAC,EAAE;IAC/B,IAAI,CAAC,IAAI,CAACjB,YAAY,EAAE;MACpBC,OAAO,CAACiB,GAAG,CAAC,QAAQ,EAAE7B,OAAO,EAAE4B,IAAI,CAAC;IACxC;EACJ;;EAEA;AACJ;AACA;EACI,aAAaE,WAAWA,CAACC,MAAM,EAAEH,IAAI,GAAG,CAAC,CAAC,EAAE;IACxC,IAAI,CAAC,IAAI,CAACjB,YAAY,EAAE;MACpBC,OAAO,CAACiB,GAAG,CAAC,SAAS,EAAEE,MAAM,EAAEH,IAAI,CAAC;IACxC;IAEA,IAAI;MACA,MAAMf,KAAK,CAAC,uBAAuB,EAAE;QACjCE,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC5D,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBU,MAAM;UACNH,IAAI;UACJpB,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QACtC,CAAC;MACL,CAAC,CAAC;IACN,CAAC,CAAC,OAAOb,KAAK,EAAE;MACZ;IAAA;EAER;;EAEA;AACJ;AACA;EACI,OAAOmC,0BAA0BA,CAACC,aAAa,EAAE;IAC7C,OAAO,CAACpC,KAAK,EAAEqC,SAAS,KAAK;MACzB,IAAI,CAACtC,QAAQ,CAACC,KAAK,EAAE;QACjBsC,SAAS,EAAEF,aAAa;QACxBC,SAAS,EAAEA,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEE;MAC1B,CAAC,CAAC;IACN,CAAC;EACL;AACJ;AA5GMzC,WAAW,CACNgB,YAAY,GAAG0B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;AADzD5C,WAAW,CAENmB,WAAW,GAAG,oBAAoB;AA4G7C,eAAenB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}