{"ast":null,"code":"import _objectSpread from\"D:/MinhVietGroup/InventoryProject/MVG_InventoryManagement/KinhDoanh/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * Contract Template Manager - Quản lý mẫu hợp đồng\r\n */import React,{useState,useEffect,useCallback}from'react';import{Container,Row,Col,Card,Button,Table,Badge,Form,Modal,Alert,Tabs,Tab}from'react-bootstrap';import{useAuth}from'../../contexts/AuthContext';import{useNotification}from'../../contexts/NotificationContext';import contractService from'../../services/contractService';import LoadingSpinner from'../Common/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ContractTemplateManager=()=>{const{hasPermission}=useAuth();const{showSuccess,showError}=useNotification();const[loading,setLoading]=useState(true);const[templates,setTemplates]=useState([]);const[showCreateModal,setShowCreateModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[selectedTemplate,setSelectedTemplate]=useState(null);const[showPreviewModal,setShowPreviewModal]=useState(false);// Template form data\nconst[formData,setFormData]=useState({template_name:'',template_code:'',template_type:'warehouse_rental',template_content:'',variables:[],version:'1.0',is_active:true,is_default:false});// Variable management\nconst[newVariable,setNewVariable]=useState({name:'',type:'text',required:true,description:''});// Load templates\nconst loadTemplates=useCallback(async()=>{try{setLoading(true);const response=await contractService.getContractTemplates();setTemplates(response.data);}catch(error){showError('Không thể tải danh sách mẫu hợp đồng: '+error.message);}finally{setLoading(false);}},[showError]);useEffect(()=>{if(hasPermission('contract_template_read')){loadTemplates();}},[hasPermission,loadTemplates]);// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();try{if(selectedTemplate){await contractService.updateContractTemplate(selectedTemplate.id,formData);showSuccess('Cập nhật mẫu hợp đồng thành công');setShowEditModal(false);}else{await contractService.createContractTemplate(formData);showSuccess('Tạo mẫu hợp đồng thành công');setShowCreateModal(false);}loadTemplates();resetForm();}catch(error){showError('Lỗi: '+error.message);}};// Reset form\nconst resetForm=()=>{setFormData({template_name:'',template_code:'',template_type:'warehouse_rental',template_content:'',variables:[],version:'1.0',is_active:true,is_default:false});setSelectedTemplate(null);};// Add variable\nconst addVariable=()=>{if(!newVariable.name.trim())return;const variable={name:newVariable.name,type:newVariable.type,required:newVariable.required,description:newVariable.description};setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{variables:[...prev.variables,variable]}));setNewVariable({name:'',type:'text',required:true,description:''});};// Remove variable\nconst removeVariable=index=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{variables:prev.variables.filter((_,i)=>i!==index)}));};// Edit template\nconst editTemplate=template=>{setFormData({template_name:template.template_name,template_code:template.template_code,template_type:template.template_type,template_content:template.template_content,variables:template.variables||[],version:template.version,is_active:template.is_active,is_default:template.is_default});setSelectedTemplate(template);setShowEditModal(true);};// Preview template\nconst previewTemplate=async template=>{try{const response=await contractService.getContractTemplate(template.id);setSelectedTemplate(response.data);setShowPreviewModal(true);}catch(error){showError('Không thể tải chi tiết mẫu: '+error.message);}};// Default contract template content\nconst defaultTemplateContent=\"\\n<div class=\\\"contract-header\\\">\\n  <h1 style=\\\"text-align: center;\\\">H\\u1EE2P \\u0110\\u1ED2NG THU\\xCA KHO</h1>\\n  <p style=\\\"text-align: center;\\\">S\\u1ED1: {{contract_number}}</p>\\n</div>\\n\\n<div class=\\\"contract-parties\\\">\\n  <h3>C\\xC1C B\\xCAN THAM GIA H\\u1EE2P \\u0110\\u1ED2NG</h3>\\n  \\n  <h4>B\\xCAN CHO THU\\xCA (B\\xEAn A):</h4>\\n  <p><strong>T\\xEAn:</strong> {{party_a_name}}</p>\\n  <p><strong>\\u0110\\u1ECBa ch\\u1EC9:</strong> {{party_a_address}}</p>\\n  <p><strong>Ng\\u01B0\\u1EDDi \\u0111\\u1EA1i di\\u1EC7n:</strong> {{party_a_representative}} - {{party_a_position}}</p>\\n  <p><strong>CMND/CCCD:</strong> {{party_a_id_number}}</p>\\n  \\n  <h4>B\\xCAN THU\\xCA (B\\xEAn B):</h4>\\n  <p><strong>T\\xEAn c\\xF4ng ty:</strong> {{party_b_name}}</p>\\n  <p><strong>\\u0110\\u1ECBa ch\\u1EC9:</strong> {{party_b_address}}</p>\\n  <p><strong>M\\xE3 s\\u1ED1 thu\\u1EBF:</strong> {{party_b_tax_code}}</p>\\n  <p><strong>Ng\\u01B0\\u1EDDi \\u0111\\u1EA1i di\\u1EC7n:</strong> {{party_b_representative}} - {{party_b_position}}</p>\\n</div>\\n\\n<div class=\\\"contract-terms\\\">\\n  <h3>\\u0110I\\u1EC0U KHO\\u1EA2N H\\u1EE2P \\u0110\\u1ED2NG</h3>\\n  \\n  <h4>\\u0110i\\u1EC1u 1: \\u0110\\u1ED1i t\\u01B0\\u1EE3ng thu\\xEA</h4>\\n  <p>B\\xEAn A \\u0111\\u1ED3ng \\xFD cho B\\xEAn B thu\\xEA kho t\\u1EA1i v\\u1ECB tr\\xED: <strong>{{warehouse_location}}</strong></p>\\n  <p>Di\\u1EC7n t\\xEDch: <strong>{{warehouse_area}} m\\xB2</strong></p>\\n  \\n  <h4>\\u0110i\\u1EC1u 2: Th\\u1EDDi h\\u1EA1n thu\\xEA</h4>\\n  <p>T\\u1EEB ng\\xE0y: <strong>{{start_date}}</strong> \\u0111\\u1EBFn ng\\xE0y: <strong>{{end_date}}</strong></p>\\n  \\n  <h4>\\u0110i\\u1EC1u 3: Gi\\xE1 thu\\xEA v\\xE0 thanh to\\xE1n</h4>\\n  <p>Gi\\xE1 thu\\xEA: <strong>{{rental_price}} VN\\u0110/th\\xE1ng</strong></p>\\n  <p>Ti\\u1EC1n c\\u1ECDc: <strong>{{deposit_amount}} VN\\u0110</strong></p>\\n  <p>Chu k\\u1EF3 thanh to\\xE1n: <strong>{{payment_cycle}}</strong></p>\\n  <p>H\\u1EA1n thanh to\\xE1n: Tr\\u01B0\\u1EDBc ng\\xE0y <strong>{{payment_due_date}}</strong> h\\xE0ng th\\xE1ng</p>\\n  \\n  <h4>\\u0110i\\u1EC1u 4: M\\u1EE5c \\u0111\\xEDch s\\u1EED d\\u1EE5ng</h4>\\n  <p>{{warehouse_purpose}}</p>\\n  \\n  <h4>\\u0110i\\u1EC1u 5: \\u0110i\\u1EC1u kho\\u1EA3n \\u0111\\u1EB7c bi\\u1EC7t</h4>\\n  <p>{{special_terms}}</p>\\n</div>\\n\\n<div class=\\\"contract-signature\\\">\\n  <div style=\\\"display: flex; justify-content: space-between; margin-top: 50px;\\\">\\n    <div style=\\\"text-align: center;\\\">\\n      <p><strong>B\\xCAN A</strong></p>\\n      <p>(K\\xFD t\\xEAn v\\xE0 \\u0111\\xF3ng d\\u1EA5u)</p>\\n      <br><br><br>\\n      <p>{{party_a_representative}}</p>\\n    </div>\\n    <div style=\\\"text-align: center;\\\">\\n      <p><strong>B\\xCAN B</strong></p>\\n      <p>(K\\xFD t\\xEAn v\\xE0 \\u0111\\xF3ng d\\u1EA5u)</p>\\n      <br><br><br>\\n      <p>{{party_b_representative}}</p>\\n    </div>\\n  </div>\\n</div>\\n  \";if(!hasPermission('contract_template_read')){return/*#__PURE__*/_jsx(Container,{className:\"mt-4\",children:/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:\"B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp qu\\u1EA3n l\\xFD m\\u1EABu h\\u1EE3p \\u0111\\u1ED3ng.\"})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"mt-4\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-alt me-2\"}),\"Qu\\u1EA3n l\\xFD m\\u1EABu h\\u1EE3p \\u0111\\u1ED3ng\"]}),hasPermission('contract_template_create')&&/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:()=>{resetForm();setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{template_content:defaultTemplateContent}));setShowCreateModal(true);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"T\\u1EA1o m\\u1EABu m\\u1EDBi\"]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[\"Danh s\\xE1ch m\\u1EABu h\\u1EE3p \\u0111\\u1ED3ng (\",templates.length,\")\"]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-0\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-4\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})}):/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn m\\u1EABu\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3 m\\u1EABu\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lo\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phi\\xEAn b\\u1EA3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1EED d\\u1EE5ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\u01B0\\u1EDDi t\\u1EA1o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y t\\u1EA1o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:templates.map(template=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:template.template_name}),template.is_default&&/*#__PURE__*/_jsx(Badge,{bg:\"primary\",className:\"ms-2\",children:\"M\\u1EB7c \\u0111\\u1ECBnh\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"code\",{children:template.template_code})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:template.template_type==='warehouse_rental'?'Thuê kho':template.template_type==='service_agreement'?'Dịch vụ':'Phụ lục'})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"v\",template.version]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:template.is_active?'success':'secondary',children:template.is_active?'Hoạt động':'Ngưng'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[template.usage_count||0,\" l\\u1EA7n\"]})}),/*#__PURE__*/_jsx(\"td\",{children:template.created_by_name}),/*#__PURE__*/_jsx(\"td\",{children:new Date(template.created_at).toLocaleDateString('vi-VN')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",size:\"sm\",onClick:()=>previewTemplate(template),title:\"Xem tr\\u01B0\\u1EDBc\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})}),hasPermission('contract_template_update')&&/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>editTemplate(template),title:\"Ch\\u1EC9nh s\\u1EEDa\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})]})})]},template.id))})]})})]})]})}),/*#__PURE__*/_jsxs(Modal,{show:showCreateModal||showEditModal,onHide:()=>{setShowCreateModal(false);setShowEditModal(false);resetForm();},size:\"xl\",scrollable:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:selectedTemplate?'Chỉnh sửa mẫu hợp đồng':'Tạo mẫu hợp đồng mới'})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"basic\",className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Tab,{eventKey:\"basic\",title:\"Th\\xF4ng tin c\\u01A1 b\\u1EA3n\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"T\\xEAn m\\u1EABu *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.template_name,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{template_name:e.target.value})),placeholder:\"VD: H\\u1EE3p \\u0111\\u1ED3ng thu\\xEA kho ti\\xEAu chu\\u1EA9n\",required:true})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"M\\xE3 m\\u1EABu *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.template_code,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{template_code:e.target.value.toUpperCase()})),placeholder:\"VD: STANDARD_WAREHOUSE_RENTAL\",required:true})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Lo\\u1EA1i m\\u1EABu\"}),/*#__PURE__*/_jsxs(Form.Select,{value:formData.template_type,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{template_type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"warehouse_rental\",children:\"H\\u1EE3p \\u0111\\u1ED3ng thu\\xEA kho\"}),/*#__PURE__*/_jsx(\"option\",{value:\"service_agreement\",children:\"H\\u1EE3p \\u0111\\u1ED3ng d\\u1ECBch v\\u1EE5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"amendment\",children:\"Ph\\u1EE5 l\\u1EE5c h\\u1EE3p \\u0111\\u1ED3ng\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phi\\xEAn b\\u1EA3n\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.version,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{version:e.target.value})),placeholder:\"1.0\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"T\\xF9y ch\\u1ECDn\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",id:\"is_active\",label:\"Ho\\u1EA1t \\u0111\\u1ED9ng\",checked:formData.is_active,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{is_active:e.target.checked}))}),/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",id:\"is_default\",label:\"M\\u1EB7c \\u0111\\u1ECBnh\",checked:formData.is_default,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{is_default:e.target.checked}))})]})]})})]})]}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"variables\",title:\"Bi\\u1EBFn (\".concat(formData.variables.length,\")\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Th\\xEAm bi\\u1EBFn m\\u1EDBi\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"T\\xEAn bi\\u1EBFn (VD: contract_number)\",value:newVariable.name,onChange:e=>setNewVariable(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}))})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(Form.Select,{value:newVariable.type,onChange:e=>setNewVariable(prev=>_objectSpread(_objectSpread({},prev),{},{type:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"Text\"}),/*#__PURE__*/_jsx(\"option\",{value:\"number\",children:\"Number\"}),/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"currency\",children:\"Currency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"boolean\",children:\"Boolean\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"M\\xF4 t\\u1EA3\",value:newVariable.description,onChange:e=>setNewVariable(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value}))})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:\"B\\u1EAFt bu\\u1ED9c\",checked:newVariable.required,onChange:e=>setNewVariable(prev=>_objectSpread(_objectSpread({},prev),{},{required:e.target.checked}))})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:addVariable,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})})]})]}),formData.variables.length>0&&/*#__PURE__*/_jsxs(Table,{size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn bi\\u1EBFn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lo\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"B\\u1EAFt bu\\u1ED9c\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:formData.variables.map((variable,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"code\",{children:\"{{\".concat(variable.name,\"}}\")})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:variable.type})}),/*#__PURE__*/_jsx(\"td\",{children:variable.description}),/*#__PURE__*/_jsx(\"td\",{children:variable.required&&/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"B\\u1EAFt bu\\u1ED9c\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:()=>removeVariable(index),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]},index))})]})]}),/*#__PURE__*/_jsx(Tab,{eventKey:\"content\",title:\"N\\u1ED9i dung m\\u1EABu\",children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"N\\u1ED9i dung HTML\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:20,value:formData.template_content,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{template_content:e.target.value})),placeholder:\"Nh\\u1EADp n\\u1ED9i dung HTML cho m\\u1EABu h\\u1EE3p \\u0111\\u1ED3ng...\",style:{fontFamily:'monospace',fontSize:'14px'}}),/*#__PURE__*/_jsxs(Form.Text,{className:\"text-muted\",children:[\"S\\u1EED d\\u1EE5ng c\\xFA ph\\xE1p \",\"{{variable_name}}\",\" \\u0111\\u1EC3 ch\\xE8n bi\\u1EBFn v\\xE0o n\\u1ED9i dung\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>{setShowCreateModal(false);setShowEditModal(false);resetForm();},children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",variant:\"primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save me-2\"}),selectedTemplate?'Cập nhật':'Tạo mới']})]})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showPreviewModal,onHide:()=>setShowPreviewModal(false),size:\"xl\",scrollable:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Xem tr\\u01B0\\u1EDBc m\\u1EABu: \",selectedTemplate===null||selectedTemplate===void 0?void 0:selectedTemplate.template_name]})}),/*#__PURE__*/_jsx(Modal.Body,{children:selectedTemplate&&/*#__PURE__*/_jsx(\"div\",{className:\"border p-3\",dangerouslySetInnerHTML:{__html:selectedTemplate.template_content}})})]})]});};export default ContractTemplateManager;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Row","Col","Card","Button","Table","Badge","Form","Modal","Alert","Tabs","Tab","useAuth","useNotification","contractService","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","ContractTemplateManager","hasPermission","showSuccess","showError","loading","setLoading","templates","setTemplates","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","selectedTemplate","setSelectedTemplate","showPreviewModal","setShowPreviewModal","formData","setFormData","template_name","template_code","template_type","template_content","variables","version","is_active","is_default","newVariable","setNewVariable","name","type","required","description","loadTemplates","response","getContractTemplates","data","error","message","handleSubmit","e","preventDefault","updateContractTemplate","id","createContractTemplate","resetForm","addVariable","trim","variable","prev","_objectSpread","removeVariable","index","filter","_","i","editTemplate","template","previewTemplate","getContractTemplate","defaultTemplateContent","className","children","variant","fluid","onClick","Header","length","Body","responsive","hover","map","bg","usage_count","created_by_name","Date","created_at","toLocaleDateString","size","title","show","onHide","scrollable","closeButton","Title","onSubmit","defaultActiveKey","eventKey","md","Group","Label","Control","value","onChange","target","placeholder","toUpperCase","Select","Check","label","checked","concat","as","rows","style","fontFamily","fontSize","Text","dangerouslySetInnerHTML","__html"],"sources":["D:/MinhVietGroup/InventoryProject/MVG_InventoryManagement/KinhDoanh/client/src/components/Contracts/ContractTemplateManager.js"],"sourcesContent":["/**\r\n * Contract Template Manager - Quản lý mẫu hợp đồng\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { \r\n  Container, Row, Col, Card, Button, Table, Badge, Form, \r\n  Modal, Alert, Tabs, Tab \r\n} from 'react-bootstrap';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNotification } from '../../contexts/NotificationContext';\r\nimport contractService from '../../services/contractService';\r\nimport LoadingSpinner from '../Common/LoadingSpinner';\r\n\r\nconst ContractTemplateManager = () => {\r\n  const { hasPermission } = useAuth();\r\n  const { showSuccess, showError } = useNotification();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [templates, setTemplates] = useState([]);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\r\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\r\n\r\n  // Template form data\r\n  const [formData, setFormData] = useState({\r\n    template_name: '',\r\n    template_code: '',\r\n    template_type: 'warehouse_rental',\r\n    template_content: '',\r\n    variables: [],\r\n    version: '1.0',\r\n    is_active: true,\r\n    is_default: false\r\n  });\r\n\r\n  // Variable management\r\n  const [newVariable, setNewVariable] = useState({\r\n    name: '',\r\n    type: 'text',\r\n    required: true,\r\n    description: ''\r\n  });\r\n\r\n  // Load templates\r\n  const loadTemplates = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await contractService.getContractTemplates();\r\n      setTemplates(response.data);\r\n    } catch (error) {\r\n      showError('Không thể tải danh sách mẫu hợp đồng: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [showError]);\r\n\r\n  useEffect(() => {\r\n    if (hasPermission('contract_template_read')) {\r\n      loadTemplates();\r\n    }\r\n  }, [hasPermission, loadTemplates]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      if (selectedTemplate) {\r\n        await contractService.updateContractTemplate(selectedTemplate.id, formData);\r\n        showSuccess('Cập nhật mẫu hợp đồng thành công');\r\n        setShowEditModal(false);\r\n      } else {\r\n        await contractService.createContractTemplate(formData);\r\n        showSuccess('Tạo mẫu hợp đồng thành công');\r\n        setShowCreateModal(false);\r\n      }\r\n      \r\n      loadTemplates();\r\n      resetForm();\r\n    } catch (error) {\r\n      showError('Lỗi: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Reset form\r\n  const resetForm = () => {\r\n    setFormData({\r\n      template_name: '',\r\n      template_code: '',\r\n      template_type: 'warehouse_rental',\r\n      template_content: '',\r\n      variables: [],\r\n      version: '1.0',\r\n      is_active: true,\r\n      is_default: false\r\n    });\r\n    setSelectedTemplate(null);\r\n  };\r\n\r\n  // Add variable\r\n  const addVariable = () => {\r\n    if (!newVariable.name.trim()) return;\r\n    \r\n    const variable = {\r\n      name: newVariable.name,\r\n      type: newVariable.type,\r\n      required: newVariable.required,\r\n      description: newVariable.description\r\n    };\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      variables: [...prev.variables, variable]\r\n    }));\r\n    \r\n    setNewVariable({ name: '', type: 'text', required: true, description: '' });\r\n  };\r\n\r\n  // Remove variable\r\n  const removeVariable = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      variables: prev.variables.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  // Edit template\r\n  const editTemplate = (template) => {\r\n    setFormData({\r\n      template_name: template.template_name,\r\n      template_code: template.template_code,\r\n      template_type: template.template_type,\r\n      template_content: template.template_content,\r\n      variables: template.variables || [],\r\n      version: template.version,\r\n      is_active: template.is_active,\r\n      is_default: template.is_default\r\n    });\r\n    setSelectedTemplate(template);\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  // Preview template\r\n  const previewTemplate = async (template) => {\r\n    try {\r\n      const response = await contractService.getContractTemplate(template.id);\r\n      setSelectedTemplate(response.data);\r\n      setShowPreviewModal(true);\r\n    } catch (error) {\r\n      showError('Không thể tải chi tiết mẫu: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Default contract template content\r\n  const defaultTemplateContent = `\r\n<div class=\"contract-header\">\r\n  <h1 style=\"text-align: center;\">HỢP ĐỒNG THUÊ KHO</h1>\r\n  <p style=\"text-align: center;\">Số: {{contract_number}}</p>\r\n</div>\r\n\r\n<div class=\"contract-parties\">\r\n  <h3>CÁC BÊN THAM GIA HỢP ĐỒNG</h3>\r\n  \r\n  <h4>BÊN CHO THUÊ (Bên A):</h4>\r\n  <p><strong>Tên:</strong> {{party_a_name}}</p>\r\n  <p><strong>Địa chỉ:</strong> {{party_a_address}}</p>\r\n  <p><strong>Người đại diện:</strong> {{party_a_representative}} - {{party_a_position}}</p>\r\n  <p><strong>CMND/CCCD:</strong> {{party_a_id_number}}</p>\r\n  \r\n  <h4>BÊN THUÊ (Bên B):</h4>\r\n  <p><strong>Tên công ty:</strong> {{party_b_name}}</p>\r\n  <p><strong>Địa chỉ:</strong> {{party_b_address}}</p>\r\n  <p><strong>Mã số thuế:</strong> {{party_b_tax_code}}</p>\r\n  <p><strong>Người đại diện:</strong> {{party_b_representative}} - {{party_b_position}}</p>\r\n</div>\r\n\r\n<div class=\"contract-terms\">\r\n  <h3>ĐIỀU KHOẢN HỢP ĐỒNG</h3>\r\n  \r\n  <h4>Điều 1: Đối tượng thuê</h4>\r\n  <p>Bên A đồng ý cho Bên B thuê kho tại vị trí: <strong>{{warehouse_location}}</strong></p>\r\n  <p>Diện tích: <strong>{{warehouse_area}} m²</strong></p>\r\n  \r\n  <h4>Điều 2: Thời hạn thuê</h4>\r\n  <p>Từ ngày: <strong>{{start_date}}</strong> đến ngày: <strong>{{end_date}}</strong></p>\r\n  \r\n  <h4>Điều 3: Giá thuê và thanh toán</h4>\r\n  <p>Giá thuê: <strong>{{rental_price}} VNĐ/tháng</strong></p>\r\n  <p>Tiền cọc: <strong>{{deposit_amount}} VNĐ</strong></p>\r\n  <p>Chu kỳ thanh toán: <strong>{{payment_cycle}}</strong></p>\r\n  <p>Hạn thanh toán: Trước ngày <strong>{{payment_due_date}}</strong> hàng tháng</p>\r\n  \r\n  <h4>Điều 4: Mục đích sử dụng</h4>\r\n  <p>{{warehouse_purpose}}</p>\r\n  \r\n  <h4>Điều 5: Điều khoản đặc biệt</h4>\r\n  <p>{{special_terms}}</p>\r\n</div>\r\n\r\n<div class=\"contract-signature\">\r\n  <div style=\"display: flex; justify-content: space-between; margin-top: 50px;\">\r\n    <div style=\"text-align: center;\">\r\n      <p><strong>BÊN A</strong></p>\r\n      <p>(Ký tên và đóng dấu)</p>\r\n      <br><br><br>\r\n      <p>{{party_a_representative}}</p>\r\n    </div>\r\n    <div style=\"text-align: center;\">\r\n      <p><strong>BÊN B</strong></p>\r\n      <p>(Ký tên và đóng dấu)</p>\r\n      <br><br><br>\r\n      <p>{{party_b_representative}}</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n  `;\r\n\r\n  if (!hasPermission('contract_template_read')) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Alert variant=\"warning\">\r\n          Bạn không có quyền truy cập quản lý mẫu hợp đồng.\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"mt-4\">\r\n      <Row>\r\n        <Col>\r\n          {/* Header */}\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h2>\r\n              <i className=\"fas fa-file-alt me-2\"></i>\r\n              Quản lý mẫu hợp đồng\r\n            </h2>\r\n            \r\n            {hasPermission('contract_template_create') && (\r\n              <Button \r\n                variant=\"primary\" \r\n                onClick={() => {\r\n                  resetForm();\r\n                  setFormData(prev => ({ ...prev, template_content: defaultTemplateContent }));\r\n                  setShowCreateModal(true);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-plus me-2\"></i>\r\n                Tạo mẫu mới\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Templates Table */}\r\n          <Card>\r\n            <Card.Header>\r\n              <h5 className=\"mb-0\">\r\n                Danh sách mẫu hợp đồng ({templates.length})\r\n              </h5>\r\n            </Card.Header>\r\n            \r\n            <Card.Body className=\"p-0\">\r\n              {loading ? (\r\n                <div className=\"text-center p-4\">\r\n                  <LoadingSpinner />\r\n                </div>\r\n              ) : (\r\n                <Table responsive hover className=\"mb-0\">\r\n                  <thead className=\"table-light\">\r\n                    <tr>\r\n                      <th>Tên mẫu</th>\r\n                      <th>Mã mẫu</th>\r\n                      <th>Loại</th>\r\n                      <th>Phiên bản</th>\r\n                      <th>Trạng thái</th>\r\n                      <th>Sử dụng</th>\r\n                      <th>Người tạo</th>\r\n                      <th>Ngày tạo</th>\r\n                      <th>Thao tác</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {templates.map(template => (\r\n                      <tr key={template.id}>\r\n                        <td>\r\n                          <div>\r\n                            <strong>{template.template_name}</strong>\r\n                            {template.is_default && (\r\n                              <Badge bg=\"primary\" className=\"ms-2\">Mặc định</Badge>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <code>{template.template_code}</code>\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg=\"info\">\r\n                            {template.template_type === 'warehouse_rental' ? 'Thuê kho' : \r\n                             template.template_type === 'service_agreement' ? 'Dịch vụ' : \r\n                             'Phụ lục'}\r\n                          </Badge>\r\n                        </td>\r\n                        <td>v{template.version}</td>\r\n                        <td>\r\n                          <Badge bg={template.is_active ? 'success' : 'secondary'}>\r\n                            {template.is_active ? 'Hoạt động' : 'Ngưng'}\r\n                          </Badge>\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg=\"secondary\">\r\n                            {template.usage_count || 0} lần\r\n                          </Badge>\r\n                        </td>\r\n                        <td>{template.created_by_name}</td>\r\n                        <td>\r\n                          {new Date(template.created_at).toLocaleDateString('vi-VN')}\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex gap-1\">\r\n                            <Button \r\n                              variant=\"outline-info\" \r\n                              size=\"sm\"\r\n                              onClick={() => previewTemplate(template)}\r\n                              title=\"Xem trước\"\r\n                            >\r\n                              <i className=\"fas fa-eye\"></i>\r\n                            </Button>\r\n                            \r\n                            {hasPermission('contract_template_update') && (\r\n                              <Button \r\n                                variant=\"outline-primary\" \r\n                                size=\"sm\"\r\n                                onClick={() => editTemplate(template)}\r\n                                title=\"Chỉnh sửa\"\r\n                              >\r\n                                <i className=\"fas fa-edit\"></i>\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Create/Edit Template Modal */}\r\n      <Modal \r\n        show={showCreateModal || showEditModal} \r\n        onHide={() => {\r\n          setShowCreateModal(false);\r\n          setShowEditModal(false);\r\n          resetForm();\r\n        }}\r\n        size=\"xl\"\r\n        scrollable\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {selectedTemplate ? 'Chỉnh sửa mẫu hợp đồng' : 'Tạo mẫu hợp đồng mới'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Tabs defaultActiveKey=\"basic\" className=\"mb-3\">\r\n              <Tab eventKey=\"basic\" title=\"Thông tin cơ bản\">\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Tên mẫu *</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={formData.template_name}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          template_name: e.target.value\r\n                        }))}\r\n                        placeholder=\"VD: Hợp đồng thuê kho tiêu chuẩn\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  \r\n                  <Col md={6}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Mã mẫu *</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={formData.template_code}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          template_code: e.target.value.toUpperCase()\r\n                        }))}\r\n                        placeholder=\"VD: STANDARD_WAREHOUSE_RENTAL\"\r\n                        required\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <Col md={4}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Loại mẫu</Form.Label>\r\n                      <Form.Select\r\n                        value={formData.template_type}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          template_type: e.target.value\r\n                        }))}\r\n                      >\r\n                        <option value=\"warehouse_rental\">Hợp đồng thuê kho</option>\r\n                        <option value=\"service_agreement\">Hợp đồng dịch vụ</option>\r\n                        <option value=\"amendment\">Phụ lục hợp đồng</option>\r\n                      </Form.Select>\r\n                    </Form.Group>\r\n                  </Col>\r\n                  \r\n                  <Col md={4}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Phiên bản</Form.Label>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        value={formData.version}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                          ...prev,\r\n                          version: e.target.value\r\n                        }))}\r\n                        placeholder=\"1.0\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  \r\n                  <Col md={4}>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Form.Label>Tùy chọn</Form.Label>\r\n                      <div>\r\n                        <Form.Check\r\n                          type=\"checkbox\"\r\n                          id=\"is_active\"\r\n                          label=\"Hoạt động\"\r\n                          checked={formData.is_active}\r\n                          onChange={(e) => setFormData(prev => ({\r\n                            ...prev,\r\n                            is_active: e.target.checked\r\n                          }))}\r\n                        />\r\n                        <Form.Check\r\n                          type=\"checkbox\"\r\n                          id=\"is_default\"\r\n                          label=\"Mặc định\"\r\n                          checked={formData.is_default}\r\n                          onChange={(e) => setFormData(prev => ({\r\n                            ...prev,\r\n                            is_default: e.target.checked\r\n                          }))}\r\n                        />\r\n                      </div>\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"variables\" title={`Biến (${formData.variables.length})`}>\r\n                <div className=\"mb-3\">\r\n                  <h5>Thêm biến mới</h5>\r\n                  <Row>\r\n                    <Col md={3}>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Tên biến (VD: contract_number)\"\r\n                        value={newVariable.name}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          name: e.target.value\r\n                        }))}\r\n                      />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Form.Select\r\n                        value={newVariable.type}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          type: e.target.value\r\n                        }))}\r\n                      >\r\n                        <option value=\"text\">Text</option>\r\n                        <option value=\"number\">Number</option>\r\n                        <option value=\"date\">Date</option>\r\n                        <option value=\"currency\">Currency</option>\r\n                        <option value=\"boolean\">Boolean</option>\r\n                      </Form.Select>\r\n                    </Col>\r\n                    <Col md={4}>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Mô tả\"\r\n                        value={newVariable.description}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          description: e.target.value\r\n                        }))}\r\n                      />\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Form.Check\r\n                        type=\"checkbox\"\r\n                        label=\"Bắt buộc\"\r\n                        checked={newVariable.required}\r\n                        onChange={(e) => setNewVariable(prev => ({\r\n                          ...prev,\r\n                          required: e.target.checked\r\n                        }))}\r\n                      />\r\n                    </Col>\r\n                    <Col md={1}>\r\n                      <Button variant=\"success\" onClick={addVariable}>\r\n                        <i className=\"fas fa-plus\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n\r\n                {formData.variables.length > 0 && (\r\n                  <Table size=\"sm\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Tên biến</th>\r\n                        <th>Loại</th>\r\n                        <th>Mô tả</th>\r\n                        <th>Bắt buộc</th>\r\n                        <th>Thao tác</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {formData.variables.map((variable, index) => (\r\n                        <tr key={index}>\r\n                          <td><code>{`{{${variable.name}}}`}</code></td>\r\n                          <td><Badge bg=\"info\">{variable.type}</Badge></td>\r\n                          <td>{variable.description}</td>\r\n                          <td>\r\n                            {variable.required && (\r\n                              <Badge bg=\"warning\">Bắt buộc</Badge>\r\n                            )}\r\n                          </td>\r\n                          <td>\r\n                            <Button \r\n                              variant=\"outline-danger\" \r\n                              size=\"sm\"\r\n                              onClick={() => removeVariable(index)}\r\n                            >\r\n                              <i className=\"fas fa-trash\"></i>\r\n                            </Button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                )}\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"content\" title=\"Nội dung mẫu\">\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Nội dung HTML</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={20}\r\n                    value={formData.template_content}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      template_content: e.target.value\r\n                    }))}\r\n                    placeholder=\"Nhập nội dung HTML cho mẫu hợp đồng...\"\r\n                    style={{ fontFamily: 'monospace', fontSize: '14px' }}\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Sử dụng cú pháp {`{{variable_name}}`} để chèn biến vào nội dung\r\n                  </Form.Text>\r\n                </Form.Group>\r\n              </Tab>\r\n            </Tabs>\r\n\r\n            <div className=\"d-flex justify-content-end gap-2\">\r\n              <Button \r\n                variant=\"secondary\"\r\n                onClick={() => {\r\n                  setShowCreateModal(false);\r\n                  setShowEditModal(false);\r\n                  resetForm();\r\n                }}\r\n              >\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"submit\" variant=\"primary\">\r\n                <i className=\"fas fa-save me-2\"></i>\r\n                {selectedTemplate ? 'Cập nhật' : 'Tạo mới'}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* Preview Template Modal */}\r\n      <Modal \r\n        show={showPreviewModal} \r\n        onHide={() => setShowPreviewModal(false)}\r\n        size=\"xl\"\r\n        scrollable\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            Xem trước mẫu: {selectedTemplate?.template_name}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {selectedTemplate && (\r\n            <div className=\"border p-3\" \r\n                 dangerouslySetInnerHTML={{ __html: selectedTemplate.template_content }} \r\n            />\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ContractTemplateManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}