{"ast":null,"code":"/**\r\n * Contracts Page - KHO MVG\r\n * Quản lý hợp đồng cho thuê kho xưởng\r\n */import React,{useState}from'react';import{Container,Nav,Tab}from'react-bootstrap';import{useAuth}from'../contexts/AuthContext';import ContractManager from'../components/Contracts/ContractManager';import ContractTemplateManager from'../components/Contracts/ContractTemplateManager';import{useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Contracts(){const location=useLocation();const searchParams=new URLSearchParams(location.search);const pathname=location.pathname||'';const initialOpenCreate=pathname.endsWith('/contracts/create')||searchParams.get('create')==='1'||searchParams.get('open')==='create';const initialCustomerId=searchParams.get('customer')||'';const{hasPermission}=useAuth();const[activeTab,setActiveTab]=useState('contracts');if(!hasPermission('contract_read')){return/*#__PURE__*/_jsx(Container,{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),\"B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp qu\\u1EA3n l\\xFD h\\u1EE3p \\u0111\\u1ED3ng.\"]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"contracts-page\",children:/*#__PURE__*/_jsxs(Tab.Container,{activeKey:activeTab,onSelect:setActiveTab,children:[/*#__PURE__*/_jsx(Container,{fluid:true,className:\"bg-light border-bottom\",children:/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",className:\"border-0\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"contracts\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-contract me-2\"}),\"Qu\\u1EA3n l\\xFD h\\u1EE3p \\u0111\\u1ED3ng\"]})}),hasPermission('contract_template_read')&&/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"templates\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-alt me-2\"}),\"M\\u1EABu h\\u1EE3p \\u0111\\u1ED3ng\"]})})]})}),/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"contracts\",children:/*#__PURE__*/_jsx(ContractManager,{initialOpenCreate:initialOpenCreate,initialCustomerId:initialCustomerId})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"templates\",children:/*#__PURE__*/_jsx(ContractTemplateManager,{})})]})]})});}export default Contracts;","map":{"version":3,"names":["React","useState","Container","Nav","Tab","useAuth","ContractManager","ContractTemplateManager","useLocation","jsx","_jsx","jsxs","_jsxs","Contracts","location","searchParams","URLSearchParams","search","pathname","initialOpenCreate","endsWith","get","initialCustomerId","hasPermission","activeTab","setActiveTab","className","children","activeKey","onSelect","fluid","variant","Item","Link","eventKey","Content","Pane"],"sources":["C:/Users/Admin/Documents/GitHub/MVG_InventoryManagement/KinhDoanh/client/src/pages/Contracts.js"],"sourcesContent":["/**\r\n * Contracts Page - KHO MVG\r\n * Quản lý hợp đồng cho thuê kho xưởng\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Container, Nav, Tab } from 'react-bootstrap';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport ContractManager from '../components/Contracts/ContractManager';\r\nimport ContractTemplateManager from '../components/Contracts/ContractTemplateManager';\r\n\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction Contracts() {\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const pathname = location.pathname || '';\r\n  const initialOpenCreate = pathname.endsWith('/contracts/create') || searchParams.get('create') === '1' || searchParams.get('open') === 'create';\r\n  const initialCustomerId = searchParams.get('customer') || '';\r\n\r\n  const { hasPermission } = useAuth();\r\n  const [activeTab, setActiveTab] = useState('contracts');\r\n\r\n  if (!hasPermission('contract_read')) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <div className=\"alert alert-warning\">\r\n          <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n          Bạn không có quyền truy cập quản lý hợp đồng.\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"contracts-page\">\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        {/* Tab Navigation */}\r\n        <Container fluid className=\"bg-light border-bottom\">\r\n          <Nav variant=\"tabs\" className=\"border-0\">\r\n            <Nav.Item>\r\n              <Nav.Link eventKey=\"contracts\">\r\n                <i className=\"fas fa-file-contract me-2\"></i>\r\n                Quản lý hợp đồng\r\n              </Nav.Link>\r\n            </Nav.Item>\r\n            \r\n            {hasPermission('contract_template_read') && (\r\n              <Nav.Item>\r\n                <Nav.Link eventKey=\"templates\">\r\n                  <i className=\"fas fa-file-alt me-2\"></i>\r\n                  Mẫu hợp đồng\r\n                </Nav.Link>\r\n              </Nav.Item>\r\n            )}\r\n          </Nav>\r\n        </Container>\r\n\r\n        {/* Tab Content */}\r\n        <Tab.Content>\r\n          <Tab.Pane eventKey=\"contracts\">\r\n            <ContractManager initialOpenCreate={initialOpenCreate} initialCustomerId={initialCustomerId} />\r\n          </Tab.Pane>\r\n          \r\n          <Tab.Pane eventKey=\"templates\">\r\n            <ContractTemplateManager />\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      </Tab.Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contracts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}