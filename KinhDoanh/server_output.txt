
> kho-mvg-management@1.0.0 start
> node server.js

ğŸ”§ Äang khá»Ÿi táº¡o database...

================================================================================
ğŸš€ AUTO DATABASE INITIALIZATION - KHO MVG
================================================================================

(node:30476) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
âœ… Káº¿t ná»‘i MySQL thÃ nh cÃ´ng
âœ… Database 'kho_mvg' Ä‘Ã£ sáºµn sÃ ng

ğŸ”„ Database Ä‘Ã£ tá»“n táº¡i, kiá»ƒm tra cáº­p nháº­t...

ğŸ”§ Ãp dá»¥ng indexes...
âš ï¸  Warning executing statement: Table 'kho_mvg.documents' doesn't exist
âš ï¸  Warning executing statement: Table 'kho_mvg.documents' doesn't exist
âš ï¸  Warning executing statement: Table 'kho_mvg.documents' doesn't exist
âš ï¸  Warning executing statement: Table 'kho_mvg.documents' doesn't exist
âš ï¸  Warning executing statement: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PRINT 'Database indexes created successfully!'' at line 1
âœ… Indexes Ä‘Ã£ Ä‘Æ°á»£c Ã¡p dá»¥ng

ğŸ“Š Táº¡o báº£ng client errors...
âœ… Client error tables Ä‘Ã£ Ä‘Æ°á»£c táº¡o

ğŸ‘¤ Kiá»ƒm tra admin user...
âœ… Admin user Ä‘Ã£ tá»“n táº¡i

================================================================================
ğŸ“Š DATABASE SUMMARY
================================================================================

ğŸ“‹ Tá»•ng sá»‘ tables: 13

Top 10 tables:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Table Name                  â”‚ Rows     â”‚ Size (MB)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ai_chat_messages            â”‚        0 â”‚       0.08 â”‚
â”‚ ai_chat_sessions            â”‚        1 â”‚       0.08 â”‚
â”‚ ai_function_definitions     â”‚        0 â”‚       0.03 â”‚
â”‚ ai_query_cache              â”‚        0 â”‚       0.09 â”‚
â”‚ contracts                   â”‚        0 â”‚       0.17 â”‚
â”‚ customers                   â”‚        0 â”‚       0.11 â”‚
â”‚ database_schema_docs        â”‚        0 â”‚       0.03 â”‚
â”‚ projects                    â”‚        0 â”‚       0.17 â”‚
â”‚ user_ai_configs             â”‚        1 â”‚       0.08 â”‚
â”‚ user_logs                   â”‚       15 â”‚       0.16 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Database sáºµn sÃ ng sá»­ dá»¥ng!
================================================================================

âš ï¸  MongoDB not configured or not available. Skipping MongoDB connection...
âœ… MySQL will be used for all data storage.
âœ… MongoDB connected successfully
Ignoring invalid configuration option passed to Connection: acquireTimeout. This is currently a warning, but in future versions of MySQL2, an error will be thrown if you pass an invalid configuration option to a Connection
Ignoring invalid configuration option passed to Connection: timeout. This is currently a warning, but in future versions of MySQL2, an error will be thrown if you pass an invalid configuration option to a Connection
Ignoring invalid configuration option passed to Connection: reconnect. This is currently a warning, but in future versions of MySQL2, an error will be thrown if you pass an invalid configuration option to a Connection
âœ… MySQL connected successfully
ğŸš€ KHO MVG Server Ä‘ang cháº¡y táº¡i port 5000
ğŸ“± Environment: development
ğŸ“š API Docs: http://localhost:5000/api/docs
::1 - - [05/Dec/2025:08:34:06 +0000] "GET /health HTTP/1.1" 200 4583 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.19041.6456"
Error Handler: {
  message: 'Incorrect arguments to mysqld_stmt_execute',
  stack: 'Error: Incorrect arguments to mysqld_stmt_execute\n' +
    '    at PromisePool.execute (C:\\KinhDoanh\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n' +
    '    at C:\\KinhDoanh\\routes\\users.js:156:32\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)',
  url: '/api/users?page=1&limit=5',
  method: 'GET',
  ip: '::1',
  userId: 1
}
Programming Error: {
  message: 'Incorrect arguments to mysqld_stmt_execute',
  code: 'ER_WRONG_ARGUMENTS',
  errno: 1210,
  sql: '\n' +
    '                SELECT u.*, \n' +
    '                       COUNT(DISTINCT up.project_id) as assigned_projects,\n' +
    '                       COUNT(DISTINCT uai.id) as ai_configs_count,\n' +
    '                       MAX(ul.created_at) as last_activity\n' +
    '                FROM users u\n' +
    '                LEFT JOIN user_project_permissions up ON u.id = up.user_id\n' +
    '                LEFT JOIN user_ai_configs uai ON u.id = uai.user_id AND uai.is_active = TRUE\n' +
    '                LEFT JOIN user_logs ul ON u.id = ul.user_id\n' +
    '                WHERE u.is_active = TRUE\n' +
    '             GROUP BY u.id ORDER BY u.created_at DESC LIMIT ? OFFSET ?',
  sqlState: 'HY000',
  sqlMessage: 'Incorrect arguments to mysqld_stmt_execute'
}
::1 - - [05/Dec/2025:08:34:36 +0000] "GET /api/users?page=1&limit=5 HTTP/1.1" 500 863 "-" "Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.19041.6456"
